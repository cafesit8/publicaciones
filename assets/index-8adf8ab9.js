function Lw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function $w(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ml={},Mw={get exports(){return ml},set exports(e){ml=e}},ca={},L={},Fw={get exports(){return L},set exports(e){L=e}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eo=Symbol.for("react.element"),Uw=Symbol.for("react.portal"),Vw=Symbol.for("react.fragment"),bw=Symbol.for("react.strict_mode"),Bw=Symbol.for("react.profiler"),zw=Symbol.for("react.provider"),jw=Symbol.for("react.context"),Hw=Symbol.for("react.forward_ref"),Kw=Symbol.for("react.suspense"),Ww=Symbol.for("react.memo"),qw=Symbol.for("react.lazy"),Od=Symbol.iterator;function Qw(e){return e===null||typeof e!="object"?null:(e=Od&&e[Od]||e["@@iterator"],typeof e=="function"?e:null)}var ag={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ug=Object.assign,cg={};function Oi(e,t,n){this.props=e,this.context=t,this.refs=cg,this.updater=n||ag}Oi.prototype.isReactComponent={};Oi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Oi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hg(){}hg.prototype=Oi.prototype;function Dh(e,t,n){this.props=e,this.context=t,this.refs=cg,this.updater=n||ag}var Rh=Dh.prototype=new hg;Rh.constructor=Dh;ug(Rh,Oi.prototype);Rh.isPureReactComponent=!0;var Pd=Array.isArray,fg=Object.prototype.hasOwnProperty,Oh={current:null},dg={key:!0,ref:!0,__self:!0,__source:!0};function pg(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)fg.call(t,r)&&!dg.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:eo,type:e,key:s,ref:o,props:i,_owner:Oh.current}}function Gw(e,t){return{$$typeof:eo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ph(e){return typeof e=="object"&&e!==null&&e.$$typeof===eo}function Xw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ld=/\/+/g;function ru(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Xw(""+e.key):t.toString(36)}function Jo(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case eo:case Uw:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+ru(o,0):r,Pd(i)?(n="",e!=null&&(n=e.replace(Ld,"$&/")+"/"),Jo(i,t,n,"",function(u){return u})):i!=null&&(Ph(i)&&(i=Gw(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ld,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Pd(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+ru(s,l);o+=Jo(s,t,n,a,i)}else if(a=Qw(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+ru(s,l++),o+=Jo(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Co(e,t,n){if(e==null)return e;var r=[],i=0;return Jo(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Yw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gt={current:null},Zo={transition:null},Jw={ReactCurrentDispatcher:gt,ReactCurrentBatchConfig:Zo,ReactCurrentOwner:Oh};Z.Children={map:Co,forEach:function(e,t,n){Co(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Co(e,function(){t++}),t},toArray:function(e){return Co(e,function(t){return t})||[]},only:function(e){if(!Ph(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=Oi;Z.Fragment=Vw;Z.Profiler=Bw;Z.PureComponent=Dh;Z.StrictMode=bw;Z.Suspense=Kw;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jw;Z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ug({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Oh.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)fg.call(t,a)&&!dg.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:eo,type:e.type,key:i,ref:s,props:r,_owner:o}};Z.createContext=function(e){return e={$$typeof:jw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zw,_context:e},e.Consumer=e};Z.createElement=pg;Z.createFactory=function(e){var t=pg.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:Hw,render:e}};Z.isValidElement=Ph;Z.lazy=function(e){return{$$typeof:qw,_payload:{_status:-1,_result:e},_init:Yw}};Z.memo=function(e,t){return{$$typeof:Ww,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=Zo.transition;Zo.transition={};try{e()}finally{Zo.transition=t}};Z.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Z.useCallback=function(e,t){return gt.current.useCallback(e,t)};Z.useContext=function(e){return gt.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return gt.current.useDeferredValue(e)};Z.useEffect=function(e,t){return gt.current.useEffect(e,t)};Z.useId=function(){return gt.current.useId()};Z.useImperativeHandle=function(e,t,n){return gt.current.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return gt.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return gt.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return gt.current.useMemo(e,t)};Z.useReducer=function(e,t,n){return gt.current.useReducer(e,t,n)};Z.useRef=function(e){return gt.current.useRef(e)};Z.useState=function(e){return gt.current.useState(e)};Z.useSyncExternalStore=function(e,t,n){return gt.current.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return gt.current.useTransition()};Z.version="18.2.0";(function(e){e.exports=Z})(Fw);const $n=$w(L),Ju=Lw({__proto__:null,default:$n},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zw=L,eE=Symbol.for("react.element"),tE=Symbol.for("react.fragment"),nE=Object.prototype.hasOwnProperty,rE=Zw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iE={key:!0,ref:!0,__self:!0,__source:!0};function mg(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)nE.call(t,r)&&!iE.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:eE,type:e,key:s,ref:o,props:i,_owner:rE.current}}ca.Fragment=tE;ca.jsx=mg;ca.jsxs=mg;(function(e){e.exports=ca})(Mw);const oe=ml.jsx,Kr=ml.jsxs;var Zu={},ec={},sE={get exports(){return ec},set exports(e){ec=e}},Dt={},tc={},oE={get exports(){return tc},set exports(e){tc=e}},gg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,j){var W=A.length;A.push(j);e:for(;0<W;){var fe=W-1>>>1,Ie=A[fe];if(0<i(Ie,j))A[fe]=j,A[W]=Ie,W=fe;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var j=A[0],W=A.pop();if(W!==j){A[0]=W;e:for(var fe=0,Ie=A.length,br=Ie>>>1;fe<br;){var un=2*(fe+1)-1,ji=A[un],bt=un+1,Nn=A[bt];if(0>i(ji,W))bt<Ie&&0>i(Nn,ji)?(A[fe]=Nn,A[bt]=W,fe=bt):(A[fe]=ji,A[un]=W,fe=un);else if(bt<Ie&&0>i(Nn,W))A[fe]=Nn,A[bt]=W,fe=bt;else break e}}return j}function i(A,j){var W=A.sortIndex-j.sortIndex;return W!==0?W:A.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,h=null,d=3,y=!1,v=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(A){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=A)r(u),j.sortIndex=j.expirationTime,t(a,j);else break;j=n(u)}}function E(A){if(w=!1,m(A),!v)if(n(a)!==null)v=!0,et(k);else{var j=n(u);j!==null&&vt(E,j.startTime-A)}}function k(A,j){v=!1,w&&(w=!1,p($),$=-1),y=!0;var W=d;try{for(m(j),h=n(a);h!==null&&(!(h.expirationTime>j)||A&&!Ce());){var fe=h.callback;if(typeof fe=="function"){h.callback=null,d=h.priorityLevel;var Ie=fe(h.expirationTime<=j);j=e.unstable_now(),typeof Ie=="function"?h.callback=Ie:h===n(a)&&r(a),m(j)}else r(a);h=n(a)}if(h!==null)var br=!0;else{var un=n(u);un!==null&&vt(E,un.startTime-j),br=!1}return br}finally{h=null,d=W,y=!1}}var D=!1,R=null,$=-1,ne=5,q=-1;function Ce(){return!(e.unstable_now()-q<ne)}function Y(){if(R!==null){var A=e.unstable_now();q=A;var j=!0;try{j=R(!0,A)}finally{j?X():(D=!1,R=null)}}else D=!1}var X;if(typeof f=="function")X=function(){f(Y)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,Ze=he.port2;he.port1.onmessage=Y,X=function(){Ze.postMessage(null)}}else X=function(){T(Y,0)};function et(A){R=A,D||(D=!0,X())}function vt(A,j){$=T(function(){A(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,et(k))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(A){switch(d){case 1:case 2:case 3:var j=3;break;default:j=d}var W=d;d=j;try{return A()}finally{d=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,j){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var W=d;d=A;try{return j()}finally{d=W}},e.unstable_scheduleCallback=function(A,j,W){var fe=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?fe+W:fe):W=fe,A){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=W+Ie,A={id:c++,callback:j,priorityLevel:A,startTime:W,expirationTime:Ie,sortIndex:-1},W>fe?(A.sortIndex=W,t(u,A),n(a)===null&&A===n(u)&&(w?(p($),$=-1):w=!0,vt(E,W-fe))):(A.sortIndex=Ie,t(a,A),v||y||(v=!0,et(k))),A},e.unstable_shouldYield=Ce,e.unstable_wrapCallback=function(A){var j=d;return function(){var W=d;d=j;try{return A.apply(this,arguments)}finally{d=W}}}})(gg);(function(e){e.exports=gg})(oE);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yg=L,Nt=tc;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vg=new Set,Ts={};function Lr(e,t){gi(e,t),gi(e+"Capture",t)}function gi(e,t){for(Ts[e]=t,e=0;e<t.length;e++)vg.add(t[e])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nc=Object.prototype.hasOwnProperty,lE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$d={},Md={};function aE(e){return nc.call(Md,e)?!0:nc.call($d,e)?!1:lE.test(e)?Md[e]=!0:($d[e]=!0,!1)}function uE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cE(e,t,n,r){if(t===null||typeof t>"u"||uE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ye[e]=new yt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ye[t]=new yt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ye[e]=new yt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ye[e]=new yt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ye[e]=new yt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ye[e]=new yt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ye[e]=new yt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ye[e]=new yt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ye[e]=new yt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Lh=/[\-:]([a-z])/g;function $h(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Lh,$h);Ye[t]=new yt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Lh,$h);Ye[t]=new yt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Lh,$h);Ye[t]=new yt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ye[e]=new yt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ye[e]=new yt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Mh(e,t,n,r){var i=Ye.hasOwnProperty(t)?Ye[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cE(t,n,i,r)&&(n=null),r||i===null?aE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var xn=yg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Io=Symbol.for("react.element"),Wr=Symbol.for("react.portal"),qr=Symbol.for("react.fragment"),Fh=Symbol.for("react.strict_mode"),rc=Symbol.for("react.profiler"),wg=Symbol.for("react.provider"),Eg=Symbol.for("react.context"),Uh=Symbol.for("react.forward_ref"),ic=Symbol.for("react.suspense"),sc=Symbol.for("react.suspense_list"),Vh=Symbol.for("react.memo"),Dn=Symbol.for("react.lazy"),Sg=Symbol.for("react.offscreen"),Fd=Symbol.iterator;function Hi(e){return e===null||typeof e!="object"?null:(e=Fd&&e[Fd]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,iu;function ts(e){if(iu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);iu=t&&t[1]||""}return`
`+iu+e}var su=!1;function ou(e,t){if(!e||su)return"";su=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{su=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ts(e):""}function hE(e){switch(e.tag){case 5:return ts(e.type);case 16:return ts("Lazy");case 13:return ts("Suspense");case 19:return ts("SuspenseList");case 0:case 2:case 15:return e=ou(e.type,!1),e;case 11:return e=ou(e.type.render,!1),e;case 1:return e=ou(e.type,!0),e;default:return""}}function oc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qr:return"Fragment";case Wr:return"Portal";case rc:return"Profiler";case Fh:return"StrictMode";case ic:return"Suspense";case sc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Eg:return(e.displayName||"Context")+".Consumer";case wg:return(e._context.displayName||"Context")+".Provider";case Uh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vh:return t=e.displayName||null,t!==null?t:oc(e.type)||"Memo";case Dn:t=e._payload,e=e._init;try{return oc(e(t))}catch{}}return null}function fE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oc(t);case 8:return t===Fh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _g(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dE(e){var t=_g(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xo(e){e._valueTracker||(e._valueTracker=dE(e))}function Tg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_g(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function gl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lc(e,t){var n=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ud(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Zn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kg(e,t){t=t.checked,t!=null&&Mh(e,"checked",t,!1)}function ac(e,t){kg(e,t);var n=Zn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?uc(e,t.type,n):t.hasOwnProperty("defaultValue")&&uc(e,t.type,Zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Vd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function uc(e,t,n){(t!=="number"||gl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ns=Array.isArray;function oi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Zn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function cc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(C(92));if(ns(n)){if(1<n.length)throw Error(C(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zn(n)}}function Cg(e,t){var n=Zn(t.value),r=Zn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Bd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ig(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ig(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var No,xg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(No=No||document.createElement("div"),No.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=No.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ks(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var as={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pE=["Webkit","ms","Moz","O"];Object.keys(as).forEach(function(e){pE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),as[t]=as[e]})});function Ng(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||as.hasOwnProperty(e)&&as[e]?(""+t).trim():t+"px"}function Ag(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ng(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var mE=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fc(e,t){if(t){if(mE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function dc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pc=null;function bh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mc=null,li=null,ai=null;function zd(e){if(e=ro(e)){if(typeof mc!="function")throw Error(C(280));var t=e.stateNode;t&&(t=ma(t),mc(e.stateNode,e.type,t))}}function Dg(e){li?ai?ai.push(e):ai=[e]:li=e}function Rg(){if(li){var e=li,t=ai;if(ai=li=null,zd(e),t)for(e=0;e<t.length;e++)zd(t[e])}}function Og(e,t){return e(t)}function Pg(){}var lu=!1;function Lg(e,t,n){if(lu)return e(t,n);lu=!0;try{return Og(e,t,n)}finally{lu=!1,(li!==null||ai!==null)&&(Pg(),Rg())}}function Cs(e,t){var n=e.stateNode;if(n===null)return null;var r=ma(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var gc=!1;if(vn)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){gc=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{gc=!1}function gE(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var us=!1,yl=null,vl=!1,yc=null,yE={onError:function(e){us=!0,yl=e}};function vE(e,t,n,r,i,s,o,l,a){us=!1,yl=null,gE.apply(yE,arguments)}function wE(e,t,n,r,i,s,o,l,a){if(vE.apply(this,arguments),us){if(us){var u=yl;us=!1,yl=null}else throw Error(C(198));vl||(vl=!0,yc=u)}}function $r(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function jd(e){if($r(e)!==e)throw Error(C(188))}function EE(e){var t=e.alternate;if(!t){if(t=$r(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return jd(i),e;if(s===r)return jd(i),t;s=s.sibling}throw Error(C(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function Mg(e){return e=EE(e),e!==null?Fg(e):null}function Fg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Fg(e);if(t!==null)return t;e=e.sibling}return null}var Ug=Nt.unstable_scheduleCallback,Hd=Nt.unstable_cancelCallback,SE=Nt.unstable_shouldYield,_E=Nt.unstable_requestPaint,xe=Nt.unstable_now,TE=Nt.unstable_getCurrentPriorityLevel,Bh=Nt.unstable_ImmediatePriority,Vg=Nt.unstable_UserBlockingPriority,wl=Nt.unstable_NormalPriority,kE=Nt.unstable_LowPriority,bg=Nt.unstable_IdlePriority,ha=null,rn=null;function CE(e){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(ha,e,void 0,(e.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:NE,IE=Math.log,xE=Math.LN2;function NE(e){return e>>>=0,e===0?32:31-(IE(e)/xE|0)|0}var Ao=64,Do=4194304;function rs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function El(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=rs(l):(s&=o,s!==0&&(r=rs(s)))}else o=n&~i,o!==0?r=rs(o):s!==0&&(r=rs(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-qt(t),i=1<<n,r|=e[n],t&=~i;return r}function AE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-qt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=AE(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function vc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bg(){var e=Ao;return Ao<<=1,!(Ao&4194240)&&(Ao=64),e}function au(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function to(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qt(t),e[t]=n}function RE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-qt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function zh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-qt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var se=0;function zg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jg,jh,Hg,Kg,Wg,wc=!1,Ro=[],Vn=null,bn=null,Bn=null,Is=new Map,xs=new Map,On=[],OE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kd(e,t){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":Is.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xs.delete(t.pointerId)}}function Wi(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ro(t),t!==null&&jh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function PE(e,t,n,r,i){switch(t){case"focusin":return Vn=Wi(Vn,e,t,n,r,i),!0;case"dragenter":return bn=Wi(bn,e,t,n,r,i),!0;case"mouseover":return Bn=Wi(Bn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Is.set(s,Wi(Is.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,xs.set(s,Wi(xs.get(s)||null,e,t,n,r,i)),!0}return!1}function qg(e){var t=dr(e.target);if(t!==null){var n=$r(t);if(n!==null){if(t=n.tag,t===13){if(t=$g(n),t!==null){e.blockedOn=t,Wg(e.priority,function(){Hg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function el(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ec(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pc=r,n.target.dispatchEvent(r),pc=null}else return t=ro(n),t!==null&&jh(t),e.blockedOn=n,!1;t.shift()}return!0}function Wd(e,t,n){el(e)&&n.delete(t)}function LE(){wc=!1,Vn!==null&&el(Vn)&&(Vn=null),bn!==null&&el(bn)&&(bn=null),Bn!==null&&el(Bn)&&(Bn=null),Is.forEach(Wd),xs.forEach(Wd)}function qi(e,t){e.blockedOn===t&&(e.blockedOn=null,wc||(wc=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,LE)))}function Ns(e){function t(i){return qi(i,e)}if(0<Ro.length){qi(Ro[0],e);for(var n=1;n<Ro.length;n++){var r=Ro[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vn!==null&&qi(Vn,e),bn!==null&&qi(bn,e),Bn!==null&&qi(Bn,e),Is.forEach(t),xs.forEach(t),n=0;n<On.length;n++)r=On[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<On.length&&(n=On[0],n.blockedOn===null);)qg(n),n.blockedOn===null&&On.shift()}var ui=xn.ReactCurrentBatchConfig,Sl=!0;function $E(e,t,n,r){var i=se,s=ui.transition;ui.transition=null;try{se=1,Hh(e,t,n,r)}finally{se=i,ui.transition=s}}function ME(e,t,n,r){var i=se,s=ui.transition;ui.transition=null;try{se=4,Hh(e,t,n,r)}finally{se=i,ui.transition=s}}function Hh(e,t,n,r){if(Sl){var i=Ec(e,t,n,r);if(i===null)vu(e,t,r,_l,n),Kd(e,r);else if(PE(i,e,t,n,r))r.stopPropagation();else if(Kd(e,r),t&4&&-1<OE.indexOf(e)){for(;i!==null;){var s=ro(i);if(s!==null&&jg(s),s=Ec(e,t,n,r),s===null&&vu(e,t,r,_l,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else vu(e,t,r,null,n)}}var _l=null;function Ec(e,t,n,r){if(_l=null,e=bh(r),e=dr(e),e!==null)if(t=$r(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _l=e,null}function Qg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TE()){case Bh:return 1;case Vg:return 4;case wl:case kE:return 16;case bg:return 536870912;default:return 16}default:return 16}}var Mn=null,Kh=null,tl=null;function Gg(){if(tl)return tl;var e,t=Kh,n=t.length,r,i="value"in Mn?Mn.value:Mn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return tl=i.slice(e,1<r?1-r:void 0)}function nl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Oo(){return!0}function qd(){return!1}function Rt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Oo:qd,this.isPropagationStopped=qd,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Oo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Oo)},persist:function(){},isPersistent:Oo}),t}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wh=Rt(Pi),no=we({},Pi,{view:0,detail:0}),FE=Rt(no),uu,cu,Qi,fa=we({},no,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qi&&(Qi&&e.type==="mousemove"?(uu=e.screenX-Qi.screenX,cu=e.screenY-Qi.screenY):cu=uu=0,Qi=e),uu)},movementY:function(e){return"movementY"in e?e.movementY:cu}}),Qd=Rt(fa),UE=we({},fa,{dataTransfer:0}),VE=Rt(UE),bE=we({},no,{relatedTarget:0}),hu=Rt(bE),BE=we({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),zE=Rt(BE),jE=we({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),HE=Rt(jE),KE=we({},Pi,{data:0}),Gd=Rt(KE),WE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=QE[e])?!!t[e]:!1}function qh(){return GE}var XE=we({},no,{key:function(e){if(e.key){var t=WE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qh,charCode:function(e){return e.type==="keypress"?nl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),YE=Rt(XE),JE=we({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xd=Rt(JE),ZE=we({},no,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qh}),eS=Rt(ZE),tS=we({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),nS=Rt(tS),rS=we({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),iS=Rt(rS),sS=[9,13,27,32],Qh=vn&&"CompositionEvent"in window,cs=null;vn&&"documentMode"in document&&(cs=document.documentMode);var oS=vn&&"TextEvent"in window&&!cs,Xg=vn&&(!Qh||cs&&8<cs&&11>=cs),Yd=String.fromCharCode(32),Jd=!1;function Yg(e,t){switch(e){case"keyup":return sS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qr=!1;function lS(e,t){switch(e){case"compositionend":return Jg(t);case"keypress":return t.which!==32?null:(Jd=!0,Yd);case"textInput":return e=t.data,e===Yd&&Jd?null:e;default:return null}}function aS(e,t){if(Qr)return e==="compositionend"||!Qh&&Yg(e,t)?(e=Gg(),tl=Kh=Mn=null,Qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xg&&t.locale!=="ko"?null:t.data;default:return null}}var uS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uS[e.type]:t==="textarea"}function Zg(e,t,n,r){Dg(r),t=Tl(t,"onChange"),0<t.length&&(n=new Wh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var hs=null,As=null;function cS(e){cy(e,0)}function da(e){var t=Yr(e);if(Tg(t))return e}function hS(e,t){if(e==="change")return t}var ey=!1;if(vn){var fu;if(vn){var du="oninput"in document;if(!du){var ep=document.createElement("div");ep.setAttribute("oninput","return;"),du=typeof ep.oninput=="function"}fu=du}else fu=!1;ey=fu&&(!document.documentMode||9<document.documentMode)}function tp(){hs&&(hs.detachEvent("onpropertychange",ty),As=hs=null)}function ty(e){if(e.propertyName==="value"&&da(As)){var t=[];Zg(t,As,e,bh(e)),Lg(cS,t)}}function fS(e,t,n){e==="focusin"?(tp(),hs=t,As=n,hs.attachEvent("onpropertychange",ty)):e==="focusout"&&tp()}function dS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return da(As)}function pS(e,t){if(e==="click")return da(t)}function mS(e,t){if(e==="input"||e==="change")return da(t)}function gS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xt=typeof Object.is=="function"?Object.is:gS;function Ds(e,t){if(Xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!nc.call(t,i)||!Xt(e[i],t[i]))return!1}return!0}function np(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rp(e,t){var n=np(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=np(n)}}function ny(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ny(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ry(){for(var e=window,t=gl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=gl(e.document)}return t}function Gh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function yS(e){var t=ry(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ny(n.ownerDocument.documentElement,n)){if(r!==null&&Gh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=rp(n,s);var o=rp(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vS=vn&&"documentMode"in document&&11>=document.documentMode,Gr=null,Sc=null,fs=null,_c=!1;function ip(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_c||Gr==null||Gr!==gl(r)||(r=Gr,"selectionStart"in r&&Gh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fs&&Ds(fs,r)||(fs=r,r=Tl(Sc,"onSelect"),0<r.length&&(t=new Wh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Gr)))}function Po(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Xr={animationend:Po("Animation","AnimationEnd"),animationiteration:Po("Animation","AnimationIteration"),animationstart:Po("Animation","AnimationStart"),transitionend:Po("Transition","TransitionEnd")},pu={},iy={};vn&&(iy=document.createElement("div").style,"AnimationEvent"in window||(delete Xr.animationend.animation,delete Xr.animationiteration.animation,delete Xr.animationstart.animation),"TransitionEvent"in window||delete Xr.transitionend.transition);function pa(e){if(pu[e])return pu[e];if(!Xr[e])return e;var t=Xr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in iy)return pu[e]=t[n];return e}var sy=pa("animationend"),oy=pa("animationiteration"),ly=pa("animationstart"),ay=pa("transitionend"),uy=new Map,sp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(e,t){uy.set(e,t),Lr(t,[e])}for(var mu=0;mu<sp.length;mu++){var gu=sp[mu],wS=gu.toLowerCase(),ES=gu[0].toUpperCase()+gu.slice(1);ir(wS,"on"+ES)}ir(sy,"onAnimationEnd");ir(oy,"onAnimationIteration");ir(ly,"onAnimationStart");ir("dblclick","onDoubleClick");ir("focusin","onFocus");ir("focusout","onBlur");ir(ay,"onTransitionEnd");gi("onMouseEnter",["mouseout","mouseover"]);gi("onMouseLeave",["mouseout","mouseover"]);gi("onPointerEnter",["pointerout","pointerover"]);gi("onPointerLeave",["pointerout","pointerover"]);Lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SS=new Set("cancel close invalid load scroll toggle".split(" ").concat(is));function op(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,wE(r,t,void 0,e),e.currentTarget=null}function cy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;op(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;op(i,l,u),s=a}}}if(vl)throw e=yc,vl=!1,yc=null,e}function ue(e,t){var n=t[xc];n===void 0&&(n=t[xc]=new Set);var r=e+"__bubble";n.has(r)||(hy(t,e,2,!1),n.add(r))}function yu(e,t,n){var r=0;t&&(r|=4),hy(n,e,r,t)}var Lo="_reactListening"+Math.random().toString(36).slice(2);function Rs(e){if(!e[Lo]){e[Lo]=!0,vg.forEach(function(n){n!=="selectionchange"&&(SS.has(n)||yu(n,!1,e),yu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lo]||(t[Lo]=!0,yu("selectionchange",!1,t))}}function hy(e,t,n,r){switch(Qg(t)){case 1:var i=$E;break;case 4:i=ME;break;default:i=Hh}n=i.bind(null,t,n,e),i=void 0,!gc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function vu(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=dr(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Lg(function(){var u=s,c=bh(n),h=[];e:{var d=uy.get(e);if(d!==void 0){var y=Wh,v=e;switch(e){case"keypress":if(nl(n)===0)break e;case"keydown":case"keyup":y=YE;break;case"focusin":v="focus",y=hu;break;case"focusout":v="blur",y=hu;break;case"beforeblur":case"afterblur":y=hu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=VE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=eS;break;case sy:case oy:case ly:y=zE;break;case ay:y=nS;break;case"scroll":y=FE;break;case"wheel":y=iS;break;case"copy":case"cut":case"paste":y=HE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Xd}var w=(t&4)!==0,T=!w&&e==="scroll",p=w?d!==null?d+"Capture":null:d;w=[];for(var f=u,m;f!==null;){m=f;var E=m.stateNode;if(m.tag===5&&E!==null&&(m=E,p!==null&&(E=Cs(f,p),E!=null&&w.push(Os(f,E,m)))),T)break;f=f.return}0<w.length&&(d=new y(d,v,null,n,c),h.push({event:d,listeners:w}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",d&&n!==pc&&(v=n.relatedTarget||n.fromElement)&&(dr(v)||v[wn]))break e;if((y||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?dr(v):null,v!==null&&(T=$r(v),v!==T||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(w=Qd,E="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=Xd,E="onPointerLeave",p="onPointerEnter",f="pointer"),T=y==null?d:Yr(y),m=v==null?d:Yr(v),d=new w(E,f+"leave",y,n,c),d.target=T,d.relatedTarget=m,E=null,dr(c)===u&&(w=new w(p,f+"enter",v,n,c),w.target=m,w.relatedTarget=T,E=w),T=E,y&&v)t:{for(w=y,p=v,f=0,m=w;m;m=Br(m))f++;for(m=0,E=p;E;E=Br(E))m++;for(;0<f-m;)w=Br(w),f--;for(;0<m-f;)p=Br(p),m--;for(;f--;){if(w===p||p!==null&&w===p.alternate)break t;w=Br(w),p=Br(p)}w=null}else w=null;y!==null&&lp(h,d,y,w,!1),v!==null&&T!==null&&lp(h,T,v,w,!0)}}e:{if(d=u?Yr(u):window,y=d.nodeName&&d.nodeName.toLowerCase(),y==="select"||y==="input"&&d.type==="file")var k=hS;else if(Zd(d))if(ey)k=mS;else{k=dS;var D=fS}else(y=d.nodeName)&&y.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=pS);if(k&&(k=k(e,u))){Zg(h,k,n,c);break e}D&&D(e,d,u),e==="focusout"&&(D=d._wrapperState)&&D.controlled&&d.type==="number"&&uc(d,"number",d.value)}switch(D=u?Yr(u):window,e){case"focusin":(Zd(D)||D.contentEditable==="true")&&(Gr=D,Sc=u,fs=null);break;case"focusout":fs=Sc=Gr=null;break;case"mousedown":_c=!0;break;case"contextmenu":case"mouseup":case"dragend":_c=!1,ip(h,n,c);break;case"selectionchange":if(vS)break;case"keydown":case"keyup":ip(h,n,c)}var R;if(Qh)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else Qr?Yg(e,n)&&($="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(Xg&&n.locale!=="ko"&&(Qr||$!=="onCompositionStart"?$==="onCompositionEnd"&&Qr&&(R=Gg()):(Mn=c,Kh="value"in Mn?Mn.value:Mn.textContent,Qr=!0)),D=Tl(u,$),0<D.length&&($=new Gd($,e,null,n,c),h.push({event:$,listeners:D}),R?$.data=R:(R=Jg(n),R!==null&&($.data=R)))),(R=oS?lS(e,n):aS(e,n))&&(u=Tl(u,"onBeforeInput"),0<u.length&&(c=new Gd("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=R))}cy(h,t)})}function Os(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Tl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Cs(e,n),s!=null&&r.unshift(Os(e,s,i)),s=Cs(e,t),s!=null&&r.push(Os(e,s,i))),e=e.return}return r}function Br(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lp(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Cs(n,s),a!=null&&o.unshift(Os(n,a,l))):i||(a=Cs(n,s),a!=null&&o.push(Os(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var _S=/\r\n?/g,TS=/\u0000|\uFFFD/g;function ap(e){return(typeof e=="string"?e:""+e).replace(_S,`
`).replace(TS,"")}function $o(e,t,n){if(t=ap(t),ap(e)!==t&&n)throw Error(C(425))}function kl(){}var Tc=null,kc=null;function Cc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ic=typeof setTimeout=="function"?setTimeout:void 0,kS=typeof clearTimeout=="function"?clearTimeout:void 0,up=typeof Promise=="function"?Promise:void 0,CS=typeof queueMicrotask=="function"?queueMicrotask:typeof up<"u"?function(e){return up.resolve(null).then(e).catch(IS)}:Ic;function IS(e){setTimeout(function(){throw e})}function wu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ns(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ns(t)}function zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Li=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Li,Ps="__reactProps$"+Li,wn="__reactContainer$"+Li,xc="__reactEvents$"+Li,xS="__reactListeners$"+Li,NS="__reactHandles$"+Li;function dr(e){var t=e[Zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wn]||n[Zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cp(e);e!==null;){if(n=e[Zt])return n;e=cp(e)}return t}e=n,n=e.parentNode}return null}function ro(e){return e=e[Zt]||e[wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function ma(e){return e[Ps]||null}var Nc=[],Jr=-1;function sr(e){return{current:e}}function ce(e){0>Jr||(e.current=Nc[Jr],Nc[Jr]=null,Jr--)}function le(e,t){Jr++,Nc[Jr]=e.current,e.current=t}var er={},ut=sr(er),St=sr(!1),Cr=er;function yi(e,t){var n=e.type.contextTypes;if(!n)return er;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _t(e){return e=e.childContextTypes,e!=null}function Cl(){ce(St),ce(ut)}function hp(e,t,n){if(ut.current!==er)throw Error(C(168));le(ut,t),le(St,n)}function fy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(C(108,fE(e)||"Unknown",i));return we({},n,r)}function Il(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||er,Cr=ut.current,le(ut,e),le(St,St.current),!0}function fp(e,t,n){var r=e.stateNode;if(!r)throw Error(C(169));n?(e=fy(e,t,Cr),r.__reactInternalMemoizedMergedChildContext=e,ce(St),ce(ut),le(ut,e)):ce(St),le(St,n)}var fn=null,ga=!1,Eu=!1;function dy(e){fn===null?fn=[e]:fn.push(e)}function AS(e){ga=!0,dy(e)}function or(){if(!Eu&&fn!==null){Eu=!0;var e=0,t=se;try{var n=fn;for(se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}fn=null,ga=!1}catch(i){throw fn!==null&&(fn=fn.slice(e+1)),Ug(Bh,or),i}finally{se=t,Eu=!1}}return null}var Zr=[],ei=0,xl=null,Nl=0,Pt=[],Lt=0,Ir=null,dn=1,pn="";function ur(e,t){Zr[ei++]=Nl,Zr[ei++]=xl,xl=e,Nl=t}function py(e,t,n){Pt[Lt++]=dn,Pt[Lt++]=pn,Pt[Lt++]=Ir,Ir=e;var r=dn;e=pn;var i=32-qt(r)-1;r&=~(1<<i),n+=1;var s=32-qt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,dn=1<<32-qt(t)+i|n<<i|r,pn=s+e}else dn=1<<s|n<<i|r,pn=e}function Xh(e){e.return!==null&&(ur(e,1),py(e,1,0))}function Yh(e){for(;e===xl;)xl=Zr[--ei],Zr[ei]=null,Nl=Zr[--ei],Zr[ei]=null;for(;e===Ir;)Ir=Pt[--Lt],Pt[Lt]=null,pn=Pt[--Lt],Pt[Lt]=null,dn=Pt[--Lt],Pt[Lt]=null}var xt=null,Ct=null,pe=!1,Ht=null;function my(e,t){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function dp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xt=e,Ct=zn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xt=e,Ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ir!==null?{id:dn,overflow:pn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xt=e,Ct=null,!0):!1;default:return!1}}function Ac(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Dc(e){if(pe){var t=Ct;if(t){var n=t;if(!dp(e,t)){if(Ac(e))throw Error(C(418));t=zn(n.nextSibling);var r=xt;t&&dp(e,t)?my(r,n):(e.flags=e.flags&-4097|2,pe=!1,xt=e)}}else{if(Ac(e))throw Error(C(418));e.flags=e.flags&-4097|2,pe=!1,xt=e}}}function pp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function Mo(e){if(e!==xt)return!1;if(!pe)return pp(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cc(e.type,e.memoizedProps)),t&&(t=Ct)){if(Ac(e))throw gy(),Error(C(418));for(;t;)my(e,t),t=zn(t.nextSibling)}if(pp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ct=zn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ct=null}}else Ct=xt?zn(e.stateNode.nextSibling):null;return!0}function gy(){for(var e=Ct;e;)e=zn(e.nextSibling)}function vi(){Ct=xt=null,pe=!1}function Jh(e){Ht===null?Ht=[e]:Ht.push(e)}var DS=xn.ReactCurrentBatchConfig;function zt(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Al=sr(null),Dl=null,ti=null,Zh=null;function ef(){Zh=ti=Dl=null}function tf(e){var t=Al.current;ce(Al),e._currentValue=t}function Rc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ci(e,t){Dl=e,Zh=ti=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Et=!0),e.firstContext=null)}function Ut(e){var t=e._currentValue;if(Zh!==e)if(e={context:e,memoizedValue:t,next:null},ti===null){if(Dl===null)throw Error(C(308));ti=e,Dl.dependencies={lanes:0,firstContext:e}}else ti=ti.next=e;return t}var pr=null;function nf(e){pr===null?pr=[e]:pr.push(e)}function yy(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,nf(t)):(n.next=i.next,i.next=n),t.interleaved=n,En(e,r)}function En(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rn=!1;function rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,En(e,n)}return i=r.interleaved,i===null?(t.next=t,nf(r)):(t.next=i.next,i.next=t),r.interleaved=t,En(e,n)}function rl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zh(e,n)}}function mp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Rl(e,t,n,r){var i=e.updateQueue;Rn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var h=i.baseState;o=0,c=u=a=null,l=s;do{var d=l.lane,y=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,w=l;switch(d=t,y=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(y,h,d);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,d=typeof v=="function"?v.call(y,h,d):v,d==null)break e;h=we({},h,d);break e;case 2:Rn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else y={eventTime:y,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=y,a=h):c=c.next=y,o|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(a=h),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Nr|=o,e.lanes=o,e.memoizedState=h}}function gp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(C(191,i));i.call(r)}}}var wy=new yg.Component().refs;function Oc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:we({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return(e=e._reactInternals)?$r(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=mt(),i=Kn(e),s=gn(r,i);s.payload=t,n!=null&&(s.callback=n),t=jn(e,s,i),t!==null&&(Qt(t,e,i,r),rl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=mt(),i=Kn(e),s=gn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=jn(e,s,i),t!==null&&(Qt(t,e,i,r),rl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mt(),r=Kn(e),i=gn(n,r);i.tag=2,t!=null&&(i.callback=t),t=jn(e,i,r),t!==null&&(Qt(t,e,r,n),rl(t,e,r))}};function yp(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Ds(n,r)||!Ds(i,s):!0}function Ey(e,t,n){var r=!1,i=er,s=t.contextType;return typeof s=="object"&&s!==null?s=Ut(s):(i=_t(t)?Cr:ut.current,r=t.contextTypes,s=(r=r!=null)?yi(e,i):er),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function vp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function Pc(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=wy,rf(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Ut(s):(s=_t(t)?Cr:ut.current,i.context=yi(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Oc(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),Rl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Gi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;l===wy&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,e))}return e}function Fo(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wp(e){var t=e._init;return t(e._payload)}function Sy(e){function t(p,f){if(e){var m=p.deletions;m===null?(p.deletions=[f],p.flags|=16):m.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function i(p,f){return p=Wn(p,f),p.index=0,p.sibling=null,p}function s(p,f,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<f?(p.flags|=2,f):m):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,f,m,E){return f===null||f.tag!==6?(f=xu(m,p.mode,E),f.return=p,f):(f=i(f,m),f.return=p,f)}function a(p,f,m,E){var k=m.type;return k===qr?c(p,f,m.props.children,E,m.key):f!==null&&(f.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Dn&&wp(k)===f.type)?(E=i(f,m.props),E.ref=Gi(p,f,m),E.return=p,E):(E=ul(m.type,m.key,m.props,null,p.mode,E),E.ref=Gi(p,f,m),E.return=p,E)}function u(p,f,m,E){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=Nu(m,p.mode,E),f.return=p,f):(f=i(f,m.children||[]),f.return=p,f)}function c(p,f,m,E,k){return f===null||f.tag!==7?(f=Sr(m,p.mode,E,k),f.return=p,f):(f=i(f,m),f.return=p,f)}function h(p,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=xu(""+f,p.mode,m),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Io:return m=ul(f.type,f.key,f.props,null,p.mode,m),m.ref=Gi(p,null,f),m.return=p,m;case Wr:return f=Nu(f,p.mode,m),f.return=p,f;case Dn:var E=f._init;return h(p,E(f._payload),m)}if(ns(f)||Hi(f))return f=Sr(f,p.mode,m,null),f.return=p,f;Fo(p,f)}return null}function d(p,f,m,E){var k=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:l(p,f,""+m,E);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Io:return m.key===k?a(p,f,m,E):null;case Wr:return m.key===k?u(p,f,m,E):null;case Dn:return k=m._init,d(p,f,k(m._payload),E)}if(ns(m)||Hi(m))return k!==null?null:c(p,f,m,E,null);Fo(p,m)}return null}function y(p,f,m,E,k){if(typeof E=="string"&&E!==""||typeof E=="number")return p=p.get(m)||null,l(f,p,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Io:return p=p.get(E.key===null?m:E.key)||null,a(f,p,E,k);case Wr:return p=p.get(E.key===null?m:E.key)||null,u(f,p,E,k);case Dn:var D=E._init;return y(p,f,m,D(E._payload),k)}if(ns(E)||Hi(E))return p=p.get(m)||null,c(f,p,E,k,null);Fo(f,E)}return null}function v(p,f,m,E){for(var k=null,D=null,R=f,$=f=0,ne=null;R!==null&&$<m.length;$++){R.index>$?(ne=R,R=null):ne=R.sibling;var q=d(p,R,m[$],E);if(q===null){R===null&&(R=ne);break}e&&R&&q.alternate===null&&t(p,R),f=s(q,f,$),D===null?k=q:D.sibling=q,D=q,R=ne}if($===m.length)return n(p,R),pe&&ur(p,$),k;if(R===null){for(;$<m.length;$++)R=h(p,m[$],E),R!==null&&(f=s(R,f,$),D===null?k=R:D.sibling=R,D=R);return pe&&ur(p,$),k}for(R=r(p,R);$<m.length;$++)ne=y(R,p,$,m[$],E),ne!==null&&(e&&ne.alternate!==null&&R.delete(ne.key===null?$:ne.key),f=s(ne,f,$),D===null?k=ne:D.sibling=ne,D=ne);return e&&R.forEach(function(Ce){return t(p,Ce)}),pe&&ur(p,$),k}function w(p,f,m,E){var k=Hi(m);if(typeof k!="function")throw Error(C(150));if(m=k.call(m),m==null)throw Error(C(151));for(var D=k=null,R=f,$=f=0,ne=null,q=m.next();R!==null&&!q.done;$++,q=m.next()){R.index>$?(ne=R,R=null):ne=R.sibling;var Ce=d(p,R,q.value,E);if(Ce===null){R===null&&(R=ne);break}e&&R&&Ce.alternate===null&&t(p,R),f=s(Ce,f,$),D===null?k=Ce:D.sibling=Ce,D=Ce,R=ne}if(q.done)return n(p,R),pe&&ur(p,$),k;if(R===null){for(;!q.done;$++,q=m.next())q=h(p,q.value,E),q!==null&&(f=s(q,f,$),D===null?k=q:D.sibling=q,D=q);return pe&&ur(p,$),k}for(R=r(p,R);!q.done;$++,q=m.next())q=y(R,p,$,q.value,E),q!==null&&(e&&q.alternate!==null&&R.delete(q.key===null?$:q.key),f=s(q,f,$),D===null?k=q:D.sibling=q,D=q);return e&&R.forEach(function(Y){return t(p,Y)}),pe&&ur(p,$),k}function T(p,f,m,E){if(typeof m=="object"&&m!==null&&m.type===qr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Io:e:{for(var k=m.key,D=f;D!==null;){if(D.key===k){if(k=m.type,k===qr){if(D.tag===7){n(p,D.sibling),f=i(D,m.props.children),f.return=p,p=f;break e}}else if(D.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Dn&&wp(k)===D.type){n(p,D.sibling),f=i(D,m.props),f.ref=Gi(p,D,m),f.return=p,p=f;break e}n(p,D);break}else t(p,D);D=D.sibling}m.type===qr?(f=Sr(m.props.children,p.mode,E,m.key),f.return=p,p=f):(E=ul(m.type,m.key,m.props,null,p.mode,E),E.ref=Gi(p,f,m),E.return=p,p=E)}return o(p);case Wr:e:{for(D=m.key;f!==null;){if(f.key===D)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){n(p,f.sibling),f=i(f,m.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=Nu(m,p.mode,E),f.return=p,p=f}return o(p);case Dn:return D=m._init,T(p,f,D(m._payload),E)}if(ns(m))return v(p,f,m,E);if(Hi(m))return w(p,f,m,E);Fo(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(n(p,f.sibling),f=i(f,m),f.return=p,p=f):(n(p,f),f=xu(m,p.mode,E),f.return=p,p=f),o(p)):n(p,f)}return T}var wi=Sy(!0),_y=Sy(!1),io={},sn=sr(io),Ls=sr(io),$s=sr(io);function mr(e){if(e===io)throw Error(C(174));return e}function sf(e,t){switch(le($s,t),le(Ls,e),le(sn,io),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hc(t,e)}ce(sn),le(sn,t)}function Ei(){ce(sn),ce(Ls),ce($s)}function Ty(e){mr($s.current);var t=mr(sn.current),n=hc(t,e.type);t!==n&&(le(Ls,e),le(sn,n))}function of(e){Ls.current===e&&(ce(sn),ce(Ls))}var ye=sr(0);function Ol(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Su=[];function lf(){for(var e=0;e<Su.length;e++)Su[e]._workInProgressVersionPrimary=null;Su.length=0}var il=xn.ReactCurrentDispatcher,_u=xn.ReactCurrentBatchConfig,xr=0,ve=null,Pe=null,ze=null,Pl=!1,ds=!1,Ms=0,RS=0;function tt(){throw Error(C(321))}function af(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xt(e[n],t[n]))return!1;return!0}function uf(e,t,n,r,i,s){if(xr=s,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,il.current=e===null||e.memoizedState===null?$S:MS,e=n(r,i),ds){s=0;do{if(ds=!1,Ms=0,25<=s)throw Error(C(301));s+=1,ze=Pe=null,t.updateQueue=null,il.current=FS,e=n(r,i)}while(ds)}if(il.current=Ll,t=Pe!==null&&Pe.next!==null,xr=0,ze=Pe=ve=null,Pl=!1,t)throw Error(C(300));return e}function cf(){var e=Ms!==0;return Ms=0,e}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?ve.memoizedState=ze=e:ze=ze.next=e,ze}function Vt(){if(Pe===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=ze===null?ve.memoizedState:ze.next;if(t!==null)ze=t,Pe=e;else{if(e===null)throw Error(C(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},ze===null?ve.memoizedState=ze=e:ze=ze.next=e}return ze}function Fs(e,t){return typeof t=="function"?t(e):t}function Tu(e){var t=Vt(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=Pe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((xr&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,ve.lanes|=c,Nr|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,Xt(r,t.memoizedState)||(Et=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ve.lanes|=s,Nr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ku(e){var t=Vt(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Xt(s,t.memoizedState)||(Et=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ky(){}function Cy(e,t){var n=ve,r=Vt(),i=t(),s=!Xt(r.memoizedState,i);if(s&&(r.memoizedState=i,Et=!0),r=r.queue,hf(Ny.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ze!==null&&ze.memoizedState.tag&1){if(n.flags|=2048,Us(9,xy.bind(null,n,r,i,t),void 0,null),je===null)throw Error(C(349));xr&30||Iy(n,t,i)}return i}function Iy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xy(e,t,n,r){t.value=n,t.getSnapshot=r,Ay(t)&&Dy(e)}function Ny(e,t,n){return n(function(){Ay(t)&&Dy(e)})}function Ay(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xt(e,n)}catch{return!0}}function Dy(e){var t=En(e,1);t!==null&&Qt(t,e,1,-1)}function Ep(e){var t=Jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:e},t.queue=e,e=e.dispatch=LS.bind(null,ve,e),[t.memoizedState,e]}function Us(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ry(){return Vt().memoizedState}function sl(e,t,n,r){var i=Jt();ve.flags|=e,i.memoizedState=Us(1|t,n,void 0,r===void 0?null:r)}function va(e,t,n,r){var i=Vt();r=r===void 0?null:r;var s=void 0;if(Pe!==null){var o=Pe.memoizedState;if(s=o.destroy,r!==null&&af(r,o.deps)){i.memoizedState=Us(t,n,s,r);return}}ve.flags|=e,i.memoizedState=Us(1|t,n,s,r)}function Sp(e,t){return sl(8390656,8,e,t)}function hf(e,t){return va(2048,8,e,t)}function Oy(e,t){return va(4,2,e,t)}function Py(e,t){return va(4,4,e,t)}function Ly(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $y(e,t,n){return n=n!=null?n.concat([e]):null,va(4,4,Ly.bind(null,t,e),n)}function ff(){}function My(e,t){var n=Vt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&af(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Fy(e,t){var n=Vt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&af(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Uy(e,t,n){return xr&21?(Xt(n,t)||(n=Bg(),ve.lanes|=n,Nr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Et=!0),e.memoizedState=n)}function OS(e,t){var n=se;se=n!==0&&4>n?n:4,e(!0);var r=_u.transition;_u.transition={};try{e(!1),t()}finally{se=n,_u.transition=r}}function Vy(){return Vt().memoizedState}function PS(e,t,n){var r=Kn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},by(e))By(t,n);else if(n=yy(e,t,n,r),n!==null){var i=mt();Qt(n,e,r,i),zy(n,t,r)}}function LS(e,t,n){var r=Kn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(by(e))By(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Xt(l,o)){var a=t.interleaved;a===null?(i.next=i,nf(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=yy(e,t,i,r),n!==null&&(i=mt(),Qt(n,e,r,i),zy(n,t,r))}}function by(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function By(e,t){ds=Pl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zh(e,n)}}var Ll={readContext:Ut,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},$S={readContext:Ut,useCallback:function(e,t){return Jt().memoizedState=[e,t===void 0?null:t],e},useContext:Ut,useEffect:Sp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,sl(4194308,4,Ly.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sl(4194308,4,e,t)},useInsertionEffect:function(e,t){return sl(4,2,e,t)},useMemo:function(e,t){var n=Jt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Jt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=PS.bind(null,ve,e),[r.memoizedState,e]},useRef:function(e){var t=Jt();return e={current:e},t.memoizedState=e},useState:Ep,useDebugValue:ff,useDeferredValue:function(e){return Jt().memoizedState=e},useTransition:function(){var e=Ep(!1),t=e[0];return e=OS.bind(null,e[1]),Jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ve,i=Jt();if(pe){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),je===null)throw Error(C(349));xr&30||Iy(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Sp(Ny.bind(null,r,s,e),[e]),r.flags|=2048,Us(9,xy.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Jt(),t=je.identifierPrefix;if(pe){var n=pn,r=dn;n=(r&~(1<<32-qt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ms++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=RS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},MS={readContext:Ut,useCallback:My,useContext:Ut,useEffect:hf,useImperativeHandle:$y,useInsertionEffect:Oy,useLayoutEffect:Py,useMemo:Fy,useReducer:Tu,useRef:Ry,useState:function(){return Tu(Fs)},useDebugValue:ff,useDeferredValue:function(e){var t=Vt();return Uy(t,Pe.memoizedState,e)},useTransition:function(){var e=Tu(Fs)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:ky,useSyncExternalStore:Cy,useId:Vy,unstable_isNewReconciler:!1},FS={readContext:Ut,useCallback:My,useContext:Ut,useEffect:hf,useImperativeHandle:$y,useInsertionEffect:Oy,useLayoutEffect:Py,useMemo:Fy,useReducer:ku,useRef:Ry,useState:function(){return ku(Fs)},useDebugValue:ff,useDeferredValue:function(e){var t=Vt();return Pe===null?t.memoizedState=e:Uy(t,Pe.memoizedState,e)},useTransition:function(){var e=ku(Fs)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:ky,useSyncExternalStore:Cy,useId:Vy,unstable_isNewReconciler:!1};function Si(e,t){try{var n="",r=t;do n+=hE(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Cu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Lc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var US=typeof WeakMap=="function"?WeakMap:Map;function jy(e,t,n){n=gn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ml||(Ml=!0,Hc=r),Lc(e,t)},n}function Hy(e,t,n){n=gn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Lc(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Lc(e,t),typeof r!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function _p(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new US;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=JS.bind(null,e,t,n),t.then(e,e))}function Tp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kp(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gn(-1,1),t.tag=2,jn(n,t,1))),n.lanes|=1),e)}var VS=xn.ReactCurrentOwner,Et=!1;function ft(e,t,n,r){t.child=e===null?_y(t,null,n,r):wi(t,e.child,n,r)}function Cp(e,t,n,r,i){n=n.render;var s=t.ref;return ci(t,i),r=uf(e,t,n,r,s,i),n=cf(),e!==null&&!Et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Sn(e,t,i)):(pe&&n&&Xh(t),t.flags|=1,ft(e,t,r,i),t.child)}function Ip(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Ef(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Ky(e,t,s,r,i)):(e=ul(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ds,n(o,r)&&e.ref===t.ref)return Sn(e,t,i)}return t.flags|=1,e=Wn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Ky(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Ds(s,r)&&e.ref===t.ref)if(Et=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Et=!0);else return t.lanes=e.lanes,Sn(e,t,i)}return $c(e,t,n,r,i)}function Wy(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(ri,kt),kt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(ri,kt),kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,le(ri,kt),kt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,le(ri,kt),kt|=r;return ft(e,t,i,n),t.child}function qy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $c(e,t,n,r,i){var s=_t(n)?Cr:ut.current;return s=yi(t,s),ci(t,i),n=uf(e,t,n,r,s,i),r=cf(),e!==null&&!Et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Sn(e,t,i)):(pe&&r&&Xh(t),t.flags|=1,ft(e,t,n,i),t.child)}function xp(e,t,n,r,i){if(_t(n)){var s=!0;Il(t)}else s=!1;if(ci(t,i),t.stateNode===null)ol(e,t),Ey(t,n,r),Pc(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ut(u):(u=_t(n)?Cr:ut.current,u=yi(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&vp(t,o,r,u),Rn=!1;var d=t.memoizedState;o.state=d,Rl(t,r,o,i),a=t.memoizedState,l!==r||d!==a||St.current||Rn?(typeof c=="function"&&(Oc(t,n,c,r),a=t.memoizedState),(l=Rn||yp(t,n,l,r,d,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,vy(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:zt(t.type,l),o.props=u,h=t.pendingProps,d=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ut(a):(a=_t(n)?Cr:ut.current,a=yi(t,a));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||d!==a)&&vp(t,o,r,a),Rn=!1,d=t.memoizedState,o.state=d,Rl(t,r,o,i);var v=t.memoizedState;l!==h||d!==v||St.current||Rn?(typeof y=="function"&&(Oc(t,n,y,r),v=t.memoizedState),(u=Rn||yp(t,n,u,r,d,v,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Mc(e,t,n,r,s,i)}function Mc(e,t,n,r,i,s){qy(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&fp(t,n,!1),Sn(e,t,s);r=t.stateNode,VS.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=wi(t,e.child,null,s),t.child=wi(t,null,l,s)):ft(e,t,l,s),t.memoizedState=r.state,i&&fp(t,n,!0),t.child}function Qy(e){var t=e.stateNode;t.pendingContext?hp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hp(e,t.context,!1),sf(e,t.containerInfo)}function Np(e,t,n,r,i){return vi(),Jh(i),t.flags|=256,ft(e,t,n,r),t.child}var Fc={dehydrated:null,treeContext:null,retryLane:0};function Uc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gy(e,t,n){var r=t.pendingProps,i=ye.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),le(ye,i&1),e===null)return Dc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Sa(o,r,0,null),e=Sr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Uc(n),t.memoizedState=Fc,e):df(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return bS(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Wn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Wn(l,s):(s=Sr(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Uc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Fc,r}return s=e.child,e=s.sibling,r=Wn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function df(e,t){return t=Sa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Uo(e,t,n,r){return r!==null&&Jh(r),wi(t,e.child,null,n),e=df(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bS(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Cu(Error(C(422))),Uo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Sa({mode:"visible",children:r.children},i,0,null),s=Sr(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&wi(t,e.child,null,o),t.child.memoizedState=Uc(o),t.memoizedState=Fc,s);if(!(t.mode&1))return Uo(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(C(419)),r=Cu(s,r,void 0),Uo(e,t,o,r)}if(l=(o&e.childLanes)!==0,Et||l){if(r=je,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,En(e,i),Qt(r,e,i,-1))}return wf(),r=Cu(Error(C(421))),Uo(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=ZS.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Ct=zn(i.nextSibling),xt=t,pe=!0,Ht=null,e!==null&&(Pt[Lt++]=dn,Pt[Lt++]=pn,Pt[Lt++]=Ir,dn=e.id,pn=e.overflow,Ir=t),t=df(t,r.children),t.flags|=4096,t)}function Ap(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Rc(e.return,t,n)}function Iu(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Xy(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ft(e,t,r.children,n),r=ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ap(e,n,t);else if(e.tag===19)Ap(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(le(ye,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ol(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Iu(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ol(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Iu(t,!0,n,null,s);break;case"together":Iu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ol(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=Wn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Wn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function BS(e,t,n){switch(t.tag){case 3:Qy(t),vi();break;case 5:Ty(t);break;case 1:_t(t.type)&&Il(t);break;case 4:sf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;le(Al,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(le(ye,ye.current&1),t.flags|=128,null):n&t.child.childLanes?Gy(e,t,n):(le(ye,ye.current&1),e=Sn(e,t,n),e!==null?e.sibling:null);le(ye,ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Xy(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),le(ye,ye.current),r)break;return null;case 22:case 23:return t.lanes=0,Wy(e,t,n)}return Sn(e,t,n)}var Yy,Vc,Jy,Zy;Yy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vc=function(){};Jy=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,mr(sn.current);var s=null;switch(n){case"input":i=lc(e,i),r=lc(e,r),s=[];break;case"select":i=we({},i,{value:void 0}),r=we({},r,{value:void 0}),s=[];break;case"textarea":i=cc(e,i),r=cc(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=kl)}fc(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ts.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ts.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ue("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Zy=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xi(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zS(e,t,n){var r=t.pendingProps;switch(Yh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return _t(t.type)&&Cl(),nt(t),null;case 3:return r=t.stateNode,Ei(),ce(St),ce(ut),lf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Mo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ht!==null&&(qc(Ht),Ht=null))),Vc(e,t),nt(t),null;case 5:of(t);var i=mr($s.current);if(n=t.type,e!==null&&t.stateNode!=null)Jy(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(C(166));return nt(t),null}if(e=mr(sn.current),Mo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Zt]=t,r[Ps]=s,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(i=0;i<is.length;i++)ue(is[i],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":Ud(r,s),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ue("invalid",r);break;case"textarea":bd(r,s),ue("invalid",r)}fc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&$o(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&$o(r.textContent,l,e),i=["children",""+l]):Ts.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ue("scroll",r)}switch(n){case"input":xo(r),Vd(r,s,!0);break;case"textarea":xo(r),Bd(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=kl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ig(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Zt]=t,e[Ps]=r,Yy(e,t,!1,!1),t.stateNode=e;e:{switch(o=dc(n,r),n){case"dialog":ue("cancel",e),ue("close",e),i=r;break;case"iframe":case"object":case"embed":ue("load",e),i=r;break;case"video":case"audio":for(i=0;i<is.length;i++)ue(is[i],e);i=r;break;case"source":ue("error",e),i=r;break;case"img":case"image":case"link":ue("error",e),ue("load",e),i=r;break;case"details":ue("toggle",e),i=r;break;case"input":Ud(e,r),i=lc(e,r),ue("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=we({},r,{value:void 0}),ue("invalid",e);break;case"textarea":bd(e,r),i=cc(e,r),ue("invalid",e);break;default:i=r}fc(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Ag(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&xg(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&ks(e,a):typeof a=="number"&&ks(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ts.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ue("scroll",e):a!=null&&Mh(e,s,a,o))}switch(n){case"input":xo(e),Vd(e,r,!1);break;case"textarea":xo(e),Bd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Zn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?oi(e,!!r.multiple,s,!1):r.defaultValue!=null&&oi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=kl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nt(t),null;case 6:if(e&&t.stateNode!=null)Zy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(C(166));if(n=mr($s.current),mr(sn.current),Mo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zt]=t,(s=r.nodeValue!==n)&&(e=xt,e!==null))switch(e.tag){case 3:$o(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$o(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zt]=t,t.stateNode=r}return nt(t),null;case 13:if(ce(ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&Ct!==null&&t.mode&1&&!(t.flags&128))gy(),vi(),t.flags|=98560,s=!1;else if(s=Mo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(C(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(C(317));s[Zt]=t}else vi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nt(t),s=!1}else Ht!==null&&(qc(Ht),Ht=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ye.current&1?$e===0&&($e=3):wf())),t.updateQueue!==null&&(t.flags|=4),nt(t),null);case 4:return Ei(),Vc(e,t),e===null&&Rs(t.stateNode.containerInfo),nt(t),null;case 10:return tf(t.type._context),nt(t),null;case 17:return _t(t.type)&&Cl(),nt(t),null;case 19:if(ce(ye),s=t.memoizedState,s===null)return nt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Xi(s,!1);else{if($e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ol(e),o!==null){for(t.flags|=128,Xi(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return le(ye,ye.current&1|2),t.child}e=e.sibling}s.tail!==null&&xe()>_i&&(t.flags|=128,r=!0,Xi(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ol(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pe)return nt(t),null}else 2*xe()-s.renderingStartTime>_i&&n!==1073741824&&(t.flags|=128,r=!0,Xi(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=xe(),t.sibling=null,n=ye.current,le(ye,r?n&1|2:n&1),t):(nt(t),null);case 22:case 23:return vf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?kt&1073741824&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function jS(e,t){switch(Yh(t),t.tag){case 1:return _t(t.type)&&Cl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ei(),ce(St),ce(ut),lf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return of(t),null;case 13:if(ce(ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));vi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(ye),null;case 4:return Ei(),null;case 10:return tf(t.type._context),null;case 22:case 23:return vf(),null;case 24:return null;default:return null}}var Vo=!1,it=!1,HS=typeof WeakSet=="function"?WeakSet:Set,P=null;function ni(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(e,t,r)}else n.current=null}function bc(e,t,n){try{n()}catch(r){Se(e,t,r)}}var Dp=!1;function KS(e,t){if(Tc=Sl,e=ry(),Gh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,h=e,d=null;t:for(;;){for(var y;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==s||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)d=h,h=y;for(;;){if(h===e)break t;if(d===n&&++u===i&&(l=o),d===s&&++c===r&&(a=o),(y=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(kc={focusedElem:e,selectionRange:n},Sl=!1,P=t;P!==null;)if(t=P,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,P=e;else for(;P!==null;){t=P;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,T=v.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?w:zt(t.type,w),T);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(E){Se(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,P=e;break}P=t.return}return v=Dp,Dp=!1,v}function ps(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&bc(t,n,s)}i=i.next}while(i!==r)}}function wa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Bc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ev(e){var t=e.alternate;t!==null&&(e.alternate=null,ev(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zt],delete t[Ps],delete t[xc],delete t[xS],delete t[NS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tv(e){return e.tag===5||e.tag===3||e.tag===4}function Rp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=kl));else if(r!==4&&(e=e.child,e!==null))for(zc(e,t,n),e=e.sibling;e!==null;)zc(e,t,n),e=e.sibling}function jc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(jc(e,t,n),e=e.sibling;e!==null;)jc(e,t,n),e=e.sibling}var qe=null,jt=!1;function An(e,t,n){for(n=n.child;n!==null;)nv(e,t,n),n=n.sibling}function nv(e,t,n){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(ha,n)}catch{}switch(n.tag){case 5:it||ni(n,t);case 6:var r=qe,i=jt;qe=null,An(e,t,n),qe=r,jt=i,qe!==null&&(jt?(e=qe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):qe.removeChild(n.stateNode));break;case 18:qe!==null&&(jt?(e=qe,n=n.stateNode,e.nodeType===8?wu(e.parentNode,n):e.nodeType===1&&wu(e,n),Ns(e)):wu(qe,n.stateNode));break;case 4:r=qe,i=jt,qe=n.stateNode.containerInfo,jt=!0,An(e,t,n),qe=r,jt=i;break;case 0:case 11:case 14:case 15:if(!it&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&bc(n,t,o),i=i.next}while(i!==r)}An(e,t,n);break;case 1:if(!it&&(ni(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Se(n,t,l)}An(e,t,n);break;case 21:An(e,t,n);break;case 22:n.mode&1?(it=(r=it)||n.memoizedState!==null,An(e,t,n),it=r):An(e,t,n);break;default:An(e,t,n)}}function Op(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new HS),t.forEach(function(r){var i=e_.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Bt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:qe=l.stateNode,jt=!1;break e;case 3:qe=l.stateNode.containerInfo,jt=!0;break e;case 4:qe=l.stateNode.containerInfo,jt=!0;break e}l=l.return}if(qe===null)throw Error(C(160));nv(s,o,i),qe=null,jt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Se(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rv(t,e),t=t.sibling}function rv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bt(t,e),Yt(e),r&4){try{ps(3,e,e.return),wa(3,e)}catch(w){Se(e,e.return,w)}try{ps(5,e,e.return)}catch(w){Se(e,e.return,w)}}break;case 1:Bt(t,e),Yt(e),r&512&&n!==null&&ni(n,n.return);break;case 5:if(Bt(t,e),Yt(e),r&512&&n!==null&&ni(n,n.return),e.flags&32){var i=e.stateNode;try{ks(i,"")}catch(w){Se(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&kg(i,s),dc(l,o);var u=dc(l,s);for(o=0;o<a.length;o+=2){var c=a[o],h=a[o+1];c==="style"?Ag(i,h):c==="dangerouslySetInnerHTML"?xg(i,h):c==="children"?ks(i,h):Mh(i,c,h,u)}switch(l){case"input":ac(i,s);break;case"textarea":Cg(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?oi(i,!!s.multiple,y,!1):d!==!!s.multiple&&(s.defaultValue!=null?oi(i,!!s.multiple,s.defaultValue,!0):oi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ps]=s}catch(w){Se(e,e.return,w)}}break;case 6:if(Bt(t,e),Yt(e),r&4){if(e.stateNode===null)throw Error(C(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(w){Se(e,e.return,w)}}break;case 3:if(Bt(t,e),Yt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ns(t.containerInfo)}catch(w){Se(e,e.return,w)}break;case 4:Bt(t,e),Yt(e);break;case 13:Bt(t,e),Yt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(gf=xe())),r&4&&Op(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(it=(u=it)||c,Bt(t,e),it=u):Bt(t,e),Yt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(P=e,c=e.child;c!==null;){for(h=P=c;P!==null;){switch(d=P,y=d.child,d.tag){case 0:case 11:case 14:case 15:ps(4,d,d.return);break;case 1:ni(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){Se(r,n,w)}}break;case 5:ni(d,d.return);break;case 22:if(d.memoizedState!==null){Lp(h);continue}}y!==null?(y.return=d,P=y):Lp(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Ng("display",o))}catch(w){Se(e,e.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){Se(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Bt(t,e),Yt(e),r&4&&Op(e);break;case 21:break;default:Bt(t,e),Yt(e)}}function Yt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(tv(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ks(i,""),r.flags&=-33);var s=Rp(e);jc(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Rp(e);zc(e,l,o);break;default:throw Error(C(161))}}catch(a){Se(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function WS(e,t,n){P=e,iv(e)}function iv(e,t,n){for(var r=(e.mode&1)!==0;P!==null;){var i=P,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Vo;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||it;l=Vo;var u=it;if(Vo=o,(it=a)&&!u)for(P=i;P!==null;)o=P,a=o.child,o.tag===22&&o.memoizedState!==null?$p(i):a!==null?(a.return=o,P=a):$p(i);for(;s!==null;)P=s,iv(s),s=s.sibling;P=i,Vo=l,it=u}Pp(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,P=s):Pp(e)}}function Pp(e){for(;P!==null;){var t=P;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||wa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!it)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:zt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&gp(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gp(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Ns(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}it||t.flags&512&&Bc(t)}catch(d){Se(t,t.return,d)}}if(t===e){P=null;break}if(n=t.sibling,n!==null){n.return=t.return,P=n;break}P=t.return}}function Lp(e){for(;P!==null;){var t=P;if(t===e){P=null;break}var n=t.sibling;if(n!==null){n.return=t.return,P=n;break}P=t.return}}function $p(e){for(;P!==null;){var t=P;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wa(4,t)}catch(a){Se(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Se(t,i,a)}}var s=t.return;try{Bc(t)}catch(a){Se(t,s,a)}break;case 5:var o=t.return;try{Bc(t)}catch(a){Se(t,o,a)}}}catch(a){Se(t,t.return,a)}if(t===e){P=null;break}var l=t.sibling;if(l!==null){l.return=t.return,P=l;break}P=t.return}}var qS=Math.ceil,$l=xn.ReactCurrentDispatcher,pf=xn.ReactCurrentOwner,Ft=xn.ReactCurrentBatchConfig,te=0,je=null,Oe=null,Ge=0,kt=0,ri=sr(0),$e=0,Vs=null,Nr=0,Ea=0,mf=0,ms=null,wt=null,gf=0,_i=1/0,hn=null,Ml=!1,Hc=null,Hn=null,bo=!1,Fn=null,Fl=0,gs=0,Kc=null,ll=-1,al=0;function mt(){return te&6?xe():ll!==-1?ll:ll=xe()}function Kn(e){return e.mode&1?te&2&&Ge!==0?Ge&-Ge:DS.transition!==null?(al===0&&(al=Bg()),al):(e=se,e!==0||(e=window.event,e=e===void 0?16:Qg(e.type)),e):1}function Qt(e,t,n,r){if(50<gs)throw gs=0,Kc=null,Error(C(185));to(e,n,r),(!(te&2)||e!==je)&&(e===je&&(!(te&2)&&(Ea|=n),$e===4&&Pn(e,Ge)),Tt(e,r),n===1&&te===0&&!(t.mode&1)&&(_i=xe()+500,ga&&or()))}function Tt(e,t){var n=e.callbackNode;DE(e,t);var r=El(e,e===je?Ge:0);if(r===0)n!==null&&Hd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Hd(n),t===1)e.tag===0?AS(Mp.bind(null,e)):dy(Mp.bind(null,e)),CS(function(){!(te&6)&&or()}),n=null;else{switch(zg(r)){case 1:n=Bh;break;case 4:n=Vg;break;case 16:n=wl;break;case 536870912:n=bg;break;default:n=wl}n=fv(n,sv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sv(e,t){if(ll=-1,al=0,te&6)throw Error(C(327));var n=e.callbackNode;if(hi()&&e.callbackNode!==n)return null;var r=El(e,e===je?Ge:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ul(e,r);else{t=r;var i=te;te|=2;var s=lv();(je!==e||Ge!==t)&&(hn=null,_i=xe()+500,Er(e,t));do try{XS();break}catch(l){ov(e,l)}while(1);ef(),$l.current=s,te=i,Oe!==null?t=0:(je=null,Ge=0,t=$e)}if(t!==0){if(t===2&&(i=vc(e),i!==0&&(r=i,t=Wc(e,i))),t===1)throw n=Vs,Er(e,0),Pn(e,r),Tt(e,xe()),n;if(t===6)Pn(e,r);else{if(i=e.current.alternate,!(r&30)&&!QS(i)&&(t=Ul(e,r),t===2&&(s=vc(e),s!==0&&(r=s,t=Wc(e,s))),t===1))throw n=Vs,Er(e,0),Pn(e,r),Tt(e,xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(C(345));case 2:cr(e,wt,hn);break;case 3:if(Pn(e,r),(r&130023424)===r&&(t=gf+500-xe(),10<t)){if(El(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){mt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ic(cr.bind(null,e,wt,hn),t);break}cr(e,wt,hn);break;case 4:if(Pn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-qt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qS(r/1960))-r,10<r){e.timeoutHandle=Ic(cr.bind(null,e,wt,hn),r);break}cr(e,wt,hn);break;case 5:cr(e,wt,hn);break;default:throw Error(C(329))}}}return Tt(e,xe()),e.callbackNode===n?sv.bind(null,e):null}function Wc(e,t){var n=ms;return e.current.memoizedState.isDehydrated&&(Er(e,t).flags|=256),e=Ul(e,t),e!==2&&(t=wt,wt=n,t!==null&&qc(t)),e}function qc(e){wt===null?wt=e:wt.push.apply(wt,e)}function QS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Xt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pn(e,t){for(t&=~mf,t&=~Ea,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function Mp(e){if(te&6)throw Error(C(327));hi();var t=El(e,0);if(!(t&1))return Tt(e,xe()),null;var n=Ul(e,t);if(e.tag!==0&&n===2){var r=vc(e);r!==0&&(t=r,n=Wc(e,r))}if(n===1)throw n=Vs,Er(e,0),Pn(e,t),Tt(e,xe()),n;if(n===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cr(e,wt,hn),Tt(e,xe()),null}function yf(e,t){var n=te;te|=1;try{return e(t)}finally{te=n,te===0&&(_i=xe()+500,ga&&or())}}function Ar(e){Fn!==null&&Fn.tag===0&&!(te&6)&&hi();var t=te;te|=1;var n=Ft.transition,r=se;try{if(Ft.transition=null,se=1,e)return e()}finally{se=r,Ft.transition=n,te=t,!(te&6)&&or()}}function vf(){kt=ri.current,ce(ri)}function Er(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,kS(n)),Oe!==null)for(n=Oe.return;n!==null;){var r=n;switch(Yh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cl();break;case 3:Ei(),ce(St),ce(ut),lf();break;case 5:of(r);break;case 4:Ei();break;case 13:ce(ye);break;case 19:ce(ye);break;case 10:tf(r.type._context);break;case 22:case 23:vf()}n=n.return}if(je=e,Oe=e=Wn(e.current,null),Ge=kt=t,$e=0,Vs=null,mf=Ea=Nr=0,wt=ms=null,pr!==null){for(t=0;t<pr.length;t++)if(n=pr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}pr=null}return e}function ov(e,t){do{var n=Oe;try{if(ef(),il.current=Ll,Pl){for(var r=ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Pl=!1}if(xr=0,ze=Pe=ve=null,ds=!1,Ms=0,pf.current=null,n===null||n.return===null){$e=1,Vs=t,Oe=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=Ge,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=Tp(o);if(y!==null){y.flags&=-257,kp(y,o,l,s,t),y.mode&1&&_p(s,u,t),t=y,a=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(a),t.updateQueue=w}else v.add(a);break e}else{if(!(t&1)){_p(s,u,t),wf();break e}a=Error(C(426))}}else if(pe&&l.mode&1){var T=Tp(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),kp(T,o,l,s,t),Jh(Si(a,l));break e}}s=a=Si(a,l),$e!==4&&($e=2),ms===null?ms=[s]:ms.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=jy(s,a,t);mp(s,p);break e;case 1:l=a;var f=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Hn===null||!Hn.has(m)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=Hy(s,l,t);mp(s,E);break e}}s=s.return}while(s!==null)}uv(n)}catch(k){t=k,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(1)}function lv(){var e=$l.current;return $l.current=Ll,e===null?Ll:e}function wf(){($e===0||$e===3||$e===2)&&($e=4),je===null||!(Nr&268435455)&&!(Ea&268435455)||Pn(je,Ge)}function Ul(e,t){var n=te;te|=2;var r=lv();(je!==e||Ge!==t)&&(hn=null,Er(e,t));do try{GS();break}catch(i){ov(e,i)}while(1);if(ef(),te=n,$l.current=r,Oe!==null)throw Error(C(261));return je=null,Ge=0,$e}function GS(){for(;Oe!==null;)av(Oe)}function XS(){for(;Oe!==null&&!SE();)av(Oe)}function av(e){var t=hv(e.alternate,e,kt);e.memoizedProps=e.pendingProps,t===null?uv(e):Oe=t,pf.current=null}function uv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=jS(n,t),n!==null){n.flags&=32767,Oe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Oe=null;return}}else if(n=zS(n,t,kt),n!==null){Oe=n;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);$e===0&&($e=5)}function cr(e,t,n){var r=se,i=Ft.transition;try{Ft.transition=null,se=1,YS(e,t,n,r)}finally{Ft.transition=i,se=r}return null}function YS(e,t,n,r){do hi();while(Fn!==null);if(te&6)throw Error(C(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(RE(e,s),e===je&&(Oe=je=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bo||(bo=!0,fv(wl,function(){return hi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ft.transition,Ft.transition=null;var o=se;se=1;var l=te;te|=4,pf.current=null,KS(e,n),rv(n,e),yS(kc),Sl=!!Tc,kc=Tc=null,e.current=n,WS(n),_E(),te=l,se=o,Ft.transition=s}else e.current=n;if(bo&&(bo=!1,Fn=e,Fl=i),s=e.pendingLanes,s===0&&(Hn=null),CE(n.stateNode),Tt(e,xe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ml)throw Ml=!1,e=Hc,Hc=null,e;return Fl&1&&e.tag!==0&&hi(),s=e.pendingLanes,s&1?e===Kc?gs++:(gs=0,Kc=e):gs=0,or(),null}function hi(){if(Fn!==null){var e=zg(Fl),t=Ft.transition,n=se;try{if(Ft.transition=null,se=16>e?16:e,Fn===null)var r=!1;else{if(e=Fn,Fn=null,Fl=0,te&6)throw Error(C(331));var i=te;for(te|=4,P=e.current;P!==null;){var s=P,o=s.child;if(P.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(P=u;P!==null;){var c=P;switch(c.tag){case 0:case 11:case 15:ps(8,c,s)}var h=c.child;if(h!==null)h.return=c,P=h;else for(;P!==null;){c=P;var d=c.sibling,y=c.return;if(ev(c),c===u){P=null;break}if(d!==null){d.return=y,P=d;break}P=y}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var T=w.sibling;w.sibling=null,w=T}while(w!==null)}}P=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,P=o;else e:for(;P!==null;){if(s=P,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ps(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,P=p;break e}P=s.return}}var f=e.current;for(P=f;P!==null;){o=P;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,P=m;else e:for(o=f;P!==null;){if(l=P,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wa(9,l)}}catch(k){Se(l,l.return,k)}if(l===o){P=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,P=E;break e}P=l.return}}if(te=i,or(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(ha,e)}catch{}r=!0}return r}finally{se=n,Ft.transition=t}}return!1}function Fp(e,t,n){t=Si(n,t),t=jy(e,t,1),e=jn(e,t,1),t=mt(),e!==null&&(to(e,1,t),Tt(e,t))}function Se(e,t,n){if(e.tag===3)Fp(e,e,n);else for(;t!==null;){if(t.tag===3){Fp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hn===null||!Hn.has(r))){e=Si(n,e),e=Hy(t,e,1),t=jn(t,e,1),e=mt(),t!==null&&(to(t,1,e),Tt(t,e));break}}t=t.return}}function JS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=mt(),e.pingedLanes|=e.suspendedLanes&n,je===e&&(Ge&n)===n&&($e===4||$e===3&&(Ge&130023424)===Ge&&500>xe()-gf?Er(e,0):mf|=n),Tt(e,t)}function cv(e,t){t===0&&(e.mode&1?(t=Do,Do<<=1,!(Do&130023424)&&(Do=4194304)):t=1);var n=mt();e=En(e,t),e!==null&&(to(e,t,n),Tt(e,n))}function ZS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),cv(e,n)}function e_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(t),cv(e,n)}var hv;hv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||St.current)Et=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Et=!1,BS(e,t,n);Et=!!(e.flags&131072)}else Et=!1,pe&&t.flags&1048576&&py(t,Nl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ol(e,t),e=t.pendingProps;var i=yi(t,ut.current);ci(t,n),i=uf(null,t,r,e,i,n);var s=cf();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_t(r)?(s=!0,Il(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,rf(t),i.updater=ya,t.stateNode=i,i._reactInternals=t,Pc(t,r,e,n),t=Mc(null,t,r,!0,s,n)):(t.tag=0,pe&&s&&Xh(t),ft(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ol(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=n_(r),e=zt(r,e),i){case 0:t=$c(null,t,r,e,n);break e;case 1:t=xp(null,t,r,e,n);break e;case 11:t=Cp(null,t,r,e,n);break e;case 14:t=Ip(null,t,r,zt(r.type,e),n);break e}throw Error(C(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zt(r,i),$c(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zt(r,i),xp(e,t,r,i,n);case 3:e:{if(Qy(t),e===null)throw Error(C(387));r=t.pendingProps,s=t.memoizedState,i=s.element,vy(e,t),Rl(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Si(Error(C(423)),t),t=Np(e,t,r,n,i);break e}else if(r!==i){i=Si(Error(C(424)),t),t=Np(e,t,r,n,i);break e}else for(Ct=zn(t.stateNode.containerInfo.firstChild),xt=t,pe=!0,Ht=null,n=_y(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vi(),r===i){t=Sn(e,t,n);break e}ft(e,t,r,n)}t=t.child}return t;case 5:return Ty(t),e===null&&Dc(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Cc(r,i)?o=null:s!==null&&Cc(r,s)&&(t.flags|=32),qy(e,t),ft(e,t,o,n),t.child;case 6:return e===null&&Dc(t),null;case 13:return Gy(e,t,n);case 4:return sf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=wi(t,null,r,n):ft(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zt(r,i),Cp(e,t,r,i,n);case 7:return ft(e,t,t.pendingProps,n),t.child;case 8:return ft(e,t,t.pendingProps.children,n),t.child;case 12:return ft(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,le(Al,r._currentValue),r._currentValue=o,s!==null)if(Xt(s.value,o)){if(s.children===i.children&&!St.current){t=Sn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=gn(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Rc(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(C(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Rc(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ft(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ci(t,n),i=Ut(i),r=r(i),t.flags|=1,ft(e,t,r,n),t.child;case 14:return r=t.type,i=zt(r,t.pendingProps),i=zt(r.type,i),Ip(e,t,r,i,n);case 15:return Ky(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zt(r,i),ol(e,t),t.tag=1,_t(r)?(e=!0,Il(t)):e=!1,ci(t,n),Ey(t,r,i),Pc(t,r,i,n),Mc(null,t,r,!0,e,n);case 19:return Xy(e,t,n);case 22:return Wy(e,t,n)}throw Error(C(156,t.tag))};function fv(e,t){return Ug(e,t)}function t_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,n,r){return new t_(e,t,n,r)}function Ef(e){return e=e.prototype,!(!e||!e.isReactComponent)}function n_(e){if(typeof e=="function")return Ef(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Uh)return 11;if(e===Vh)return 14}return 2}function Wn(e,t){var n=e.alternate;return n===null?(n=Mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ul(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Ef(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case qr:return Sr(n.children,i,s,t);case Fh:o=8,i|=8;break;case rc:return e=Mt(12,n,t,i|2),e.elementType=rc,e.lanes=s,e;case ic:return e=Mt(13,n,t,i),e.elementType=ic,e.lanes=s,e;case sc:return e=Mt(19,n,t,i),e.elementType=sc,e.lanes=s,e;case Sg:return Sa(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wg:o=10;break e;case Eg:o=9;break e;case Uh:o=11;break e;case Vh:o=14;break e;case Dn:o=16,r=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=Mt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Sr(e,t,n,r){return e=Mt(7,e,r,t),e.lanes=n,e}function Sa(e,t,n,r){return e=Mt(22,e,r,t),e.elementType=Sg,e.lanes=n,e.stateNode={isHidden:!1},e}function xu(e,t,n){return e=Mt(6,e,null,t),e.lanes=n,e}function Nu(e,t,n){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function r_(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=au(0),this.expirationTimes=au(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=au(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Sf(e,t,n,r,i,s,o,l,a){return e=new r_(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Mt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rf(s),e}function i_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function dv(e){if(!e)return er;e=e._reactInternals;e:{if($r(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var n=e.type;if(_t(n))return fy(e,n,t)}return t}function pv(e,t,n,r,i,s,o,l,a){return e=Sf(n,r,!0,e,i,s,o,l,a),e.context=dv(null),n=e.current,r=mt(),i=Kn(n),s=gn(r,i),s.callback=t??null,jn(n,s,i),e.current.lanes=i,to(e,i,r),Tt(e,r),e}function _a(e,t,n,r){var i=t.current,s=mt(),o=Kn(i);return n=dv(n),t.context===null?t.context=n:t.pendingContext=n,t=gn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=jn(i,t,o),e!==null&&(Qt(e,i,o,s),rl(e,i,o)),o}function Vl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Up(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function _f(e,t){Up(e,t),(e=e.alternate)&&Up(e,t)}function s_(){return null}var mv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Tf(e){this._internalRoot=e}Ta.prototype.render=Tf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));_a(e,t,null,null)};Ta.prototype.unmount=Tf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ar(function(){_a(null,e,null,null)}),t[wn]=null}};function Ta(e){this._internalRoot=e}Ta.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<On.length&&t!==0&&t<On[n].priority;n++);On.splice(n,0,e),n===0&&qg(e)}};function kf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ka(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vp(){}function o_(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Vl(o);s.call(u)}}var o=pv(t,r,e,0,null,!1,!1,"",Vp);return e._reactRootContainer=o,e[wn]=o.current,Rs(e.nodeType===8?e.parentNode:e),Ar(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Vl(a);l.call(u)}}var a=Sf(e,0,!1,null,null,!1,!1,"",Vp);return e._reactRootContainer=a,e[wn]=a.current,Rs(e.nodeType===8?e.parentNode:e),Ar(function(){_a(t,a,n,r)}),a}function Ca(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Vl(o);l.call(a)}}_a(t,o,e,i)}else o=o_(n,t,e,i,r);return Vl(o)}jg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=rs(t.pendingLanes);n!==0&&(zh(t,n|1),Tt(t,xe()),!(te&6)&&(_i=xe()+500,or()))}break;case 13:Ar(function(){var r=En(e,1);if(r!==null){var i=mt();Qt(r,e,1,i)}}),_f(e,1)}};jh=function(e){if(e.tag===13){var t=En(e,134217728);if(t!==null){var n=mt();Qt(t,e,134217728,n)}_f(e,134217728)}};Hg=function(e){if(e.tag===13){var t=Kn(e),n=En(e,t);if(n!==null){var r=mt();Qt(n,e,t,r)}_f(e,t)}};Kg=function(){return se};Wg=function(e,t){var n=se;try{return se=e,t()}finally{se=n}};mc=function(e,t,n){switch(t){case"input":if(ac(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ma(r);if(!i)throw Error(C(90));Tg(r),ac(r,i)}}}break;case"textarea":Cg(e,n);break;case"select":t=n.value,t!=null&&oi(e,!!n.multiple,t,!1)}};Og=yf;Pg=Ar;var l_={usingClientEntryPoint:!1,Events:[ro,Yr,ma,Dg,Rg,yf]},Yi={findFiberByHostInstance:dr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},a_={bundleType:Yi.bundleType,version:Yi.version,rendererPackageName:Yi.rendererPackageName,rendererConfig:Yi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Mg(e),e===null?null:e.stateNode},findFiberByHostInstance:Yi.findFiberByHostInstance||s_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bo.isDisabled&&Bo.supportsFiber)try{ha=Bo.inject(a_),rn=Bo}catch{}}Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l_;Dt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kf(t))throw Error(C(200));return i_(e,t,null,n)};Dt.createRoot=function(e,t){if(!kf(e))throw Error(C(299));var n=!1,r="",i=mv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Sf(e,1,!1,null,null,n,!1,r,i),e[wn]=t.current,Rs(e.nodeType===8?e.parentNode:e),new Tf(t)};Dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=Mg(t),e=e===null?null:e.stateNode,e};Dt.flushSync=function(e){return Ar(e)};Dt.hydrate=function(e,t,n){if(!ka(t))throw Error(C(200));return Ca(null,e,t,!0,n)};Dt.hydrateRoot=function(e,t,n){if(!kf(e))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=mv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=pv(t,null,e,1,n??null,i,!1,s,o),e[wn]=t.current,Rs(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ta(t)};Dt.render=function(e,t,n){if(!ka(t))throw Error(C(200));return Ca(null,e,t,!1,n)};Dt.unmountComponentAtNode=function(e){if(!ka(e))throw Error(C(40));return e._reactRootContainer?(Ar(function(){Ca(null,null,e,!1,function(){e._reactRootContainer=null,e[wn]=null})}),!0):!1};Dt.unstable_batchedUpdates=yf;Dt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ka(n))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return Ca(e,t,n,!1,r)};Dt.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=Dt})(sE);var bp=ec;Zu.createRoot=bp.createRoot,Zu.hydrateRoot=bp.hydrateRoot;/**
 * @remix-run/router v1.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bs(){return bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bs.apply(this,arguments)}var Un;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Un||(Un={}));const Bp="popstate";function u_(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:l}=r.location;return Qc("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:bl(i)}return h_(t,n,null,e)}function Me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Cf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function c_(){return Math.random().toString(36).substr(2,8)}function zp(e,t){return{usr:e.state,key:e.key,idx:t}}function Qc(e,t,n,r){return n===void 0&&(n=null),bs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?$i(t):t,{state:n,key:t&&t.key||r||c_()})}function bl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function $i(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function h_(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Un.Pop,a=null,u=c();u==null&&(u=0,o.replaceState(bs({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){l=Un.Pop;let T=c(),p=T==null?null:T-u;u=T,a&&a({action:l,location:w.location,delta:p})}function d(T,p){l=Un.Push;let f=Qc(w.location,T,p);n&&n(f,T),u=c()+1;let m=zp(f,u),E=w.createHref(f);try{o.pushState(m,"",E)}catch{i.location.assign(E)}s&&a&&a({action:l,location:w.location,delta:1})}function y(T,p){l=Un.Replace;let f=Qc(w.location,T,p);n&&n(f,T),u=c();let m=zp(f,u),E=w.createHref(f);o.replaceState(m,"",E),s&&a&&a({action:l,location:w.location,delta:0})}function v(T){let p=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof T=="string"?T:bl(T);return Me(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let w={get action(){return l},get location(){return e(i,o)},listen(T){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(Bp,h),a=T,()=>{i.removeEventListener(Bp,h),a=null}},createHref(T){return t(i,T)},createURL:v,encodeLocation(T){let p=v(T);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:y,go(T){return o.go(T)}};return w}var jp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(jp||(jp={}));function f_(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?$i(t):t,i=If(r.pathname||"/",n);if(i==null)return null;let s=gv(e);d_(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=__(s[l],C_(i));return o}function gv(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(Me(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=qn([r,a.relativePath]),c=n.concat(a);s.children&&s.children.length>0&&(Me(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),gv(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:E_(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of yv(s.path))i(s,o,a)}),t}function yv(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=yv(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function d_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:S_(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const p_=/^:\w+$/,m_=3,g_=2,y_=1,v_=10,w_=-2,Hp=e=>e==="*";function E_(e,t){let n=e.split("/"),r=n.length;return n.some(Hp)&&(r+=w_),t&&(r+=g_),n.filter(i=>!Hp(i)).reduce((i,s)=>i+(p_.test(s)?m_:s===""?y_:v_),r)}function S_(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function __(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],a=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=T_({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},u);if(!c)return null;Object.assign(r,c.params);let h=l.route;s.push({params:r,pathname:qn([i,c.pathname]),pathnameBase:A_(qn([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=qn([i,c.pathnameBase]))}return s}function T_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=k_(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let d=l[h]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=I_(l[h]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:e}}function k_(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Cf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,l)=>(r.push(l),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function C_(e){try{return decodeURI(e)}catch(t){return Cf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function I_(e,t){try{return decodeURIComponent(e)}catch(n){return Cf(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function If(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function x_(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?$i(e):e;return{pathname:n?n.startsWith("/")?n:N_(n,t):t,search:D_(r),hash:R_(i)}}function N_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Au(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vv(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function wv(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=$i(e):(i=bs({},e),Me(!i.pathname||!i.pathname.includes("?"),Au("?","pathname","search",i)),Me(!i.pathname||!i.pathname.includes("#"),Au("#","pathname","hash",i)),Me(!i.search||!i.search.includes("#"),Au("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(r||o==null)l=n;else{let h=t.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}l=h>=0?t[h]:"/"}let a=x_(i,l),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const qn=e=>e.join("/").replace(/\/\/+/g,"/"),A_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),D_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,R_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function O_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}/**
 * React Router v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function P_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const L_=typeof Object.is=="function"?Object.is:P_,{useState:$_,useEffect:M_,useLayoutEffect:F_,useDebugValue:U_}=Ju;function V_(e,t,n){const r=t(),[{inst:i},s]=$_({inst:{value:r,getSnapshot:t}});return F_(()=>{i.value=r,i.getSnapshot=t,Du(i)&&s({inst:i})},[e,r,t]),M_(()=>(Du(i)&&s({inst:i}),e(()=>{Du(i)&&s({inst:i})})),[e]),U_(r),r}function Du(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!L_(n,r)}catch{return!0}}function b_(e,t,n){return t()}const B_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",z_=!B_,j_=z_?b_:V_;"useSyncExternalStore"in Ju&&(e=>e.useSyncExternalStore)(Ju);const Ev=L.createContext(null),Sv=L.createContext(null),so=L.createContext(null),Ia=L.createContext(null),Mi=L.createContext({outlet:null,matches:[]}),_v=L.createContext(null);function Gc(){return Gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gc.apply(this,arguments)}function H_(e,t){let{relative:n}=t===void 0?{}:t;oo()||Me(!1);let{basename:r,navigator:i}=L.useContext(so),{hash:s,pathname:o,search:l}=kv(e,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:qn([r,o])),i.createHref({pathname:a,search:l,hash:s})}function oo(){return L.useContext(Ia)!=null}function xa(){return oo()||Me(!1),L.useContext(Ia).location}function Tv(){oo()||Me(!1);let{basename:e,navigator:t}=L.useContext(so),{matches:n}=L.useContext(Mi),{pathname:r}=xa(),i=JSON.stringify(vv(n).map(l=>l.pathnameBase)),s=L.useRef(!1);return L.useEffect(()=>{s.current=!0}),L.useCallback(function(l,a){if(a===void 0&&(a={}),!s.current)return;if(typeof l=="number"){t.go(l);return}let u=wv(l,JSON.parse(i),r,a.relative==="path");e!=="/"&&(u.pathname=u.pathname==="/"?e:qn([e,u.pathname])),(a.replace?t.replace:t.push)(u,a.state,a)},[e,t,i,r])}function kv(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=L.useContext(Mi),{pathname:i}=xa(),s=JSON.stringify(vv(r).map(o=>o.pathnameBase));return L.useMemo(()=>wv(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function K_(e,t){oo()||Me(!1);let{navigator:n}=L.useContext(so),r=L.useContext(Sv),{matches:i}=L.useContext(Mi),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let a=xa(),u;if(t){var c;let w=typeof t=="string"?$i(t):t;l==="/"||(c=w.pathname)!=null&&c.startsWith(l)||Me(!1),u=w}else u=a;let h=u.pathname||"/",d=l==="/"?h:h.slice(l.length)||"/",y=f_(e,{pathname:d}),v=G_(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:qn([l,n.encodeLocation?n.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:qn([l,n.encodeLocation?n.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r||void 0);return t&&v?L.createElement(Ia.Provider,{value:{location:Gc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Un.Pop}},v):v}function W_(){let e=Z_(),t=O_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),n?L.createElement("pre",{style:i},n):null,s)}class q_ extends L.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?L.createElement(Mi.Provider,{value:this.props.routeContext},L.createElement(_v.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Q_(e){let{routeContext:t,match:n,children:r}=e,i=L.useContext(Ev);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(Mi.Provider,{value:t},r)}function G_(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Me(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,l)=>{let a=o.route.id?i==null?void 0:i[o.route.id]:null,u=null;n&&(o.route.ErrorBoundary?u=L.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=L.createElement(W_,null));let c=t.concat(r.slice(0,l+1)),h=()=>{let d=s;return a?d=u:o.route.Component?d=L.createElement(o.route.Component,null):o.route.element&&(d=o.route.element),L.createElement(Q_,{match:o,routeContext:{outlet:s,matches:c},children:d})};return n&&(o.route.ErrorBoundary||o.route.errorElement||l===0)?L.createElement(q_,{location:n.location,component:u,error:a,children:h(),routeContext:{outlet:null,matches:c}}):h()},null)}var Kp;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(Kp||(Kp={}));var Bl;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(Bl||(Bl={}));function X_(e){let t=L.useContext(Sv);return t||Me(!1),t}function Y_(e){let t=L.useContext(Mi);return t||Me(!1),t}function J_(e){let t=Y_(),n=t.matches[t.matches.length-1];return n.route.id||Me(!1),n.route.id}function Z_(){var e;let t=L.useContext(_v),n=X_(Bl.UseRouteError),r=J_(Bl.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function Xc(e){Me(!1)}function eT(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Un.Pop,navigator:s,static:o=!1}=e;oo()&&Me(!1);let l=t.replace(/^\/*/,"/"),a=L.useMemo(()=>({basename:l,navigator:s,static:o}),[l,s,o]);typeof r=="string"&&(r=$i(r));let{pathname:u="/",search:c="",hash:h="",state:d=null,key:y="default"}=r,v=L.useMemo(()=>{let w=If(u,l);return w==null?null:{location:{pathname:w,search:c,hash:h,state:d,key:y},navigationType:i}},[l,u,c,h,d,y,i]);return v==null?null:L.createElement(so.Provider,{value:a},L.createElement(Ia.Provider,{children:n,value:v}))}function tT(e){let{children:t,location:n}=e,r=L.useContext(Ev),i=r&&!t?r.router.routes:Yc(t);return K_(i,n)}var Wp;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(Wp||(Wp={}));new Promise(()=>{});function Yc(e,t){t===void 0&&(t=[]);let n=[];return L.Children.forEach(e,(r,i)=>{if(!L.isValidElement(r))return;if(r.type===L.Fragment){n.push.apply(n,Yc(r.props.children,t));return}r.type!==Xc&&Me(!1),!r.props.index||!r.props.children||Me(!1);let s=[...t,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Yc(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jc(){return Jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jc.apply(this,arguments)}function nT(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function rT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function iT(e,t){return e.button===0&&(!t||t==="_self")&&!rT(e)}const sT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function oT(e){let{basename:t,children:n,window:r}=e,i=L.useRef();i.current==null&&(i.current=u_({window:r,v5Compat:!0}));let s=i.current,[o,l]=L.useState({action:s.action,location:s.location});return L.useLayoutEffect(()=>s.listen(l),[s]),L.createElement(eT,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:s})}const lT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uT=L.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:a,to:u,preventScrollReset:c}=t,h=nT(t,sT),{basename:d}=L.useContext(so),y,v=!1;if(typeof u=="string"&&aT.test(u)&&(y=u,lT)){let f=new URL(window.location.href),m=u.startsWith("//")?new URL(f.protocol+u):new URL(u),E=If(m.pathname,d);m.origin===f.origin&&E!=null?u=E+m.search+m.hash:v=!0}let w=H_(u,{relative:i}),T=cT(u,{replace:o,state:l,target:a,preventScrollReset:c,relative:i});function p(f){r&&r(f),f.defaultPrevented||T(f)}return L.createElement("a",Jc({},h,{href:y||w,onClick:v||s?r:p,ref:n,target:a}))});var qp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(qp||(qp={}));var Qp;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Qp||(Qp={}));function cT(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=t===void 0?{}:t,l=Tv(),a=xa(),u=kv(e,{relative:o});return L.useCallback(c=>{if(iT(c,n)){c.preventDefault();let h=r!==void 0?r:bl(a)===bl(u);l(e,{replace:h,state:i,preventScrollReset:s,relative:o})}},[a,l,u,r,i,n,e,s,o])}const hT="modulepreload",fT=function(e){return"/publicaciones/"+e},Gp={},dT=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=fT(s),s in Gp)return;Gp[s]=!0;const o=s.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const h=i[c];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":hT,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},pT=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],l=e[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Iv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,l=o?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0,c=s>>2,h=(s&3)<<4|l>>4;let d=(l&15)<<2|u>>6,y=u&63;a||(y=64,o||(d=64)),r.push(n[c],n[h],n[d],n[y])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Cv(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):pT(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||l==null||u==null||h==null)throw new mT;const d=s<<2|l>>4;if(r.push(d),u!==64){const y=l<<4&240|u>>2;if(r.push(y),h!==64){const v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class mT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gT=function(e){const t=Cv(e);return Iv.encodeByteArray(t,!0)},zl=function(e){return gT(e).replace(/\./g,"")},yT=function(e){try{return Iv.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=()=>vT().__FIREBASE_DEFAULTS__,ET=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},ST=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&yT(e[1]);return t&&JSON.parse(t)},xf=()=>{try{return wT()||ET()||ST()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},_T=e=>{var t,n;return(n=(t=xf())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},xv=e=>{const t=_T(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},TT=()=>{var e;return(e=xf())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[zl(JSON.stringify(n)),zl(JSON.stringify(o)),l].join(".")}function CT(){var e;const t=(e=xf())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IT(){try{return typeof indexedDB=="object"}catch{return!1}}function xT(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="FirebaseError";class Mr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=NT,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Av.prototype.create)}}class Av{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?AT(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Mr(i,l,r)}}function AT(e,t){return e.replace(DT,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const DT=/\{\$([^}]+)}/g;function Zc(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Xp(s)&&Xp(o)){if(!Zc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Xp(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(e){return e&&e._delegate?e._delegate:e}class Ti{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new kT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(PT(t))try{this.getOrInitializeService({instanceIdentifier:hr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=hr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=hr){return this.instances.has(t)}getOptions(t=hr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OT(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=hr){return this.component?this.component.multipleInstances?t:hr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OT(e){return e===hr?void 0:e}function PT(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new RT(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(re||(re={}));const $T={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},MT=re.INFO,FT={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},UT=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=FT[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Dv{constructor(t){this.name=t,this._logLevel=MT,this._logHandler=UT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?$T[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...t),this._logHandler(this,re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...t),this._logHandler(this,re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,re.INFO,...t),this._logHandler(this,re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,re.WARN,...t),this._logHandler(this,re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...t),this._logHandler(this,re.ERROR,...t)}}const VT=(e,t)=>t.some(n=>e instanceof n);let Yp,Jp;function bT(){return Yp||(Yp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BT(){return Jp||(Jp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Rv=new WeakMap,eh=new WeakMap,Ov=new WeakMap,Ru=new WeakMap,Nf=new WeakMap;function zT(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Qn(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Rv.set(n,e)}).catch(()=>{}),Nf.set(t,e),t}function jT(e){if(eh.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});eh.set(e,t)}let th={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return eh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Ov.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function HT(e){th=e(th)}function KT(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Ou(this),t,...n);return Ov.set(r,t.sort?t.sort():[t]),Qn(r)}:BT().includes(e)?function(...t){return e.apply(Ou(this),t),Qn(Rv.get(this))}:function(...t){return Qn(e.apply(Ou(this),t))}}function WT(e){return typeof e=="function"?KT(e):(e instanceof IDBTransaction&&jT(e),VT(e,bT())?new Proxy(e,th):e)}function Qn(e){if(e instanceof IDBRequest)return zT(e);if(Ru.has(e))return Ru.get(e);const t=WT(e);return t!==e&&(Ru.set(e,t),Nf.set(t,e)),t}const Ou=e=>Nf.get(e);function qT(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),l=Qn(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Qn(o.result),a.oldVersion,a.newVersion,Qn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",()=>i())}).catch(()=>{}),l}const QT=["get","getKey","getAll","getAllKeys","count"],GT=["put","add","delete","clear"],Pu=new Map;function Zp(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Pu.get(t))return Pu.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=GT.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||QT.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return Pu.set(t,s),s}HT(e=>({...e,get:(t,n,r)=>Zp(t,n)||e.get(t,n,r),has:(t,n)=>!!Zp(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YT(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YT(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const nh="@firebase/app",em="0.9.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new Dv("@firebase/app"),JT="@firebase/app-compat",ZT="@firebase/analytics-compat",ek="@firebase/analytics",tk="@firebase/app-check-compat",nk="@firebase/app-check",rk="@firebase/auth",ik="@firebase/auth-compat",sk="@firebase/database",ok="@firebase/database-compat",lk="@firebase/functions",ak="@firebase/functions-compat",uk="@firebase/installations",ck="@firebase/installations-compat",hk="@firebase/messaging",fk="@firebase/messaging-compat",dk="@firebase/performance",pk="@firebase/performance-compat",mk="@firebase/remote-config",gk="@firebase/remote-config-compat",yk="@firebase/storage",vk="@firebase/storage-compat",wk="@firebase/firestore",Ek="@firebase/firestore-compat",Sk="firebase",_k="9.17.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh="[DEFAULT]",Tk={[nh]:"fire-core",[JT]:"fire-core-compat",[ek]:"fire-analytics",[ZT]:"fire-analytics-compat",[nk]:"fire-app-check",[tk]:"fire-app-check-compat",[rk]:"fire-auth",[ik]:"fire-auth-compat",[sk]:"fire-rtdb",[ok]:"fire-rtdb-compat",[lk]:"fire-fn",[ak]:"fire-fn-compat",[uk]:"fire-iid",[ck]:"fire-iid-compat",[hk]:"fire-fcm",[fk]:"fire-fcm-compat",[dk]:"fire-perf",[pk]:"fire-perf-compat",[mk]:"fire-rc",[gk]:"fire-rc-compat",[yk]:"fire-gcs",[vk]:"fire-gcs-compat",[wk]:"fire-fst",[Ek]:"fire-fst-compat","fire-js":"fire-js",[Sk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=new Map,ih=new Map;function kk(e,t){try{e.container.addComponent(t)}catch(n){Dr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Bs(e){const t=e.name;if(ih.has(t))return Dr.debug(`There were multiple attempts to register component ${t}.`),!1;ih.set(t,e);for(const n of jl.values())kk(n,e);return!0}function Pv(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Gn=new Av("app","Firebase",Ck);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=_k;function $v(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:rh,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Gn.create("bad-app-name",{appName:String(i)});if(n||(n=TT()),!n)throw Gn.create("no-options");const s=jl.get(i);if(s){if(Zc(n,s.options)&&Zc(r,s.config))return s;throw Gn.create("duplicate-app",{appName:i})}const o=new LT(i);for(const a of ih.values())o.addComponent(a);const l=new Ik(n,r,o);return jl.set(i,l),l}function Mv(e=rh){const t=jl.get(e);if(!t&&e===rh)return $v();if(!t)throw Gn.create("no-app",{appName:e});return t}function Xn(e,t,n){var r;let i=(r=Tk[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Dr.warn(l.join(" "));return}Bs(new Ti(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="firebase-heartbeat-database",Nk=1,zs="firebase-heartbeat-store";let Lu=null;function Fv(){return Lu||(Lu=qT(xk,Nk,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(zs)}}}).catch(e=>{throw Gn.create("idb-open",{originalErrorMessage:e.message})})),Lu}async function Ak(e){try{return(await Fv()).transaction(zs).objectStore(zs).get(Uv(e))}catch(t){if(t instanceof Mr)Dr.warn(t.message);else{const n=Gn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Dr.warn(n.message)}}}async function tm(e,t){try{const r=(await Fv()).transaction(zs,"readwrite");return await r.objectStore(zs).put(t,Uv(e)),r.done}catch(n){if(n instanceof Mr)Dr.warn(n.message);else{const r=Gn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Dr.warn(r.message)}}}function Uv(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=1024,Rk=30*24*60*60*1e3;class Ok{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Lk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=nm();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Rk}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=nm(),{heartbeatsToSend:n,unsentEntries:r}=Pk(this._heartbeatsCache.heartbeats),i=zl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function nm(){return new Date().toISOString().substring(0,10)}function Pk(e,t=Dk){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),rm(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rm(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Lk{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IT()?xT().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Ak(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return tm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return tm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function rm(e){return zl(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(e){Bs(new Ti("platform-logger",t=>new XT(t),"PRIVATE")),Bs(new Ti("heartbeat",t=>new Ok(t),"PRIVATE")),Xn(nh,em,e),Xn(nh,em,"esm2017"),Xn("fire-js","")}$k("");var Mk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},M,Af=Af||{},K=Mk||self;function Hl(){}function Na(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function lo(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function Fk(e){return Object.prototype.hasOwnProperty.call(e,$u)&&e[$u]||(e[$u]=++Uk)}var $u="closure_uid_"+(1e9*Math.random()>>>0),Uk=0;function Vk(e,t,n){return e.call.apply(e.bind,arguments)}function bk(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function lt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?lt=Vk:lt=bk,lt.apply(null,arguments)}function zo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Je(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return t.prototype[i].apply(r,o)}}function lr(){this.s=this.s,this.o=this.o}var Bk=0;lr.prototype.s=!1;lr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),Bk!=0)&&Fk(this)};lr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Vv=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Df(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function im(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Na(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function at(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var zk=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{K.addEventListener("test",Hl,t),K.removeEventListener("test",Hl,t)}catch{}return e}();function Kl(e){return/^[\s\xa0]*$/.test(e)}var sm=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Mu(e,t){return e<t?-1:e>t?1:0}function Aa(){var e=K.navigator;return e&&(e=e.userAgent)?e:""}function en(e){return Aa().indexOf(e)!=-1}function Rf(e){return Rf[" "](e),e}Rf[" "]=Hl;function jk(e){var t=Wk;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var Hk=en("Opera"),ki=en("Trident")||en("MSIE"),bv=en("Edge"),sh=bv||ki,Bv=en("Gecko")&&!(Aa().toLowerCase().indexOf("webkit")!=-1&&!en("Edge"))&&!(en("Trident")||en("MSIE"))&&!en("Edge"),Kk=Aa().toLowerCase().indexOf("webkit")!=-1&&!en("Edge");function zv(){var e=K.document;return e?e.documentMode:void 0}var Wl;e:{var Fu="",Uu=function(){var e=Aa();if(Bv)return/rv:([^\);]+)(\)|;)/.exec(e);if(bv)return/Edge\/([\d\.]+)/.exec(e);if(ki)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(Kk)return/WebKit\/(\S+)/.exec(e);if(Hk)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Uu&&(Fu=Uu?Uu[1]:""),ki){var Vu=zv();if(Vu!=null&&Vu>parseFloat(Fu)){Wl=String(Vu);break e}}Wl=Fu}var Wk={};function qk(){return jk(function(){let e=0;const t=sm(String(Wl)).split("."),n=sm("9").split("."),r=Math.max(t.length,n.length);for(let o=0;e==0&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;e=Mu(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Mu(i[2].length==0,s[2].length==0)||Mu(i[2],s[2]),i=i[3],s=s[3]}while(e==0)}return 0<=e})}var oh;if(K.document&&ki){var om=zv();oh=om||parseInt(Wl,10)||void 0}else oh=void 0;var Qk=oh;function js(e,t){if(at.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Bv){e:{try{Rf(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Gk[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&js.X.h.call(this)}}Je(js,at);var Gk={2:"touch",3:"pen",4:"mouse"};js.prototype.h=function(){js.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ao="closure_listenable_"+(1e6*Math.random()|0),Xk=0;function Yk(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Xk,this.ba=this.ea=!1}function Da(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Of(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function jv(e){const t={};for(const n in e)t[n]=e[n];return t}const lm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hv(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<lm.length;s++)n=lm[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ra(e){this.src=e,this.g={},this.h=0}Ra.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=ah(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):(t=new Yk(t,this.src,s,!!r,i),t.ea=n,e.push(t)),t};function lh(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=Vv(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Da(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function ah(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ba&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}var Pf="closure_lm_"+(1e6*Math.random()|0),bu={};function Kv(e,t,n,r,i){if(r&&r.once)return qv(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Kv(e,t[s],n,r,i);return null}return n=Mf(n),e&&e[ao]?e.N(t,n,lo(r)?!!r.capture:!!r,i):Wv(e,t,n,!1,r,i)}function Wv(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=lo(i)?!!i.capture:!!i,l=$f(e);if(l||(e[Pf]=l=new Ra(e)),n=l.add(t,n,r,o,s),n.proxy)return n;if(r=Jk(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)zk||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Gv(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Jk(){function e(n){return t.call(e.src,e.listener,n)}const t=Zk;return e}function qv(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)qv(e,t[s],n,r,i);return null}return n=Mf(n),e&&e[ao]?e.O(t,n,lo(r)?!!r.capture:!!r,i):Wv(e,t,n,!0,r,i)}function Qv(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Qv(e,t[s],n,r,i);else r=lo(r)?!!r.capture:!!r,n=Mf(n),e&&e[ao]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=ah(s,n,r,i),-1<n&&(Da(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=$f(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ah(t,n,r,i)),(n=-1<e?t[e]:null)&&Lf(n))}function Lf(e){if(typeof e!="number"&&e&&!e.ba){var t=e.src;if(t&&t[ao])lh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Gv(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=$f(t))?(lh(n,e),n.h==0&&(n.src=null,t[Pf]=null)):Da(e)}}}function Gv(e){return e in bu?bu[e]:bu[e]="on"+e}function Zk(e,t){if(e.ba)e=!0;else{t=new js(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Lf(e),e=n.call(r,t)}return e}function $f(e){return e=e[Pf],e instanceof Ra?e:null}var Bu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mf(e){return typeof e=="function"?e:(e[Bu]||(e[Bu]=function(t){return e.handleEvent(t)}),e[Bu])}function He(){lr.call(this),this.i=new Ra(this),this.P=this,this.I=null}Je(He,lr);He.prototype[ao]=!0;He.prototype.removeEventListener=function(e,t,n,r){Qv(this,e,t,n,r)};function Xe(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new at(t,e);else if(t instanceof at)t.target=t.target||e;else{var i=t;t=new at(r,e),Hv(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=jo(o,r,!0,t)&&i}if(o=t.g=e,i=jo(o,r,!0,t)&&i,i=jo(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=jo(o,r,!1,t)&&i}He.prototype.M=function(){if(He.X.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Da(n[r]);delete e.g[t],e.h--}}this.I=null};He.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};He.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function jo(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ba&&o.capture==n){var l=o.listener,a=o.ha||o.src;o.ea&&lh(e.i,o),i=l.call(a,r)!==!1&&i}}return i&&!r.defaultPrevented}var Ff=K.JSON.stringify;function eC(){var e=Jv;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class tC{constructor(){this.h=this.g=null}add(t,n){const r=Xv.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Xv=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new nC,e=>e.reset());class nC{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function rC(e){K.setTimeout(()=>{throw e},0)}function Yv(e,t){uh||iC(),ch||(uh(),ch=!0),Jv.add(e,t)}var uh;function iC(){var e=K.Promise.resolve(void 0);uh=function(){e.then(sC)}}var ch=!1,Jv=new tC;function sC(){for(var e;e=eC();){try{e.h.call(e.g)}catch(n){rC(n)}var t=Xv;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ch=!1}function Oa(e,t){He.call(this),this.h=e||1,this.g=t||K,this.j=lt(this.lb,this),this.l=Date.now()}Je(Oa,He);M=Oa.prototype;M.ca=!1;M.R=null;M.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Xe(this,"tick"),this.ca&&(Uf(this),this.start()))}};M.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Uf(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}M.M=function(){Oa.X.M.call(this),Uf(this),delete this.g};function Vf(e,t,n){if(typeof e=="function")n&&(e=lt(e,n));else if(e&&typeof e.handleEvent=="function")e=lt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:K.setTimeout(e,t||0)}function Zv(e){e.g=Vf(()=>{e.g=null,e.i&&(e.i=!1,Zv(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class oC extends lr{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Zv(this)}M(){super.M(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hs(e){lr.call(this),this.h=e,this.g={}}Je(Hs,lr);var am=[];function e0(e,t,n,r){Array.isArray(n)||(n&&(am[0]=n.toString()),n=am);for(var i=0;i<n.length;i++){var s=Kv(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function t0(e){Of(e.g,function(t,n){this.g.hasOwnProperty(n)&&Lf(t)},e),e.g={}}Hs.prototype.M=function(){Hs.X.M.call(this),t0(this)};Hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Pa(){this.g=!0}Pa.prototype.Aa=function(){this.g=!1};function lC(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",l=s.split("&"),a=0;a<l.length;a++){var u=l[a].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function aC(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function ii(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+cC(e,n)+(r?" "+r:"")})}function uC(e,t){e.info(function(){return"TIMEOUT: "+t})}Pa.prototype.info=function(){};function cC(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Ff(n)}catch{return t}}var Fr={},um=null;function La(){return um=um||new He}Fr.Pa="serverreachability";function n0(e){at.call(this,Fr.Pa,e)}Je(n0,at);function Ks(e){const t=La();Xe(t,new n0(t))}Fr.STAT_EVENT="statevent";function r0(e,t){at.call(this,Fr.STAT_EVENT,e),this.stat=t}Je(r0,at);function pt(e){const t=La();Xe(t,new r0(t,e))}Fr.Qa="timingevent";function i0(e,t){at.call(this,Fr.Qa,e),this.size=t}Je(i0,at);function uo(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){e()},t)}var $a={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},s0={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function bf(){}bf.prototype.h=null;function cm(e){return e.h||(e.h=e.i())}function o0(){}var co={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Bf(){at.call(this,"d")}Je(Bf,at);function zf(){at.call(this,"c")}Je(zf,at);var hh;function Ma(){}Je(Ma,bf);Ma.prototype.g=function(){return new XMLHttpRequest};Ma.prototype.i=function(){return{}};hh=new Ma;function ho(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Hs(this),this.O=hC,e=sh?125:void 0,this.T=new Oa(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new l0}function l0(){this.i=null,this.g="",this.h=!1}var hC=45e3,fh={},ql={};M=ho.prototype;M.setTimeout=function(e){this.O=e};function dh(e,t,n){e.K=1,e.v=Ua(Tn(t)),e.s=n,e.P=!0,a0(e,null)}function a0(e,t){e.F=Date.now(),fo(e),e.A=Tn(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),g0(n.i,"t",r),e.C=0,n=e.l.H,e.h=new l0,e.g=F0(e.l,n?t:null,!e.s),0<e.N&&(e.L=new oC(lt(e.La,e,e.g),e.N)),e0(e.S,e.g,"readystatechange",e.ib),t=e.H?jv(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Ks(),lC(e.j,e.u,e.A,e.m,e.U,e.s)}M.ib=function(e){e=e.target;const t=this.L;t&&mn(e)==3?t.l():this.La(e)};M.La=function(e){try{if(e==this.g)e:{const c=mn(this.g);var t=this.g.Ea();const h=this.g.aa();if(!(3>c)&&(c!=3||sh||this.g&&(this.h.h||this.g.fa()||pm(this.g)))){this.I||c!=4||t==7||(t==8||0>=h?Ks(3):Ks(2)),Fa(this);var n=this.g.aa();this.Y=n;t:if(u0(this)){var r=pm(this.g);e="";var i=r.length,s=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gr(this),ys(this);var o="";break t}this.h.i=new K.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,aC(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var l,a=this.g;if((l=a.g?a.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kl(l)){var u=l;break t}}u=null}if(n=u)ii(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ph(this,n);else{this.i=!1,this.o=3,pt(12),gr(this),ys(this);break e}}this.P?(c0(this,c,o),sh&&this.i&&c==3&&(e0(this.S,this.T,"tick",this.hb),this.T.start())):(ii(this.j,this.m,o,null),ph(this,o)),c==4&&gr(this),this.i&&!this.I&&(c==4?P0(this.l,this):(this.i=!1,fo(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,pt(12)):(this.o=0,pt(13)),gr(this),ys(this)}}}catch{}finally{}};function u0(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Da:!1}function c0(e,t,n){let r=!0,i;for(;!e.I&&e.C<n.length;)if(i=fC(e,n),i==ql){t==4&&(e.o=4,pt(14),r=!1),ii(e.j,e.m,null,"[Incomplete Response]");break}else if(i==fh){e.o=4,pt(15),ii(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else ii(e.j,e.m,i,null),ph(e,i);u0(e)&&i!=ql&&i!=fh&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,pt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.$&&(e.$=!0,t=e.l,t.g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gf(t),t.K=!0,pt(11))):(ii(e.j,e.m,n,"[Invalid Chunked Response]"),gr(e),ys(e))}M.hb=function(){if(this.g){var e=mn(this.g),t=this.g.fa();this.C<t.length&&(Fa(this),c0(this,e,t),this.i&&e!=4&&fo(this))}};function fC(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?ql:(n=Number(t.substring(n,r)),isNaN(n)?fh:(r+=1,r+n>t.length?ql:(t=t.substr(r,n),e.C=r+n,t)))}M.cancel=function(){this.I=!0,gr(this)};function fo(e){e.V=Date.now()+e.O,h0(e,e.O)}function h0(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=uo(lt(e.gb,e),t)}function Fa(e){e.B&&(K.clearTimeout(e.B),e.B=null)}M.gb=function(){this.B=null;const e=Date.now();0<=e-this.V?(uC(this.j,this.A),this.K!=2&&(Ks(),pt(17)),gr(this),this.o=2,ys(this)):h0(this,this.V-e)};function ys(e){e.l.G==0||e.I||P0(e.l,e)}function gr(e){Fa(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Uf(e.T),t0(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ph(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||mh(n.h,e))){if(!e.J&&mh(n.h,e)&&n.G==3){try{var r=n.Fa.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Xl(n),Ba(n);else break e;Qf(n),pt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=uo(lt(n.cb,n),6e3));if(1>=w0(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else yr(n,11)}else if((e.J||n.g==e)&&Xl(n),!Kl(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const h=u[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const y=e.g;if(y){const v=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.h;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(jf(s,s.h),s.h=null))}if(r.D){const w=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.za=w,me(r.F,r.D,w))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=e;if(r.sa=M0(r,r.H?r.ka:null,r.V),o.J){E0(r.h,o);var l=o,a=r.J;a&&l.setTimeout(a),l.B&&(Fa(l),fo(l)),r.g=o}else R0(r);0<n.i.length&&za(n)}else u[0]!="stop"&&u[0]!="close"||yr(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?yr(n,7):qf(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}Ks(4)}catch{}}function dC(e){if(e.W&&typeof e.W=="function")return e.W();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Na(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function pC(e){if(e.oa&&typeof e.oa=="function")return e.oa();if(!e.W||typeof e.W!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Na(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function f0(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Na(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=pC(e),r=dC(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var d0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mC(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function _r(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof _r){this.h=t!==void 0?t:e.h,Ql(this,e.j),this.s=e.s,this.g=e.g,Gl(this,e.m),this.l=e.l,t=e.i;var n=new Ws;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),hm(this,n),this.o=e.o}else e&&(n=String(e).match(d0))?(this.h=!!t,Ql(this,n[1]||"",!0),this.s=ss(n[2]||""),this.g=ss(n[3]||"",!0),Gl(this,n[4]),this.l=ss(n[5]||"",!0),hm(this,n[6]||"",!0),this.o=ss(n[7]||"")):(this.h=!!t,this.i=new Ws(null,this.h))}_r.prototype.toString=function(){var e=[],t=this.j;t&&e.push(os(t,fm,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(os(t,fm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(os(n,n.charAt(0)=="/"?vC:yC,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",os(n,EC)),e.join("")};function Tn(e){return new _r(e)}function Ql(e,t,n){e.j=n?ss(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Gl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function hm(e,t,n){t instanceof Ws?(e.i=t,SC(e.i,e.h)):(n||(t=os(t,wC)),e.i=new Ws(t,e.h))}function me(e,t,n){e.i.set(t,n)}function Ua(e){return me(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ss(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function os(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,gC),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function gC(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var fm=/[#\/\?@]/g,yC=/[#\?:]/g,vC=/[#\?]/g,wC=/[#\?@]/g,EC=/#/g;function Ws(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ar(e){e.g||(e.g=new Map,e.h=0,e.i&&mC(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}M=Ws.prototype;M.add=function(e,t){ar(this),this.i=null,e=Fi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function p0(e,t){ar(e),t=Fi(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function m0(e,t){return ar(e),t=Fi(e,t),e.g.has(t)}M.forEach=function(e,t){ar(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};M.oa=function(){ar(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};M.W=function(e){ar(this);let t=[];if(typeof e=="string")m0(this,e)&&(t=t.concat(this.g.get(Fi(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};M.set=function(e,t){return ar(this),this.i=null,e=Fi(this,e),m0(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};M.get=function(e,t){return e?(e=this.W(e),0<e.length?String(e[0]):t):t};function g0(e,t,n){p0(e,t),0<n.length&&(e.i=null,e.g.set(Fi(e,t),Df(n)),e.h+=n.length)}M.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function Fi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function SC(e,t){t&&!e.j&&(ar(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(p0(this,r),g0(this,i,n))},e)),e.j=t}var _C=class{constructor(t,n){this.h=t,this.g=n}};function y0(e){this.l=e||TC,K.PerformanceNavigationTiming?(e=K.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(K.g&&K.g.Ga&&K.g.Ga()&&K.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var TC=10;function v0(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function w0(e){return e.h?1:e.g?e.g.size:0}function mh(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function jf(e,t){e.g?e.g.add(t):e.h=t}function E0(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}y0.prototype.cancel=function(){if(this.i=S0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function S0(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Df(e.i)}function Hf(){}Hf.prototype.stringify=function(e){return K.JSON.stringify(e,void 0)};Hf.prototype.parse=function(e){return K.JSON.parse(e,void 0)};function kC(){this.g=new Hf}function CC(e,t,n){const r=n||"";try{f0(e,function(i,s){let o=i;lo(i)&&(o=Ff(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function IC(e,t){const n=new Pa;if(K.Image){const r=new Image;r.onload=zo(Ho,n,r,"TestLoadImage: loaded",!0,t),r.onerror=zo(Ho,n,r,"TestLoadImage: error",!1,t),r.onabort=zo(Ho,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=zo(Ho,n,r,"TestLoadImage: timeout",!1,t),K.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Ho(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function po(e){this.l=e.ac||null,this.j=e.jb||!1}Je(po,bf);po.prototype.g=function(){return new Va(this.l,this.j)};po.prototype.i=function(e){return function(){return e}}({});function Va(e,t){He.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Kf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Je(Va,He);var Kf=0;M=Va.prototype;M.open=function(e,t){if(this.readyState!=Kf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,qs(this)};M.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||K).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))};M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mo(this)),this.readyState=Kf};M.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,qs(this)),this.g&&(this.readyState=3,qs(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof K.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_0(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))};function _0(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}M.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?mo(this):qs(this),this.readyState==3&&_0(this)}};M.Va=function(e){this.g&&(this.response=this.responseText=e,mo(this))};M.Ua=function(e){this.g&&(this.response=e,mo(this))};M.ga=function(){this.g&&mo(this)};function mo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,qs(e)}M.setRequestHeader=function(e,t){this.v.append(e,t)};M.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};M.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function qs(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Va.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var xC=K.JSON.parse;function _e(e){He.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=T0,this.K=this.L=!1}Je(_e,He);var T0="",NC=/^https?$/i,AC=["POST","PUT"];M=_e.prototype;M.Ka=function(e){this.L=e};M.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hh.g(),this.C=this.u?cm(this.u):cm(hh),this.g.onreadystatechange=lt(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){dm(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=K.FormData&&e instanceof K.FormData,!(0<=Vv(AC,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{I0(this),0<this.B&&((this.K=DC(this.g))?(this.g.timeout=this.B,this.g.ontimeout=lt(this.qa,this)):this.A=Vf(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){dm(this,s)}};function DC(e){return ki&&qk()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}M.qa=function(){typeof Af<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xe(this,"timeout"),this.abort(8))};function dm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,k0(e),ba(e)}function k0(e){e.D||(e.D=!0,Xe(e,"complete"),Xe(e,"error"))}M.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Xe(this,"complete"),Xe(this,"abort"),ba(this))};M.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ba(this,!0)),_e.X.M.call(this)};M.Ha=function(){this.s||(this.F||this.v||this.l?C0(this):this.fb())};M.fb=function(){C0(this)};function C0(e){if(e.h&&typeof Af<"u"&&(!e.C[1]||mn(e)!=4||e.aa()!=2)){if(e.v&&mn(e)==4)Vf(e.Ha,0,e);else if(Xe(e,"readystatechange"),mn(e)==4){e.h=!1;try{const l=e.aa();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=l===0){var i=String(e.H).match(d0)[1]||null;if(!i&&K.self&&K.self.location){var s=K.self.location.protocol;i=s.substr(0,s.length-1)}r=!NC.test(i?i.toLowerCase():"")}n=r}if(n)Xe(e,"complete"),Xe(e,"success");else{e.m=6;try{var o=2<mn(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.aa()+"]",k0(e)}}finally{ba(e)}}}}function ba(e,t){if(e.g){I0(e);const n=e.g,r=e.C[0]?Hl:null;e.g=null,e.C=null,t||Xe(e,"ready");try{n.onreadystatechange=r}catch{}}}function I0(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(K.clearTimeout(e.A),e.A=null)}function mn(e){return e.g?e.g.readyState:0}M.aa=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}};M.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};M.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),xC(t)}};function pm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case T0:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}M.Ea=function(){return this.m};M.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function x0(e){let t="";return Of(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Wf(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=x0(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):me(e,t,n))}function Ji(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function N0(e){this.Ca=0,this.i=[],this.j=new Pa,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ji("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ji("baseRetryDelayMs",5e3,e),this.bb=Ji("retryDelaySeedMs",1e4,e),this.$a=Ji("forwardChannelMaxRetries",2,e),this.ta=Ji("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new y0(e&&e.concurrentRequestLimit),this.Fa=new kC,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}M=N0.prototype;M.ma=8;M.G=1;function qf(e){if(A0(e),e.G==3){var t=e.U++,n=Tn(e.F);me(n,"SID",e.I),me(n,"RID",t),me(n,"TYPE","terminate"),go(e,n),t=new ho(e,e.j,t,void 0),t.K=2,t.v=Ua(Tn(n)),n=!1,K.navigator&&K.navigator.sendBeacon&&(n=K.navigator.sendBeacon(t.v.toString(),"")),!n&&K.Image&&(new Image().src=t.v,n=!0),n||(t.g=F0(t.l,null),t.g.da(t.v)),t.F=Date.now(),fo(t)}$0(e)}function Ba(e){e.g&&(Gf(e),e.g.cancel(),e.g=null)}function A0(e){Ba(e),e.u&&(K.clearTimeout(e.u),e.u=null),Xl(e),e.h.cancel(),e.m&&(typeof e.m=="number"&&K.clearTimeout(e.m),e.m=null)}function za(e){v0(e.h)||e.m||(e.m=!0,Yv(e.Ja,e),e.C=0)}function RC(e,t){return w0(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.D.concat(e.i),!0):e.G==1||e.G==2||e.C>=(e.Za?0:e.$a)?!1:(e.m=uo(lt(e.Ja,e,t),L0(e,e.C)),e.C++,!0)}M.Ja=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new ho(this,this.j,e,void 0);let s=this.s;if(this.S&&(s?(s=jv(s),Hv(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=D0(this,i,t),n=Tn(this.F),me(n,"RID",e),me(n,"CVER",22),this.D&&me(n,"X-HTTP-Session-Id",this.D),go(this,n),s&&(this.N?t="headers="+encodeURIComponent(String(x0(s)))+"&"+t:this.o&&Wf(n,this.o,s)),jf(this.h,i),this.Ya&&me(n,"TYPE","init"),this.O?(me(n,"$req",t),me(n,"SID","null"),i.Z=!0,dh(i,n,null)):dh(i,n,t),this.G=2}}else this.G==3&&(e?mm(this,e):this.i.length==0||v0(this.h)||mm(this))};function mm(e,t){var n;t?n=t.m:n=e.U++;const r=Tn(e.F);me(r,"SID",e.I),me(r,"RID",n),me(r,"AID",e.T),go(e,r),e.o&&e.s&&Wf(r,e.o,e.s),n=new ho(e,e.j,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=D0(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),jf(e.h,n),dh(n,r,t)}function go(e,t){e.ia&&Of(e.ia,function(n,r){me(t,r,n)}),e.l&&f0({},function(n,r){me(t,r,n)})}function D0(e,t,n){n=Math.min(e.i.length,n);var r=e.l?lt(e.l.Ra,e.l,e):null;e:{var i=e.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let a=0;a<n;a++){let u=i[a].h;const c=i[a].g;if(u-=s,0>u)s=Math.max(0,i[a].h-100),l=!1;else try{CC(c,o,"req"+u+"_")}catch{r&&r(c)}}if(l){r=o.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function R0(e){e.g||e.u||(e.Z=1,Yv(e.Ia,e),e.A=0)}function Qf(e){return e.g||e.u||3<=e.A?!1:(e.Z++,e.u=uo(lt(e.Ia,e),L0(e,e.A)),e.A++,!0)}M.Ia=function(){if(this.u=null,O0(this),this.$&&!(this.K||this.g==null||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=uo(lt(this.eb,this),e)}};M.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,pt(10),Ba(this),O0(this))};function Gf(e){e.B!=null&&(K.clearTimeout(e.B),e.B=null)}function O0(e){e.g=new ho(e,e.j,"rpc",e.Z),e.o===null&&(e.g.H=e.s),e.g.N=0;var t=Tn(e.sa);me(t,"RID","rpc"),me(t,"SID",e.I),me(t,"CI",e.L?"0":"1"),me(t,"AID",e.T),me(t,"TYPE","xmlhttp"),go(e,t),e.o&&e.s&&Wf(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Ua(Tn(t)),n.s=null,n.P=!0,a0(n,e)}M.cb=function(){this.v!=null&&(this.v=null,Ba(this),Qf(this),pt(19))};function Xl(e){e.v!=null&&(K.clearTimeout(e.v),e.v=null)}function P0(e,t){var n=null;if(e.g==t){Xl(e),Gf(e),e.g=null;var r=2}else if(mh(e.h,t))n=t.D,E0(e.h,t),r=1;else return;if(e.G!=0){if(e.pa=t.Y,t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=La(),Xe(r,new i0(r,n)),za(e)}else R0(e);else if(i=t.o,i==3||i==0&&0<e.pa||!(r==1&&RC(e,t)||r==2&&Qf(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:yr(e,5);break;case 4:yr(e,10);break;case 3:yr(e,6);break;default:yr(e,2)}}}function L0(e,t){let n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function yr(e,t){if(e.j.info("Error code "+t),t==2){var n=null;e.l&&(n=null);var r=lt(e.kb,e);n||(n=new _r("//www.google.com/images/cleardot.gif"),K.location&&K.location.protocol=="http"||Ql(n,"https"),Ua(n)),IC(n.toString(),r)}else pt(2);e.G=0,e.l&&e.l.va(t),$0(e),A0(e)}M.kb=function(e){e?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function $0(e){if(e.G=0,e.la=[],e.l){const t=S0(e.h);(t.length!=0||e.i.length!=0)&&(im(e.la,t),im(e.la,e.i),e.h.i.length=0,Df(e.i),e.i.length=0),e.l.ua()}}function M0(e,t,n){var r=n instanceof _r?Tn(n):new _r(n,void 0);if(r.g!="")t&&(r.g=t+"."+r.g),Gl(r,r.m);else{var i=K.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new _r(null,void 0);r&&Ql(s,r),t&&(s.g=t),i&&Gl(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.za,n&&t&&me(r,n,t),me(r,"VER",e.ma),go(e,r),r}function F0(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Da&&!e.ra?new _e(new po({jb:!0})):new _e(e.ra),t.Ka(e.H),t}function U0(){}M=U0.prototype;M.xa=function(){};M.wa=function(){};M.va=function(){};M.ua=function(){};M.Ra=function(){};function Yl(){if(ki&&!(10<=Number(Qk)))throw Error("Environmental error: no available transport.")}Yl.prototype.g=function(e,t){return new At(e,t)};function At(e,t){He.call(this),this.g=new N0(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Kl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Kl(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Ui(this)}Je(At,He);At.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;pt(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=M0(e,null,e.V),za(e)};At.prototype.close=function(){qf(this.g)};At.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Ff(e),e=n);t.i.push(new _C(t.ab++,e)),t.G==3&&za(t)};At.prototype.M=function(){this.g.l=null,delete this.j,qf(this.g),delete this.g,At.X.M.call(this)};function V0(e){Bf.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Je(V0,Bf);function b0(){zf.call(this),this.status=1}Je(b0,zf);function Ui(e){this.g=e}Je(Ui,U0);Ui.prototype.xa=function(){Xe(this.g,"a")};Ui.prototype.wa=function(e){Xe(this.g,new V0(e))};Ui.prototype.va=function(e){Xe(this.g,new b0)};Ui.prototype.ua=function(){Xe(this.g,"b")};Yl.prototype.createWebChannel=Yl.prototype.g;At.prototype.send=At.prototype.u;At.prototype.open=At.prototype.m;At.prototype.close=At.prototype.close;$a.NO_ERROR=0;$a.TIMEOUT=8;$a.HTTP_ERROR=6;s0.COMPLETE="complete";o0.EventType=co;co.OPEN="a";co.CLOSE="b";co.ERROR="c";co.MESSAGE="d";He.prototype.listen=He.prototype.N;_e.prototype.listenOnce=_e.prototype.O;_e.prototype.getLastError=_e.prototype.Oa;_e.prototype.getLastErrorCode=_e.prototype.Ea;_e.prototype.getStatus=_e.prototype.aa;_e.prototype.getResponseJson=_e.prototype.Sa;_e.prototype.getResponseText=_e.prototype.fa;_e.prototype.send=_e.prototype.da;_e.prototype.setWithCredentials=_e.prototype.Ka;var OC=function(){return new Yl},PC=function(){return La()},zu=$a,LC=s0,$C=Fr,gm={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},MC=po,Ko=o0,FC=_e;const ym="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rt.UNAUTHENTICATED=new rt(null),rt.GOOGLE_CREDENTIALS=new rt("google-credentials-uid"),rt.FIRST_PARTY=new rt("first-party-uid"),rt.MOCK_USER=new rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vi="9.17.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new Dv("@firebase/firestore");function vm(){return Rr.logLevel}function V(e,...t){if(Rr.logLevel<=re.DEBUG){const n=t.map(Xf);Rr.debug(`Firestore (${Vi}): ${e}`,...n)}}function kn(e,...t){if(Rr.logLevel<=re.ERROR){const n=t.map(Xf);Rr.error(`Firestore (${Vi}): ${e}`,...n)}}function gh(e,...t){if(Rr.logLevel<=re.WARN){const n=t.map(Xf);Rr.warn(`Firestore (${Vi}): ${e}`,...n)}}function Xf(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H(e="Unexpected state"){const t=`FIRESTORE (${Vi}) INTERNAL ASSERTION FAILED: `+e;throw kn(t),new Error(t)}function ae(e,t){e||H()}function G(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class z extends Mr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class UC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(rt.UNAUTHENTICATED))}shutdown(){}}class VC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bC{constructor(t){this.t=t,this.currentUser=rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=a=>this.i!==r?(r=this.i,n(a)):Promise.resolve();let s=new Yn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Yn,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const a=s;t.enqueueRetryable(async()=>{await a.promise,await i(this.currentUser)})},l=a=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(a=>l(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?l(a):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Yn)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ae(typeof r.accessToken=="string"),new B0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ae(t===null||typeof t=="string"),new rt(t)}}class BC{constructor(t,n,r,i){this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=rt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ae(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class zC{constructor(t,n,r,i){this.h=t,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new BC(this.h,this.l,this.m,this.g))}start(t,n){t.enqueueRetryable(()=>n(rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jC{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HC{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,n){const r=s=>{s.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ae(typeof n.token=="string"),this.A=n.token,new jC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=KC(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function ie(e,t){return e<t?-1:e>t?1:0}function Ci(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new z(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new z(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new z(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Fe.fromMillis(Date.now())}static fromDate(t){return Fe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Fe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ie(this.nanoseconds,t.nanoseconds):ie(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Q(t)}static min(){return new Q(new Fe(0,0))}static max(){return new Q(new Fe(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t,n,r){n===void 0?n=0:n>t.length&&H(),r===void 0?r=t.length-n:r>t.length-n&&H(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Qs.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Qs?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class ge extends Qs{construct(t,n,r){return new ge(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new z(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ge(n)}static emptyPath(){return new ge([])}}const WC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends Qs{construct(t,n,r){return new ot(t,n,r)}static isValidIdentifier(t){return WC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ot(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new z(I.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const l=t[i];if(l==="\\"){if(i+1===t.length)throw new z(I.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const a=t[i+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new z(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new z(I.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ot(n)}static emptyPath(){return new ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(t){this.path=t}static fromPath(t){return new B(ge.fromString(t))}static fromName(t){return new B(ge.fromString(t).popFirst(5))}static empty(){return new B(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ge.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ge.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new B(new ge(t.slice()))}}function qC(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Q.fromTimestamp(r===1e9?new Fe(n+1,0):new Fe(n,r));return new tr(i,B.empty(),t)}function QC(e){return new tr(e.readTime,e.key,-1)}class tr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new tr(Q.min(),B.empty(),-1)}static max(){return new tr(Q.max(),B.empty(),-1)}}function GC(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=B.comparator(e.documentKey,t.documentKey),n!==0?n:ie(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(e){if(e.code!==I.FAILED_PRECONDITION||e.message!==XC)throw e;V("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&H(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new x((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof x?n:x.resolve(n)}catch(n){return x.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):x.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):x.reject(n)}static resolve(t){return new x((n,r)=>{n(t)})}static reject(t){return new x((n,r)=>{r(t)})}static waitFor(t){return new x((n,r)=>{let i=0,s=0,o=!1;t.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},a=>r(a))}),o=!0,s===i&&n()})}static or(t){let n=x.resolve(!1);for(const r of t)n=n.next(i=>i?x.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new x((r,i)=>{const s=t.length,o=new Array(s);let l=0;for(let a=0;a<s;a++){const u=a;n(t[u]).next(c=>{o[u]=c,++l,l===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new x((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function vo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}Yf.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(t,n,r,i,s,o,l,a){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.useFetchStreams=a}}class Gs{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Gs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Gs&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function bi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function j0(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(e){return e==null}function Jl(e){return e===0&&1/e==-1/0}function ZC(e){return typeof e=="number"&&Number.isInteger(e)&&!Jl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(i){throw i instanceof DOMException?new eI("Invalid base64 string: "+i):i}}(t);return new ct(n)}static fromUint8Array(t){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(t);return new ct(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ie(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ct.EMPTY_BYTE_STRING=new ct("");const tI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(e){if(ae(!!e),typeof e=="string"){let t=0;const n=tI.exec(e);if(ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:De(e.seconds),nanos:De(e.nanos)}}function De(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ii(e){return typeof e=="string"?ct.fromBase64String(e):ct.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function K0(e){const t=e.mapValue.fields.__previous_value__;return H0(t)?K0(t):t}function Xs(e){const t=nr(e.mapValue.fields.__local_write_time__.timestampValue);return new Fe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Or(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?H0(e)?4:nI(e)?9007199254740991:10:H()}function ln(e,t){if(e===t)return!0;const n=Or(e);if(n!==Or(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Xs(e).isEqual(Xs(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=nr(r.timestampValue),o=nr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return Ii(r.bytesValue).isEqual(Ii(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return De(r.geoPointValue.latitude)===De(i.geoPointValue.latitude)&&De(r.geoPointValue.longitude)===De(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return De(r.integerValue)===De(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=De(r.doubleValue),o=De(i.doubleValue);return s===o?Jl(s)===Jl(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return Ci(e.arrayValue.values||[],t.arrayValue.values||[],ln);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(wm(s)!==wm(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!ln(s[l],o[l])))return!1;return!0}(e,t);default:return H()}}function Ys(e,t){return(e.values||[]).find(n=>ln(n,t))!==void 0}function xi(e,t){if(e===t)return 0;const n=Or(e),r=Or(t);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=De(i.integerValue||i.doubleValue),l=De(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return Em(e.timestampValue,t.timestampValue);case 4:return Em(Xs(e),Xs(t));case 5:return ie(e.stringValue,t.stringValue);case 6:return function(i,s){const o=Ii(i),l=Ii(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let a=0;a<o.length&&a<l.length;a++){const u=ie(o[a],l[a]);if(u!==0)return u}return ie(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=ie(De(i.latitude),De(s.latitude));return o!==0?o:ie(De(i.longitude),De(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){const o=i.values||[],l=s.values||[];for(let a=0;a<o.length&&a<l.length;++a){const u=xi(o[a],l[a]);if(u)return u}return ie(o.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){if(i===Wo.mapValue&&s===Wo.mapValue)return 0;if(i===Wo.mapValue)return 1;if(s===Wo.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),a=s.fields||{},u=Object.keys(a);l.sort(),u.sort();for(let c=0;c<l.length&&c<u.length;++c){const h=ie(l[c],u[c]);if(h!==0)return h;const d=xi(o[l[c]],a[u[c]]);if(d!==0)return d}return ie(l.length,u.length)}(e.mapValue,t.mapValue);default:throw H()}}function Em(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ie(e,t);const n=nr(e),r=nr(t),i=ie(n.seconds,r.seconds);return i!==0?i:ie(n.nanos,r.nanos)}function Ni(e){return yh(e)}function yh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const i=nr(r);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ii(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,B.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=yh(o);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${yh(r.fields[l])}`;return s+"}"}(e.mapValue):H();var t,n}function vh(e){return!!e&&"integerValue"in e}function Jf(e){return!!e&&"arrayValue"in e}function Sm(e){return!!e&&"nullValue"in e}function _m(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function cl(e){return!!e&&"mapValue"in e}function vs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return bi(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=vs(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=vs(e.arrayValue.values[n]);return t}return Object.assign({},e)}function nI(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(t,n){this.position=t,this.inclusive=n}}function Tm(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=B.comparator(B.fromName(o.referenceValue),n.key):r=xi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function km(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ln(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{}class Le extends W0{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new iI(t,n,r):n==="array-contains"?new lI(t,r):n==="in"?new aI(t,r):n==="not-in"?new uI(t,r):n==="array-contains-any"?new cI(t,r):new Le(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new sI(t,r):new oI(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(xi(n,this.value)):n!==null&&Or(this.value)===Or(n)&&this.matchesComparison(xi(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return H()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class an extends W0{constructor(t,n){super(),this.filters=t,this.op=n,this.ft=null}static create(t,n){return new an(t,n)}matches(t){return q0(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ft!==null||(this.ft=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.dt(n=>n.isInequality());return t!==null?t.field:null}dt(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function q0(e){return e.op==="and"}function Q0(e){return rI(e)&&q0(e)}function rI(e){for(const t of e.filters)if(t instanceof an)return!1;return!0}function wh(e){if(e instanceof Le)return e.field.canonicalString()+e.op.toString()+Ni(e.value);if(Q0(e))return e.filters.map(t=>wh(t)).join(",");{const t=e.filters.map(n=>wh(n)).join(",");return`${e.op}(${t})`}}function G0(e,t){return e instanceof Le?function(n,r){return r instanceof Le&&n.op===r.op&&n.field.isEqual(r.field)&&ln(n.value,r.value)}(e,t):e instanceof an?function(n,r){return r instanceof an&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&G0(s,r.filters[o]),!0):!1}(e,t):void H()}function X0(e){return e instanceof Le?function(t){return`${t.field.canonicalString()} ${t.op} ${Ni(t.value)}`}(e):e instanceof an?function(t){return t.op.toString()+" {"+t.getFilters().map(X0).join(" ,")+"}"}(e):"Filter"}class iI extends Le{constructor(t,n,r){super(t,n,r),this.key=B.fromName(r.referenceValue)}matches(t){const n=B.comparator(t.key,this.key);return this.matchesComparison(n)}}class sI extends Le{constructor(t,n){super(t,"in",n),this.keys=Y0("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class oI extends Le{constructor(t,n){super(t,"not-in",n),this.keys=Y0("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Y0(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>B.fromName(r.referenceValue))}class lI extends Le{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Jf(n)&&Ys(n.arrayValue,this.value)}}class aI extends Le{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ys(this.value.arrayValue,n)}}class uI extends Le{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ys(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Ys(this.value.arrayValue,n)}}class cI extends Le{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Jf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ys(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(t,n="asc"){this.field=t,this.dir=n}}function hI(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t,n){this.comparator=t,this.root=n||Qe.EMPTY}insert(t,n){return new Ve(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new Ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new qo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new qo(this.root,t,this.comparator,!1)}getReverseIterator(){return new qo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new qo(this.root,t,this.comparator,!0)}}class qo{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Qe.RED,this.left=i??Qe.EMPTY,this.right=s??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Qe(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Qe.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw H();const t=this.left.check();if(t!==this.right.check())throw H();return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw H()}get value(){throw H()}get color(){throw H()}get left(){throw H()}get right(){throw H()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Qe(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(t){this.comparator=t,this.data=new Ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cm(this.data.getIterator())}getIteratorFrom(t){return new Cm(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ue(this.comparator);return n.data=t,n}}class Cm{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(t){this.fields=t,t.sort(ot.comparator)}static empty(){return new Wt([])}unionWith(t){let n=new Ue(ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Wt(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ci(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t){this.value=t}static empty(){return new $t({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!cl(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=vs(n)}setAll(t){let n=ot.emptyPath(),r={},i=[];t.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const a=this.getFieldsMap(n);this.applyChanges(a,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=vs(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());cl(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ln(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];cl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){bi(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new $t(vs(this.value))}}function J0(e){const t=[];return bi(e.fields,(n,r)=>{const i=new ot([n]);if(cl(r)){const s=J0(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Wt(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t,n,r,i,s,o,l){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(t){return new st(t,0,Q.min(),Q.min(),Q.min(),$t.empty(),0)}static newFoundDocument(t,n,r,i){return new st(t,1,n,Q.min(),r,i,0)}static newNoDocument(t,n){return new st(t,2,n,Q.min(),Q.min(),$t.empty(),0)}static newUnknownDocument(t,n){return new st(t,3,n,Q.min(),Q.min(),$t.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof st&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new st(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t,n=null,r=[],i=[],s=null,o=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this._t=null}}function Im(e,t=null,n=[],r=[],i=null,s=null,o=null){return new fI(e,t,n,r,i,s,o)}function Zf(e){const t=G(e);if(t._t===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>wh(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ja(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Ni(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Ni(r)).join(",")),t._t=n}return t._t}function ed(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!hI(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!G0(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!km(e.startAt,t.startAt)&&km(e.endAt,t.endAt)}function Eh(e){return B.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t,n=null,r=[],i=[],s=null,o="F",l=null,a=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=a,this.wt=null,this.gt=null,this.startAt,this.endAt}}function dI(e,t,n,r,i,s,o,l){return new Ha(e,t,n,r,i,s,o,l)}function Z0(e){return new Ha(e)}function xm(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function pI(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function mI(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function gI(e){return e.collectionGroup!==null}function fi(e){const t=G(e);if(t.wt===null){t.wt=[];const n=mI(t),r=pI(t);if(n!==null&&r===null)n.isKeyField()||t.wt.push(new ws(n)),t.wt.push(new ws(ot.keyField(),"asc"));else{let i=!1;for(const s of t.explicitOrderBy)t.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new ws(ot.keyField(),s))}}}return t.wt}function Cn(e){const t=G(e);if(!t.gt)if(t.limitType==="F")t.gt=Im(t.path,t.collectionGroup,fi(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const s of fi(t)){const o=s.dir==="desc"?"asc":"desc";n.push(new ws(s.field,o))}const r=t.endAt?new Zl(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Zl(t.startAt.position,t.startAt.inclusive):null;t.gt=Im(t.path,t.collectionGroup,n,t.filters,t.limit,r,i)}return t.gt}function Sh(e,t,n){return new Ha(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ka(e,t){return ed(Cn(e),Cn(t))&&e.limitType===t.limitType}function e1(e){return`${Zf(Cn(e))}|lt:${e.limitType}`}function _h(e){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>X0(r)).join(", ")}]`),ja(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Ni(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Ni(r)).join(",")),`Target(${n})`}(Cn(e))}; limitType=${e.limitType})`}function Wa(e,t){return t.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):B.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(const i of fi(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(i,s,o){const l=Tm(i,s,o);return i.inclusive?l<=0:l<0}(n.startAt,fi(n),r)||n.endAt&&!function(i,s,o){const l=Tm(i,s,o);return i.inclusive?l>=0:l>0}(n.endAt,fi(n),r))}(e,t)}function yI(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function t1(e){return(t,n)=>{let r=!1;for(const i of fi(e)){const s=vI(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function vI(e,t,n){const r=e.field.isKeyField()?B.comparator(t.key,n.key):function(i,s,o){const l=s.data.field(i),a=o.data.field(i);return l!==null&&a!==null?xi(l,a):H()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return H()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(e,t){if(e.yt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jl(t)?"-0":t}}function r1(e){return{integerValue:""+e}}function wI(e,t){return ZC(t)?r1(t):n1(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this._=void 0}}function EI(e,t,n){return e instanceof ea?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof Js?s1(e,t):e instanceof Zs?o1(e,t):function(r,i){const s=i1(r,i),o=Nm(s)+Nm(r.It);return vh(s)&&vh(r.It)?r1(o):n1(r.Tt,o)}(e,t)}function SI(e,t,n){return e instanceof Js?s1(e,t):e instanceof Zs?o1(e,t):n}function i1(e,t){return e instanceof ta?vh(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}class ea extends qa{}class Js extends qa{constructor(t){super(),this.elements=t}}function s1(e,t){const n=l1(t);for(const r of e.elements)n.some(i=>ln(i,r))||n.push(r);return{arrayValue:{values:n}}}class Zs extends qa{constructor(t){super(),this.elements=t}}function o1(e,t){let n=l1(t);for(const r of e.elements)n=n.filter(i=>!ln(i,r));return{arrayValue:{values:n}}}class ta extends qa{constructor(t,n){super(),this.Tt=t,this.It=n}}function Nm(e){return De(e.integerValue||e.doubleValue)}function l1(e){return Jf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function _I(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof Js&&r instanceof Js||n instanceof Zs&&r instanceof Zs?Ci(n.elements,r.elements,ln):n instanceof ta&&r instanceof ta?ln(n.It,r.It):n instanceof ea&&r instanceof ea}(e.transform,t.transform)}class TI{constructor(t,n){this.version=t,this.transformResults=n}}class yn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new yn}static exists(t){return new yn(void 0,t)}static updateTime(t){return new yn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function hl(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Qa{}function a1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new c1(e.key,yn.none()):new wo(e.key,e.data,yn.none());{const n=e.data,r=$t.empty();let i=new Ue(ot.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ur(e.key,r,new Wt(i.toArray()),yn.none())}}function kI(e,t,n){e instanceof wo?function(r,i,s){const o=r.value.clone(),l=Dm(r.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Ur?function(r,i,s){if(!hl(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Dm(r.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(u1(r)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Es(e,t,n,r){return e instanceof wo?function(i,s,o,l){if(!hl(i.precondition,s))return o;const a=i.value.clone(),u=Rm(i.fieldTransforms,l,s);return a.setAll(u),s.convertToFoundDocument(s.version,a).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ur?function(i,s,o,l){if(!hl(i.precondition,s))return o;const a=Rm(i.fieldTransforms,l,s),u=s.data;return u.setAll(u1(i)),u.setAll(a),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(e,t,n,r):function(i,s,o){return hl(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function CI(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=i1(r.transform,i||null);s!=null&&(n===null&&(n=$t.empty()),n.set(r.field,s))}return n||null}function Am(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ci(n,r,(i,s)=>_I(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class wo extends Qa{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ur extends Qa{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function u1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Dm(e,t,n){const r=new Map;ae(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,l=t.data.field(s.field);r.set(s.field,SI(o,l,n[i]))}return r}function Rm(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,EI(s,o,t))}return r}class c1 extends Qa{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class II extends Qa{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t){this.count=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,ee;function NI(e){switch(e){default:return H();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}function h1(e){if(e===void 0)return kn("GRPC error has no .code"),I.UNKNOWN;switch(e){case Ae.OK:return I.OK;case Ae.CANCELLED:return I.CANCELLED;case Ae.UNKNOWN:return I.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return I.INTERNAL;case Ae.UNAVAILABLE:return I.UNAVAILABLE;case Ae.UNAUTHENTICATED:return I.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case Ae.NOT_FOUND:return I.NOT_FOUND;case Ae.ALREADY_EXISTS:return I.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return I.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case Ae.ABORTED:return I.ABORTED;case Ae.OUT_OF_RANGE:return I.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return I.UNIMPLEMENTED;case Ae.DATA_LOSS:return I.DATA_LOSS;default:return H()}}(ee=Ae||(Ae={}))[ee.OK=0]="OK",ee[ee.CANCELLED=1]="CANCELLED",ee[ee.UNKNOWN=2]="UNKNOWN",ee[ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ee[ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ee[ee.NOT_FOUND=5]="NOT_FOUND",ee[ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",ee[ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",ee[ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",ee[ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ee[ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ee[ee.ABORTED=10]="ABORTED",ee[ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",ee[ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",ee[ee.INTERNAL=13]="INTERNAL",ee[ee.UNAVAILABLE=14]="UNAVAILABLE",ee[ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){bi(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return j0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=new Ve(B.comparator);function In(){return AI}const f1=new Ve(B.comparator);function ls(...e){let t=f1;for(const n of e)t=t.insert(n.key,n);return t}function d1(e){let t=f1;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function vr(){return Ss()}function p1(){return Ss()}function Ss(){return new Bi(e=>e.toString(),(e,t)=>e.isEqual(t))}const DI=new Ve(B.comparator),RI=new Ue(B.comparator);function J(...e){let t=RI;for(const n of e)t=t.add(n);return t}const OI=new Ue(ie);function m1(){return OI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Eo.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Ga(Q.min(),i,m1(),In(),J())}}class Eo{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Eo(r,n,J(),J(),J())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(t,n,r,i){this.Et=t,this.removedTargetIds=n,this.key=r,this.At=i}}class g1{constructor(t,n){this.targetId=t,this.Rt=n}}class y1{constructor(t,n,r=ct.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Om{constructor(){this.bt=0,this.vt=Lm(),this.Pt=ct.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.Pt}get Dt(){return this.bt!==0}get Ct(){return this.St}xt(t){t.approximateByteSize()>0&&(this.St=!0,this.Pt=t)}Nt(){let t=J(),n=J(),r=J();return this.vt.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:H()}}),new Eo(this.Pt,this.Vt,t,n,r)}kt(){this.St=!1,this.vt=Lm()}Ot(t,n){this.St=!0,this.vt=this.vt.insert(t,n)}Mt(t){this.St=!0,this.vt=this.vt.remove(t)}Ft(){this.bt+=1}$t(){this.bt-=1}Bt(){this.St=!0,this.Vt=!0}}class PI{constructor(t){this.Lt=t,this.qt=new Map,this.Ut=In(),this.Kt=Pm(),this.Gt=new Ue(ie)}Qt(t){for(const n of t.Et)t.At&&t.At.isFoundDocument()?this.jt(n,t.At):this.zt(n,t.key,t.At);for(const n of t.removedTargetIds)this.zt(n,t.key,t.At)}Wt(t){this.forEachTarget(t,n=>{const r=this.Ht(n);switch(t.state){case 0:this.Jt(n)&&r.xt(t.resumeToken);break;case 1:r.$t(),r.Dt||r.kt(),r.xt(t.resumeToken);break;case 2:r.$t(),r.Dt||this.removeTarget(n);break;case 3:this.Jt(n)&&(r.Bt(),r.xt(t.resumeToken));break;case 4:this.Jt(n)&&(this.Yt(n),r.xt(t.resumeToken));break;default:H()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qt.forEach((r,i)=>{this.Jt(i)&&n(i)})}Zt(t){const n=t.targetId,r=t.Rt.count,i=this.Xt(n);if(i){const s=i.target;if(Eh(s))if(r===0){const o=new B(s.path);this.zt(n,o,st.newNoDocument(o,Q.min()))}else ae(r===1);else this.te(n)!==r&&(this.Yt(n),this.Gt=this.Gt.add(n))}}ee(t){const n=new Map;this.qt.forEach((s,o)=>{const l=this.Xt(o);if(l){if(s.current&&Eh(l.target)){const a=new B(l.target.path);this.Ut.get(a)!==null||this.ne(o,a)||this.zt(o,a,st.newNoDocument(a,t))}s.Ct&&(n.set(o,s.Nt()),s.kt())}});let r=J();this.Kt.forEach((s,o)=>{let l=!0;o.forEachWhile(a=>{const u=this.Xt(a);return!u||u.purpose===2||(l=!1,!1)}),l&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(t));const i=new Ga(t,n,this.Gt,this.Ut,r);return this.Ut=In(),this.Kt=Pm(),this.Gt=new Ue(ie),i}jt(t,n){if(!this.Jt(t))return;const r=this.ne(t,n.key)?2:0;this.Ht(t).Ot(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.Kt=this.Kt.insert(n.key,this.se(n.key).add(t))}zt(t,n,r){if(!this.Jt(t))return;const i=this.Ht(t);this.ne(t,n)?i.Ot(n,1):i.Mt(n),this.Kt=this.Kt.insert(n,this.se(n).delete(t)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(t){this.qt.delete(t)}te(t){const n=this.Ht(t).Nt();return this.Lt.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ft(t){this.Ht(t).Ft()}Ht(t){let n=this.qt.get(t);return n||(n=new Om,this.qt.set(t,n)),n}se(t){let n=this.Kt.get(t);return n||(n=new Ue(ie),this.Kt=this.Kt.insert(t,n)),n}Jt(t){const n=this.Xt(t)!==null;return n||V("WatchChangeAggregator","Detected inactive target",t),n}Xt(t){const n=this.qt.get(t);return n&&n.Dt?null:this.Lt.ie(t)}Yt(t){this.qt.set(t,new Om),this.Lt.getRemoteKeysForTarget(t).forEach(n=>{this.zt(t,n,null)})}ne(t,n){return this.Lt.getRemoteKeysForTarget(t).has(n)}}function Pm(){return new Ve(B.comparator)}function Lm(){return new Ve(B.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),$I=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),MI=(()=>({and:"AND",or:"OR"}))();class FI{constructor(t,n){this.databaseId=t,this.yt=n}}function na(e,t){return e.yt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function v1(e,t){return e.yt?t.toBase64():t.toUint8Array()}function UI(e,t){return na(e,t.toTimestamp())}function on(e){return ae(!!e),Q.fromTimestamp(function(t){const n=nr(t);return new Fe(n.seconds,n.nanos)}(e))}function td(e,t){return function(n){return new ge(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function w1(e){const t=ge.fromString(e);return ae(T1(t)),t}function Th(e,t){return td(e.databaseId,t.path)}function ju(e,t){const n=w1(t);if(n.get(1)!==e.databaseId.projectId)throw new z(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new z(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new B(E1(n))}function kh(e,t){return td(e.databaseId,t)}function VI(e){const t=w1(e);return t.length===4?ge.emptyPath():E1(t)}function Ch(e){return new ge(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function E1(e){return ae(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function $m(e,t,n){return{name:Th(e,t),fields:n.value.mapValue.fields}}function bI(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(a){return a==="NO_CHANGE"?0:a==="ADD"?1:a==="REMOVE"?2:a==="CURRENT"?3:a==="RESET"?4:H()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(a,u){return a.yt?(ae(u===void 0||typeof u=="string"),ct.fromBase64String(u||"")):(ae(u===void 0||u instanceof Uint8Array),ct.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,l=o&&function(a){const u=a.code===void 0?I.UNKNOWN:h1(a.code);return new z(u,a.message||"")}(o);n=new y1(r,i,s,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=ju(e,r.document.name),s=on(r.document.updateTime),o=r.document.createTime?on(r.document.createTime):Q.min(),l=new $t({mapValue:{fields:r.document.fields}}),a=st.newFoundDocument(i,s,o,l),u=r.targetIds||[],c=r.removedTargetIds||[];n=new fl(u,c,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=ju(e,r.document),s=r.readTime?on(r.readTime):Q.min(),o=st.newNoDocument(i,s),l=r.removedTargetIds||[];n=new fl([],l,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=ju(e,r.document),s=r.removedTargetIds||[];n=new fl([],s,i,null)}else{if(!("filter"in t))return H();{t.filter;const r=t.filter;r.targetId;const i=r.count||0,s=new xI(i),o=r.targetId;n=new g1(o,s)}}return n}function BI(e,t){let n;if(t instanceof wo)n={update:$m(e,t.key,t.value)};else if(t instanceof c1)n={delete:Th(e,t.key)};else if(t instanceof Ur)n={update:$m(e,t.key,t.data),updateMask:XI(t.fieldMask)};else{if(!(t instanceof II))return H();n={verify:Th(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ea)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Js)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Zs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ta)return{fieldPath:s.field.canonicalString(),increment:o.It};throw H()}(0,r))),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:UI(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:H()}(e,t.precondition)),n}function zI(e,t){return e&&e.length>0?(ae(t!==void 0),e.map(n=>function(r,i){let s=r.updateTime?on(r.updateTime):on(i);return s.isEqual(Q.min())&&(s=on(i)),new TI(s,r.transformResults||[])}(n,t))):[]}function jI(e,t){return{documents:[kh(e,t.path)]}}function HI(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=kh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=kh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(a){if(a.length!==0)return _1(an.create(a,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(a){if(a.length!==0)return a.map(u=>function(c){return{field:jr(c.field),direction:qI(c.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(a,u){return a.yt||ja(u)?u:{value:u}}(e,t.limit);var l;return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(n.structuredQuery.endAt=function(a){return{before:!a.inclusive,values:a.position}}(t.endAt)),n}function KI(e){let t=VI(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ae(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(c){const h=S1(c);return h instanceof an&&Q0(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new ws(Hr(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let l=null;n.limit&&(l=function(c){let h;return h=typeof c=="object"?c.value:c,ja(h)?null:h}(n.limit));let a=null;n.startAt&&(a=function(c){const h=!!c.before,d=c.values||[];return new Zl(d,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,d=c.values||[];return new Zl(d,h)}(n.endAt)),dI(t,i,o,s,l,"F",a,u)}function WI(e,t){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return H()}}(0,t.purpose);return n==null?null:{"goog-listen-tags":n}}function S1(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Hr(t.unaryFilter.field);return Le.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Hr(t.unaryFilter.field);return Le.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Hr(t.unaryFilter.field);return Le.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Hr(t.unaryFilter.field);return Le.create(s,"!=",{nullValue:"NULL_VALUE"});default:return H()}}(e):e.fieldFilter!==void 0?function(t){return Le.create(Hr(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return H()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return an.create(t.compositeFilter.filters.map(n=>S1(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return H()}}(t.compositeFilter.op))}(e):H()}function qI(e){return LI[e]}function QI(e){return $I[e]}function GI(e){return MI[e]}function jr(e){return{fieldPath:e.canonicalString()}}function Hr(e){return ot.fromServerFormat(e.fieldPath)}function _1(e){return e instanceof Le?function(t){if(t.op==="=="){if(_m(t.value))return{unaryFilter:{field:jr(t.field),op:"IS_NAN"}};if(Sm(t.value))return{unaryFilter:{field:jr(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(_m(t.value))return{unaryFilter:{field:jr(t.field),op:"IS_NOT_NAN"}};if(Sm(t.value))return{unaryFilter:{field:jr(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jr(t.field),op:QI(t.op),value:t.value}}}(e):e instanceof an?function(t){const n=t.getFilters().map(r=>_1(r));return n.length===1?n[0]:{compositeFilter:{op:GI(t.op),filters:n}}}(e):H()}function XI(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function T1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&kI(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Es(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Es(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=p1();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const a=a1(o,l);a!==null&&r.set(i.key,a),o.isValidDocument()||o.convertToNoDocument(Q.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),J())}isEqual(t){return this.batchId===t.batchId&&Ci(this.mutations,t.mutations,(n,r)=>Am(n,r))&&Ci(this.baseMutations,t.baseMutations,(n,r)=>Am(n,r))}}class nd{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){ae(t.mutations.length===r.length);let i=DI;const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new nd(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(t,n,r,i,s=Q.min(),o=Q.min(),l=ct.EMPTY_BYTE_STRING){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l}withSequenceNumber(t){return new Tr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,n){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(t){this.oe=t}}function ex(e){const t=KI({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Sh(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.Ze=new nx}addToCollectionParentIndex(t,n){return this.Ze.add(n),x.resolve()}getCollectionParents(t,n){return x.resolve(this.Ze.getEntries(n))}addFieldIndex(t,n){return x.resolve()}deleteFieldIndex(t,n){return x.resolve()}getDocumentsMatchingTarget(t,n){return x.resolve(null)}getIndexType(t,n){return x.resolve(0)}getFieldIndexes(t,n){return x.resolve([])}getNextCollectionGroupToUpdate(t){return x.resolve(null)}getMinOffset(t,n){return x.resolve(tr.min())}getMinOffsetFromCollectionGroup(t,n){return x.resolve(tr.min())}updateCollectionGroup(t,n,r){return x.resolve()}updateIndexEntries(t,n){return x.resolve()}}class nx{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Ue(ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Ue(ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(t){this.Pn=t}next(){return this.Pn+=2,this.Pn}static Vn(){return new Ai(0)}static Sn(){return new Ai(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.changes=new Bi(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,st.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Es(r.mutation,i,Wt.empty(),Fe.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,J()).next(()=>r))}getLocalViewOfDocuments(t,n,r=J()){const i=vr();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=ls();return s.forEach((l,a)=>{o=o.insert(l,a.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=vr();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,J()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(t,n,r,i){let s=In();const o=Ss(),l=Ss();return n.forEach((a,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ur)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Es(c.mutation,u,c.mutation.getFieldMask(),Fe.now())):o.set(u.key,Wt.empty())}),this.recalculateAndSaveOverlays(t,s).next(a=>(a.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return l.set(u,new ix(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(t,n){const r=Ss();let i=new Ve((o,l)=>o-l),s=J();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const l of o)l.keys().forEach(a=>{const u=n.get(a);if(u===null)return;let c=r.get(a)||Wt.empty();c=l.applyToLocalView(u,c),r.set(a,c);const h=(i.get(l.batchId)||J()).add(a);i=i.insert(l.batchId,h)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const a=l.getNext(),u=a.key,c=a.value,h=p1();c.forEach(d=>{if(!s.has(d)){const y=a1(n.get(d),r.get(d));y!==null&&h.set(d,y),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,h))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r){return function(i){return B.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):gI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r):this.getDocumentsMatchingCollectionQuery(t,n,r)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):x.resolve(vr());let l=-1,a=s;return o.next(u=>x.forEach(u,(c,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),s.get(c)?x.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{a=a.insert(c,d)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,a,u,J())).next(c=>({batchId:l,changes:d1(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new B(n)).next(r=>{let i=ls();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r){const i=n.collectionGroup;let s=ls();return this.indexManager.getCollectionParents(t,i).next(o=>x.forEach(o,l=>{const a=function(u,c){return new Ha(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,a,r).next(u=>{u.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i))).next(s=>{i.forEach((l,a)=>{const u=a.getKey();s.get(u)===null&&(s=s.insert(u,st.newInvalidDocument(u)))});let o=ls();return s.forEach((l,a)=>{const u=i.get(l);u!==void 0&&Es(u.mutation,a,Wt.empty(),Fe.now()),Wa(n,a)&&(o=o.insert(l,a))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(t){this.Tt=t,this.es=new Map,this.ns=new Map}getBundleMetadata(t,n){return x.resolve(this.es.get(n))}saveBundleMetadata(t,n){var r;return this.es.set(n.id,{id:(r=n).id,version:r.version,createTime:on(r.createTime)}),x.resolve()}getNamedQuery(t,n){return x.resolve(this.ns.get(n))}saveNamedQuery(t,n){return this.ns.set(n.name,function(r){return{name:r.name,query:ex(r.bundledQuery),readTime:on(r.readTime)}}(n)),x.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.overlays=new Ve(B.comparator),this.ss=new Map}getOverlay(t,n){return x.resolve(this.overlays.get(n))}getOverlays(t,n){const r=vr();return x.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.ce(t,n,s)}),x.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.ss.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ss.delete(r)),x.resolve()}getOverlaysForCollection(t,n,r){const i=vr(),s=n.length+1,o=new B(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const a=l.getNext().value,u=a.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&a.largestBatchId>r&&i.set(a.getKey(),a)}return x.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new Ve((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=vr(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const l=vr(),a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((u,c)=>l.set(u,c)),!(l.size()>=i)););return x.resolve(l)}ce(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ss.get(i.largestBatchId).delete(r.key);this.ss.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new JI(n,r));let s=this.ss.get(n);s===void 0&&(s=J(),this.ss.set(n,s)),this.ss.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this.rs=new Ue(Be.os),this.us=new Ue(Be.cs)}isEmpty(){return this.rs.isEmpty()}addReference(t,n){const r=new Be(t,n);this.rs=this.rs.add(r),this.us=this.us.add(r)}hs(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.ls(new Be(t,n))}fs(t,n){t.forEach(r=>this.removeReference(r,n))}ds(t){const n=new B(new ge([])),r=new Be(n,t),i=new Be(n,t+1),s=[];return this.us.forEachInRange([r,i],o=>{this.ls(o),s.push(o.key)}),s}_s(){this.rs.forEach(t=>this.ls(t))}ls(t){this.rs=this.rs.delete(t),this.us=this.us.delete(t)}ws(t){const n=new B(new ge([])),r=new Be(n,t),i=new Be(n,t+1);let s=J();return this.us.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new Be(t,0),r=this.rs.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Be{constructor(t,n){this.key=t,this.gs=n}static os(t,n){return B.comparator(t.key,n.key)||ie(t.gs,n.gs)}static cs(t,n){return ie(t.gs,n.gs)||B.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new Ue(Be.os)}checkEmpty(t){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new YI(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.ps=this.ps.add(new Be(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return x.resolve(o)}lookupMutationBatch(t,n){return x.resolve(this.Is(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Ts(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.ys-1)}getAllMutationBatches(t){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Be(n,0),i=new Be(n,Number.POSITIVE_INFINITY),s=[];return this.ps.forEachInRange([r,i],o=>{const l=this.Is(o.gs);s.push(l)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ue(ie);return n.forEach(i=>{const s=new Be(i,0),o=new Be(i,Number.POSITIVE_INFINITY);this.ps.forEachInRange([s,o],l=>{r=r.add(l.gs)})}),x.resolve(this.Es(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;B.isDocumentKey(s)||(s=s.child(""));const o=new Be(new B(s),0);let l=new Ue(ie);return this.ps.forEachWhile(a=>{const u=a.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(a.gs)),!0)},o),x.resolve(this.Es(l))}Es(t){const n=[];return t.forEach(r=>{const i=this.Is(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){ae(this.As(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.ps;return x.forEach(n.mutations,i=>{const s=new Be(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.ps=r})}bn(t){}containsKey(t,n){const r=new Be(n,0),i=this.ps.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,x.resolve()}As(t,n){return this.Ts(t)}Ts(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Is(t){const n=this.Ts(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(t){this.Rs=t,this.docs=new Ve(B.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Rs(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():st.newInvalidDocument(n))}getEntries(t,n){let r=In();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():st.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=In();const o=n.path,l=new B(o.child("")),a=this.docs.getIteratorFrom(l);for(;a.hasNext();){const{key:u,value:{document:c}}=a.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||GC(QC(c),r)<=0||(i.has(c.key)||Wa(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(t,n,r,i){H()}bs(t,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new cx(this)}getSize(t){return x.resolve(this.size)}}class cx extends rx{constructor(t){super(),this.Xn=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Xn.addEntry(t,i)):this.Xn.removeEntry(r)}),x.waitFor(n)}getFromCache(t,n){return this.Xn.getEntry(t,n)}getAllFromCache(t,n){return this.Xn.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(t){this.persistence=t,this.vs=new Bi(n=>Zf(n),ed),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.Ps=0,this.Vs=new rd,this.targetCount=0,this.Ss=Ai.Vn()}forEachTarget(t,n){return this.vs.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(t){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return x.resolve(this.Ps)}allocateTargetId(t){return this.highestTargetId=this.Ss.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ps&&(this.Ps=n),x.resolve()}xn(t){this.vs.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ss=new Ai(n),this.highestTargetId=n),t.sequenceNumber>this.Ps&&(this.Ps=t.sequenceNumber)}addTargetData(t,n){return this.xn(n),this.targetCount+=1,x.resolve()}updateTargetData(t,n){return this.xn(n),x.resolve()}removeTargetData(t,n){return this.vs.delete(n.target),this.Vs.ds(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.vs.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.vs.delete(o),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(t){return x.resolve(this.targetCount)}getTargetData(t,n){const r=this.vs.get(n)||null;return x.resolve(r)}addMatchingKeys(t,n,r){return this.Vs.hs(n,r),x.resolve()}removeMatchingKeys(t,n,r){this.Vs.fs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Vs.ds(n),x.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Vs.ws(n);return x.resolve(r)}containsKey(t,n){return x.resolve(this.Vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(t,n){this.Ds={},this.overlays={},this.Cs=new Yf(0),this.xs=!1,this.xs=!0,this.referenceDelegate=t(this),this.Ns=new hx(this),this.indexManager=new tx,this.remoteDocumentCache=function(r){return new ux(r)}(r=>this.referenceDelegate.ks(r)),this.Tt=new ZI(n),this.Os=new ox(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new lx,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Ds[t.toKey()];return r||(r=new ax(n,this.referenceDelegate),this.Ds[t.toKey()]=r),r}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Os}runTransaction(t,n,r){V("MemoryPersistence","Starting transaction:",t);const i=new dx(this.Cs.next());return this.referenceDelegate.Ms(),r(i).next(s=>this.referenceDelegate.Fs(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}$s(t,n){return x.or(Object.values(this.Ds).map(r=>()=>r.containsKey(t,n)))}}class dx extends YC{constructor(t){super(),this.currentSequenceNumber=t}}class id{constructor(t){this.persistence=t,this.Bs=new rd,this.Ls=null}static qs(t){return new id(t)}get Us(){if(this.Ls)return this.Ls;throw H()}addReference(t,n,r){return this.Bs.addReference(r,n),this.Us.delete(r.toString()),x.resolve()}removeReference(t,n,r){return this.Bs.removeReference(r,n),this.Us.add(r.toString()),x.resolve()}markPotentiallyOrphaned(t,n){return this.Us.add(n.toString()),x.resolve()}removeTarget(t,n){this.Bs.ds(n.targetId).forEach(i=>this.Us.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Us.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ms(){this.Ls=new Set}Fs(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Us,r=>{const i=B.fromPath(r);return this.Ks(t,i).next(s=>{s||n.removeEntry(i,Q.min())})}).next(()=>(this.Ls=null,n.apply(t)))}updateLimboDocument(t,n){return this.Ks(t,n).next(r=>{r?this.Us.delete(n.toString()):this.Us.add(n.toString())})}ks(t){return 0}Ks(t,n){return x.or([()=>x.resolve(this.Bs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.$s(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Ci=r,this.xi=i}static Ni(t,n){let r=J(),i=J();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new sd(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.ki=!1}initialize(t,n){this.Oi=t,this.indexManager=n,this.ki=!0}getDocumentsMatchingQuery(t,n,r,i){return this.Mi(t,n).next(s=>s||this.Fi(t,n,i,r)).next(s=>s||this.$i(t,n))}Mi(t,n){if(xm(n))return x.resolve(null);let r=Cn(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Sh(n,null,"F"),r=Cn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=J(...s);return this.Oi.getDocuments(t,o).next(l=>this.indexManager.getMinOffset(t,r).next(a=>{const u=this.Bi(n,l);return this.Li(n,u,o,a.readTime)?this.Mi(t,Sh(n,null,"F")):this.qi(t,u,n,a)}))})))}Fi(t,n,r,i){return xm(n)||i.isEqual(Q.min())?this.$i(t,n):this.Oi.getDocuments(t,r).next(s=>{const o=this.Bi(n,s);return this.Li(n,o,r,i)?this.$i(t,n):(vm()<=re.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_h(n)),this.qi(t,o,n,qC(i,-1)))})}Bi(t,n){let r=new Ue(t1(t));return n.forEach((i,s)=>{Wa(t,s)&&(r=r.add(s))}),r}Li(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}$i(t,n){return vm()<=re.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",_h(n)),this.Oi.getDocumentsMatchingQuery(t,n,tr.min())}qi(t,n,r,i){return this.Oi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(t,n,r,i){this.persistence=t,this.Ui=n,this.Tt=i,this.Ki=new Ve(ie),this.Gi=new Bi(s=>Zf(s),ed),this.Qi=new Map,this.ji=t.getRemoteDocumentCache(),this.Ns=t.getTargetCache(),this.Os=t.getBundleCache(),this.zi(r)}zi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new sx(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ki))}}function gx(e,t,n,r){return new mx(e,t,n,r)}async function k1(e,t){const n=G(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.zi(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let a=J();for(const u of i){o.push(u.batchId);for(const c of u.mutations)a=a.add(c.key)}for(const u of s){l.push(u.batchId);for(const c of u.mutations)a=a.add(c.key)}return n.localDocuments.getDocuments(r,a).next(u=>({Wi:u,removedBatchIds:o,addedBatchIds:l}))})})}function yx(e,t){const n=G(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.ji.newChangeBuffer({trackRemovals:!0});return function(o,l,a,u){const c=a.batch,h=c.keys();let d=x.resolve();return h.forEach(y=>{d=d.next(()=>u.getEntry(l,y)).next(v=>{const w=a.docVersions.get(y);ae(w!==null),v.version.compareTo(w)<0&&(c.applyToRemoteDocument(v,a),v.isValidDocument()&&(v.setReadTime(a.commitVersion),u.addEntry(v)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(l,c))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=J();for(let a=0;a<o.mutationResults.length;++a)o.mutationResults[a].transformResults.length>0&&(l=l.add(o.batch.mutations[a].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function C1(e){const t=G(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ns.getLastRemoteSnapshotVersion(n))}function vx(e,t){const n=G(e),r=t.snapshotVersion;let i=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ji.newChangeBuffer({trackRemovals:!0});i=n.Ki;const l=[];t.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;l.push(n.Ns.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Ns.addMatchingKeys(s,c.addedDocuments,h)));let y=d.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.has(h)?y=y.withResumeToken(ct.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):c.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(c.resumeToken,r)),i=i.insert(h,y),function(v,w,T){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(d,y,c)&&l.push(n.Ns.updateTargetData(s,y))});let a=In(),u=J();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),l.push(wx(s,o,t.documentUpdates).next(c=>{a=c.Hi,u=c.Ji})),!r.isEqual(Q.min())){const c=n.Ns.getLastRemoteSnapshotVersion(s).next(h=>n.Ns.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(c)}return x.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,a,u)).next(()=>a)}).then(s=>(n.Ki=i,s))}function wx(e,t,n){let r=J(),i=J();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=In();return n.forEach((l,a)=>{const u=s.get(l);a.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),a.isNoDocument()&&a.version.isEqual(Q.min())?(t.removeEntry(l,a.readTime),o=o.insert(l,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||a.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(a),o=o.insert(l,a)):V("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",a.version)}),{Hi:o,Ji:i}})}function Ex(e,t){const n=G(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Sx(e,t){const n=G(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ns.getTargetData(r,t).next(s=>s?(i=s,x.resolve(i)):n.Ns.allocateTargetId(r).next(o=>(i=new Tr(t,o,0,r.currentSequenceNumber),n.Ns.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ki.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(r.targetId,r),n.Gi.set(t,r.targetId)),r})}async function Ih(e,t,n){const r=G(e),i=r.Ki.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!vo(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ki=r.Ki.remove(t),r.Gi.delete(i.target)}function Mm(e,t,n){const r=G(e);let i=Q.min(),s=J();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,a,u){const c=G(l),h=c.Gi.get(u);return h!==void 0?x.resolve(c.Ki.get(h)):c.Ns.getTargetData(a,u)}(r,o,Cn(t)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(o,l.targetId).next(a=>{s=a})}).next(()=>r.Ui.getDocumentsMatchingQuery(o,t,n?i:Q.min(),n?s:J())).next(l=>(_x(r,yI(t),l),{documents:l,Yi:s})))}function _x(e,t,n){let r=e.Qi.get(t)||Q.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.Qi.set(t,r)}class Fm{constructor(){this.activeTargetIds=m1()}sr(t){this.activeTargetIds=this.activeTargetIds.add(t)}ir(t){this.activeTargetIds=this.activeTargetIds.delete(t)}nr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Tx{constructor(){this.Ur=new Fm,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.Ur.sr(t),this.Kr[t]||"not-current"}updateQueryState(t,n,r){this.Kr[t]=n}removeLocalQueryTarget(t){this.Ur.ir(t)}isLocalQueryTarget(t){return this.Ur.activeTargetIds.has(t)}clearQueryState(t){delete this.Kr[t]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(t){return this.Ur.activeTargetIds.has(t)}start(){return this.Ur=new Fm,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{Gr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(t){this.Hr.push(t)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Hr)t(0)}Wr(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Hr)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(t){this.Yr=t.Yr,this.Zr=t.Zr}Xr(t){this.eo=t}no(t){this.so=t}onMessage(t){this.io=t}close(){this.Zr()}send(t){this.Yr(t)}ro(){this.eo()}oo(t){this.so(t)}uo(t){this.io(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.co=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(t,n,r,i,s){const o=this.fo(t,n);V("RestConnection","Sending: ",o,r);const l={};return this._o(l,i,s),this.wo(t,o,l,r).then(a=>(V("RestConnection","Received: ",a),a),a=>{throw gh("RestConnection",`${t} failed with error: `,a,"url: ",o,"request:",r),a})}mo(t,n,r,i,s,o){return this.lo(t,n,r,i,s)}_o(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Vi,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}fo(t,n){const r=Cx[t];return`${this.co}/v1/${n}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}wo(t,n,r,i){return new Promise((s,o)=>{const l=new FC;l.setWithCredentials(!0),l.listenOnce(LC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case zu.NO_ERROR:const u=l.getResponseJson();V("Connection","XHR received:",JSON.stringify(u)),s(u);break;case zu.TIMEOUT:V("Connection",'RPC "'+t+'" timed out'),o(new z(I.DEADLINE_EXCEEDED,"Request time out"));break;case zu.HTTP_ERROR:const c=l.getStatus();if(V("Connection",'RPC "'+t+'" failed with status:',c,"response text:",l.getResponseText()),c>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const d=h==null?void 0:h.error;if(d&&d.status&&d.message){const y=function(v){const w=v.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(w)>=0?w:I.UNKNOWN}(d.status);o(new z(y,d.message))}else o(new z(I.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new z(I.UNAVAILABLE,"Connection failed."));break;default:H()}}finally{V("Connection",'RPC "'+t+'" completed.')}});const a=JSON.stringify(i);l.send(n,"POST",a,r,15)})}yo(t,n,r){const i=[this.co,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=OC(),o=PC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new MC({})),this._o(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const a=i.join("");V("Connection","Creating WebChannel: "+a,l);const u=s.createWebChannel(a,l);let c=!1,h=!1;const d=new Ix({Yr:v=>{h?V("Connection","Not sending because WebChannel is closed:",v):(c||(V("Connection","Opening WebChannel transport."),u.open(),c=!0),V("Connection","WebChannel sending:",v),u.send(v))},Zr:()=>u.close()}),y=(v,w,T)=>{v.listen(w,p=>{try{T(p)}catch(f){setTimeout(()=>{throw f},0)}})};return y(u,Ko.EventType.OPEN,()=>{h||V("Connection","WebChannel transport opened.")}),y(u,Ko.EventType.CLOSE,()=>{h||(h=!0,V("Connection","WebChannel transport closed"),d.oo())}),y(u,Ko.EventType.ERROR,v=>{h||(h=!0,gh("Connection","WebChannel transport errored:",v),d.oo(new z(I.UNAVAILABLE,"The operation could not be completed")))}),y(u,Ko.EventType.MESSAGE,v=>{var w;if(!h){const T=v.data[0];ae(!!T);const p=T,f=p.error||((w=p[0])===null||w===void 0?void 0:w.error);if(f){V("Connection","WebChannel received error:",f);const m=f.status;let E=function(D){const R=Ae[D];if(R!==void 0)return h1(R)}(m),k=f.message;E===void 0&&(E=I.INTERNAL,k="Unknown error status: "+m+" with message "+f.message),h=!0,d.oo(new z(E,k)),u.close()}else V("Connection","WebChannel received:",T),d.uo(T)}}),y(o,$C.STAT_EVENT,v=>{v.stat===gm.PROXY?V("Connection","Detected buffering proxy"):v.stat===gm.NOPROXY&&V("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.ro()},0),d}}function Hu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(e){return new FI(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(t,n,r=1e3,i=1.5,s=6e4){this.Ys=t,this.timerId=n,this.po=r,this.Io=i,this.To=s,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}bo(){this.Eo=this.To}vo(t){this.cancel();const n=Math.floor(this.Eo+this.Po()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Eo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,()=>(this.Ro=Date.now(),t())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){this.Ao!==null&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){this.Ao!==null&&(this.Ao.cancel(),this.Ao=null)}Po(){return(Math.random()-.5)*this.Eo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(t,n,r,i,s,o,l,a){this.Ys=t,this.So=r,this.Do=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=a,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new I1(t,n)}Oo(){return this.state===1||this.state===5||this.Mo()}Mo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Fo()}async stop(){this.Oo()&&await this.close(0)}$o(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&this.xo===null&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(t){this.Uo(),this.stream.send(t)}async Lo(){if(this.Mo())return this.close(0)}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}async close(t,n){this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,t!==4?this.ko.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(kn(n.toString()),kn("Using maximum backoff delay to prevent overloading the backend."),this.ko.bo()):n&&n.code===I.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Go(),this.stream.close(),this.stream=null),this.state=t,await this.listener.no(n)}Go(){}auth(){this.state=1;const t=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Co===n&&this.jo(r,i)},r=>{t(()=>{const i=new z(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.zo(i)})})}jo(t,n){const r=this.Qo(this.Co);this.stream=this.Wo(t,n),this.stream.Xr(()=>{r(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(i=>{r(()=>this.zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Fo(){this.state=5,this.ko.vo(async()=>{this.state=0,this.start()})}zo(t){return V("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Qo(t){return n=>{this.Ys.enqueueAndForget(()=>this.Co===t?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nx extends x1{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.Tt=s}Wo(t,n){return this.connection.yo("Listen",t,n)}onMessage(t){this.ko.reset();const n=bI(this.Tt,t),r=function(i){if(!("targetChange"in i))return Q.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Q.min():s.readTime?on(s.readTime):Q.min()}(t);return this.listener.Ho(n,r)}Jo(t){const n={};n.database=Ch(this.Tt),n.addTarget=function(i,s){let o;const l=s.target;return o=Eh(l)?{documents:jI(i,l)}:{query:HI(i,l)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=v1(i,s.resumeToken):s.snapshotVersion.compareTo(Q.min())>0&&(o.readTime=na(i,s.snapshotVersion.toTimestamp())),o}(this.Tt,t);const r=WI(this.Tt,t);r&&(n.labels=r),this.qo(n)}Yo(t){const n={};n.database=Ch(this.Tt),n.removeTarget=t,this.qo(n)}}class Ax extends x1{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.Tt=s,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(t,n){return this.connection.yo("Write",t,n)}onMessage(t){if(ae(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Zo){this.ko.reset();const n=zI(t.writeResults,t.commitTime),r=on(t.commitTime);return this.listener.eu(r,n)}return ae(!t.writeResults||t.writeResults.length===0),this.Zo=!0,this.listener.nu()}su(){const t={};t.database=Ch(this.Tt),this.qo(t)}tu(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>BI(this.Tt,r))};this.qo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.Tt=i,this.iu=!1}ru(){if(this.iu)throw new z(I.FAILED_PRECONDITION,"The client has already been terminated.")}lo(t,n,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.lo(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new z(I.UNKNOWN,i.toString())})}mo(t,n,r,i){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.mo(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(I.UNKNOWN,s.toString())})}terminate(){this.iu=!0}}class Rx{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){this.ou===0&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(t){this.state==="Online"?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.hu("Offline")))}set(t){this.du(),this.ou=0,t==="Online"&&(this.cu=!1),this.hu(t)}hu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}lu(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(kn(n),this.cu=!1):V("OnlineStateTracker",n)}du(){this.uu!==null&&(this.uu.cancel(),this.uu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=s,this.yu.Gr(o=>{r.enqueueAndForget(async()=>{Vr(this)&&(V("RemoteStore","Restarting streams for network reachability change."),await async function(l){const a=G(l);a.mu.add(4),await So(a),a.pu.set("Unknown"),a.mu.delete(4),await Ya(a)}(this))})}),this.pu=new Rx(r,i)}}async function Ya(e){if(Vr(e))for(const t of e.gu)await t(!0)}async function So(e){for(const t of e.gu)await t(!1)}function N1(e,t){const n=G(e);n.wu.has(t.targetId)||(n.wu.set(t.targetId,t),ad(n)?ld(n):zi(n).Mo()&&od(n,t))}function A1(e,t){const n=G(e),r=zi(n);n.wu.delete(t),r.Mo()&&D1(n,t),n.wu.size===0&&(r.Mo()?r.Bo():Vr(n)&&n.pu.set("Unknown"))}function od(e,t){e.Iu.Ft(t.targetId),zi(e).Jo(t)}function D1(e,t){e.Iu.Ft(t),zi(e).Yo(t)}function ld(e){e.Iu=new PI({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ie:t=>e.wu.get(t)||null}),zi(e).start(),e.pu.au()}function ad(e){return Vr(e)&&!zi(e).Oo()&&e.wu.size>0}function Vr(e){return G(e).mu.size===0}function R1(e){e.Iu=void 0}async function Px(e){e.wu.forEach((t,n)=>{od(e,t)})}async function Lx(e,t){R1(e),ad(e)?(e.pu.fu(t),ld(e)):e.pu.set("Unknown")}async function $x(e,t,n){if(e.pu.set("Online"),t instanceof y1&&t.state===2&&t.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.wu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.wu.delete(o),r.Iu.removeTarget(o))}(e,t)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ra(e,r)}else if(t instanceof fl?e.Iu.Qt(t):t instanceof g1?e.Iu.Zt(t):e.Iu.Wt(t),!n.isEqual(Q.min()))try{const r=await C1(e.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Iu.ee(s);return o.targetChanges.forEach((l,a)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.wu.get(a);u&&i.wu.set(a,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach(l=>{const a=i.wu.get(l);if(!a)return;i.wu.set(l,a.withResumeToken(ct.EMPTY_BYTE_STRING,a.snapshotVersion)),D1(i,l);const u=new Tr(a.target,l,1,a.sequenceNumber);od(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){V("RemoteStore","Failed to raise snapshot:",r),await ra(e,r)}}async function ra(e,t,n){if(!vo(t))throw t;e.mu.add(1),await So(e),e.pu.set("Offline"),n||(n=()=>C1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{V("RemoteStore","Retrying IndexedDB access"),await n(),e.mu.delete(1),await Ya(e)})}function O1(e,t){return t().catch(n=>ra(e,n,t))}async function Ja(e){const t=G(e),n=rr(t);let r=t._u.length>0?t._u[t._u.length-1].batchId:-1;for(;Mx(t);)try{const i=await Ex(t.localStore,r);if(i===null){t._u.length===0&&n.Bo();break}r=i.batchId,Fx(t,i)}catch(i){await ra(t,i)}P1(t)&&L1(t)}function Mx(e){return Vr(e)&&e._u.length<10}function Fx(e,t){e._u.push(t);const n=rr(e);n.Mo()&&n.Xo&&n.tu(t.mutations)}function P1(e){return Vr(e)&&!rr(e).Oo()&&e._u.length>0}function L1(e){rr(e).start()}async function Ux(e){rr(e).su()}async function Vx(e){const t=rr(e);for(const n of e._u)t.tu(n.mutations)}async function bx(e,t,n){const r=e._u.shift(),i=nd.from(r,t,n);await O1(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Ja(e)}async function Bx(e,t){t&&rr(e).Xo&&await async function(n,r){if(i=r.code,NI(i)&&i!==I.ABORTED){const s=n._u.shift();rr(n).$o(),await O1(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Ja(n)}var i}(e,t),P1(e)&&L1(e)}async function Vm(e,t){const n=G(e);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");const r=Vr(n);n.mu.add(3),await So(n),r&&n.pu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.mu.delete(3),await Ya(n)}async function zx(e,t){const n=G(e);t?(n.mu.delete(2),await Ya(n)):t||(n.mu.add(2),await So(n),n.pu.set("Unknown"))}function zi(e){return e.Tu||(e.Tu=function(t,n,r){const i=G(t);return i.ru(),new Nx(n,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(e.datastore,e.asyncQueue,{Xr:Px.bind(null,e),no:Lx.bind(null,e),Ho:$x.bind(null,e)}),e.gu.push(async t=>{t?(e.Tu.$o(),ad(e)?ld(e):e.pu.set("Unknown")):(await e.Tu.stop(),R1(e))})),e.Tu}function rr(e){return e.Eu||(e.Eu=function(t,n,r){const i=G(t);return i.ru(),new Ax(n,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(e.datastore,e.asyncQueue,{Xr:Ux.bind(null,e),no:Bx.bind(null,e),nu:Vx.bind(null,e),eu:bx.bind(null,e)}),e.gu.push(async t=>{t?(e.Eu.$o(),await Ja(e)):(await e.Eu.stop(),e._u.length>0&&(V("RemoteStore",`Stopping write stream with ${e._u.length} pending writes`),e._u=[]))})),e.Eu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Yn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,l=new ud(t,n,o,i,s);return l.start(r),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(I.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cd(e,t){if(kn("AsyncQueue",`${t}: ${e}`),vo(e))return new z(I.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t){this.comparator=t?(n,r)=>t(n,r)||B.comparator(n.key,r.key):(n,r)=>B.comparator(n.key,r.key),this.keyedMap=ls(),this.sortedSet=new Ve(this.comparator)}static emptySet(t){return new di(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof di)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new di;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this.Au=new Ve(B.comparator)}track(t){const n=t.doc.key,r=this.Au.get(n);r?t.type!==0&&r.type===3?this.Au=this.Au.insert(n,t):t.type===3&&r.type!==1?this.Au=this.Au.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Au=this.Au.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Au=this.Au.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Au=this.Au.remove(n):t.type===1&&r.type===2?this.Au=this.Au.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Au=this.Au.insert(n,{type:2,doc:t.doc}):H():this.Au=this.Au.insert(n,t)}Ru(){const t=[];return this.Au.inorderTraversal((n,r)=>{t.push(r)}),t}}class Di{constructor(t,n,r,i,s,o,l,a,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=a,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Di(t,n,di.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ka(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.bu=void 0,this.listeners=[]}}class Hx{constructor(){this.queries=new Bi(t=>e1(t),Ka),this.onlineState="Unknown",this.vu=new Set}}async function Kx(e,t){const n=G(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new jx),i)try{s.bu=await n.onListen(r)}catch(o){const l=cd(o,`Initialization of query '${_h(t.query)}' failed`);return void t.onError(l)}n.queries.set(r,s),s.listeners.push(t),t.Pu(n.onlineState),s.bu&&t.Vu(s.bu)&&hd(n)}async function Wx(e,t){const n=G(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function qx(e,t){const n=G(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.listeners)l.Vu(i)&&(r=!0);o.bu=i}}r&&hd(n)}function Qx(e,t,n){const r=G(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function hd(e){e.vu.forEach(t=>{t.next()})}class Gx{constructor(t,n,r){this.query=t,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}Vu(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Di(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Du?this.xu(t)&&(this.Su.next(t),n=!0):this.Nu(t,this.onlineState)&&(this.ku(t),n=!0),this.Cu=t,n}onError(t){this.Su.error(t)}Pu(t){this.onlineState=t;let n=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,t)&&(this.ku(this.Cu),n=!0),n}Nu(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ou||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}xu(t){if(t.docChanges.length>0)return!0;const n=this.Cu&&this.Cu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ku(t){t=Di.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Du=!0,this.Su.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(t){this.key=t}}class M1{constructor(t){this.key=t}}class Xx{constructor(t,n){this.query=t,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=J(),this.mutatedKeys=J(),this.ju=t1(t),this.zu=new di(this.ju)}get Wu(){return this.Ku}Hu(t,n){const r=n?n.Ju:new bm,i=n?n.zu:this.zu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const a=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,h)=>{const d=i.get(c),y=Wa(this.query,h)?h:null,v=!!d&&this.mutatedKeys.has(d.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let T=!1;d&&y?d.data.isEqual(y.data)?v!==w&&(r.track({type:3,doc:y}),T=!0):this.Yu(d,y)||(r.track({type:2,doc:y}),T=!0,(a&&this.ju(y,a)>0||u&&this.ju(y,u)<0)&&(l=!0)):!d&&y?(r.track({type:0,doc:y}),T=!0):d&&!y&&(r.track({type:1,doc:d}),T=!0,(a||u)&&(l=!0)),T&&(y?(o=o.add(y),s=w?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{zu:o,Ju:r,Li:l,mutatedKeys:s}}Yu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.zu;this.zu=t.zu,this.mutatedKeys=t.mutatedKeys;const s=t.Ju.Ru();s.sort((u,c)=>function(h,d){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H()}};return y(h)-y(d)}(u.type,c.type)||this.ju(u.doc,c.doc)),this.Zu(r);const o=n?this.Xu():[],l=this.Qu.size===0&&this.current?1:0,a=l!==this.Gu;return this.Gu=l,s.length!==0||a?{snapshot:new Di(this.query,t.zu,i,s,t.mutatedKeys,l===0,a,!1,!!r&&r.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}Pu(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new bm,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(t){return!this.Ku.has(t)&&!!this.zu.has(t)&&!this.zu.get(t).hasLocalMutations}Zu(t){t&&(t.addedDocuments.forEach(n=>this.Ku=this.Ku.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ku=this.Ku.delete(n)),this.current=t.current)}Xu(){if(!this.current)return[];const t=this.Qu;this.Qu=J(),this.zu.forEach(r=>{this.ec(r.key)&&(this.Qu=this.Qu.add(r.key))});const n=[];return t.forEach(r=>{this.Qu.has(r)||n.push(new M1(r))}),this.Qu.forEach(r=>{t.has(r)||n.push(new $1(r))}),n}nc(t){this.Ku=t.Yi,this.Qu=J();const n=this.Hu(t.documents);return this.applyChanges(n,!0)}sc(){return Di.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,this.Gu===0,this.hasCachedResults)}}class Yx{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Jx{constructor(t){this.key=t,this.ic=!1}}class Zx{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new Bi(l=>e1(l),Ka),this.uc=new Map,this.cc=new Set,this.ac=new Ve(B.comparator),this.hc=new Map,this.lc=new rd,this.fc={},this.dc=new Map,this._c=Ai.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return this.wc===!0}}async function eN(e,t){const n=cN(e);let r,i;const s=n.oc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.sc();else{const o=await Sx(n.localStore,Cn(t));n.isPrimaryClient&&N1(n.remoteStore,o);const l=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await tN(n,t,r,l==="current",o.resumeToken)}return i}async function tN(e,t,n,r,i){e.mc=(h,d,y)=>async function(v,w,T,p){let f=w.view.Hu(T);f.Li&&(f=await Mm(v.localStore,w.query,!1).then(({documents:k})=>w.view.Hu(k,f)));const m=p&&p.targetChanges.get(w.targetId),E=w.view.applyChanges(f,v.isPrimaryClient,m);return zm(v,w.targetId,E.tc),E.snapshot}(e,h,d,y);const s=await Mm(e.localStore,t,!0),o=new Xx(t,s.Yi),l=o.Hu(s.documents),a=Eo.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(l,e.isPrimaryClient,a);zm(e,n,u.tc);const c=new Yx(t,n,o);return e.oc.set(t,c),e.uc.has(n)?e.uc.get(n).push(t):e.uc.set(n,[t]),u.snapshot}async function nN(e,t){const n=G(e),r=n.oc.get(t),i=n.uc.get(r.targetId);if(i.length>1)return n.uc.set(r.targetId,i.filter(s=>!Ka(s,t))),void n.oc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ih(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),A1(n.remoteStore,r.targetId),xh(n,r.targetId)}).catch(yo)):(xh(n,r.targetId),await Ih(n.localStore,r.targetId,!0))}async function rN(e,t,n){const r=hN(e);try{const i=await function(s,o){const l=G(s),a=Fe.now(),u=o.reduce((d,y)=>d.add(y.key),J());let c,h;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let y=In(),v=J();return l.ji.getEntries(d,u).next(w=>{y=w,y.forEach((T,p)=>{p.isValidDocument()||(v=v.add(T))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,y)).next(w=>{c=w;const T=[];for(const p of o){const f=CI(p,c.get(p.key).overlayedDocument);f!=null&&T.push(new Ur(p.key,f,J0(f.value.mapValue),yn.exists(!0)))}return l.mutationQueue.addMutationBatch(d,a,T,o)}).next(w=>{h=w;const T=w.applyToLocalDocumentSet(c,v);return l.documentOverlayCache.saveOverlays(d,w.batchId,T)})}).then(()=>({batchId:h.batchId,changes:d1(c)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let a=s.fc[s.currentUser.toKey()];a||(a=new Ve(ie)),a=a.insert(o,l),s.fc[s.currentUser.toKey()]=a}(r,i.batchId,n),await _o(r,i.changes),await Ja(r.remoteStore)}catch(i){const s=cd(i,"Failed to persist write");n.reject(s)}}async function F1(e,t){const n=G(e);try{const r=await vx(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.hc.get(s);o&&(ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ic=!0:i.modifiedDocuments.size>0?ae(o.ic):i.removedDocuments.size>0&&(ae(o.ic),o.ic=!1))}),await _o(n,r,t)}catch(r){await yo(r)}}function Bm(e,t,n){const r=G(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.oc.forEach((s,o)=>{const l=o.view.Pu(t);l.snapshot&&i.push(l.snapshot)}),function(s,o){const l=G(s);l.onlineState=o;let a=!1;l.queries.forEach((u,c)=>{for(const h of c.listeners)h.Pu(o)&&(a=!0)}),a&&hd(l)}(r.eventManager,t),i.length&&r.rc.Ho(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function iN(e,t,n){const r=G(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.hc.get(t),s=i&&i.key;if(s){let o=new Ve(B.comparator);o=o.insert(s,st.newNoDocument(s,Q.min()));const l=J().add(s),a=new Ga(Q.min(),new Map,new Ue(ie),o,l);await F1(r,a),r.ac=r.ac.remove(s),r.hc.delete(t),fd(r)}else await Ih(r.localStore,t,!1).then(()=>xh(r,t,n)).catch(yo)}async function sN(e,t){const n=G(e),r=t.batch.batchId;try{const i=await yx(n.localStore,t);V1(n,r,null),U1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _o(n,i)}catch(i){await yo(i)}}async function oN(e,t,n){const r=G(e);try{const i=await function(s,o){const l=G(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",a=>{let u;return l.mutationQueue.lookupMutationBatch(a,o).next(c=>(ae(c!==null),u=c.keys(),l.mutationQueue.removeMutationBatch(a,c))).next(()=>l.mutationQueue.performConsistencyCheck(a)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(a,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,u)).next(()=>l.localDocuments.getDocuments(a,u))})}(r.localStore,t);V1(r,t,n),U1(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await _o(r,i)}catch(i){await yo(i)}}function U1(e,t){(e.dc.get(t)||[]).forEach(n=>{n.resolve()}),e.dc.delete(t)}function V1(e,t,n){const r=G(e);let i=r.fc[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.fc[r.currentUser.toKey()]=i}}function xh(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.uc.get(t))e.oc.delete(r),n&&e.rc.gc(r,n);e.uc.delete(t),e.isPrimaryClient&&e.lc.ds(t).forEach(r=>{e.lc.containsKey(r)||b1(e,r)})}function b1(e,t){e.cc.delete(t.path.canonicalString());const n=e.ac.get(t);n!==null&&(A1(e.remoteStore,n),e.ac=e.ac.remove(t),e.hc.delete(n),fd(e))}function zm(e,t,n){for(const r of n)r instanceof $1?(e.lc.addReference(r.key,t),lN(e,r)):r instanceof M1?(V("SyncEngine","Document no longer in limbo: "+r.key),e.lc.removeReference(r.key,t),e.lc.containsKey(r.key)||b1(e,r.key)):H()}function lN(e,t){const n=t.key,r=n.path.canonicalString();e.ac.get(n)||e.cc.has(r)||(V("SyncEngine","New document in limbo: "+n),e.cc.add(r),fd(e))}function fd(e){for(;e.cc.size>0&&e.ac.size<e.maxConcurrentLimboResolutions;){const t=e.cc.values().next().value;e.cc.delete(t);const n=new B(ge.fromString(t)),r=e._c.next();e.hc.set(r,new Jx(n)),e.ac=e.ac.insert(n,r),N1(e.remoteStore,new Tr(Cn(Z0(n.path)),r,2,Yf.at))}}async function _o(e,t,n){const r=G(e),i=[],s=[],o=[];r.oc.isEmpty()||(r.oc.forEach((l,a)=>{o.push(r.mc(a,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=sd.Ni(a.targetId,u);s.push(c)}}))}),await Promise.all(o),r.rc.Ho(i),await async function(l,a){const u=G(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>x.forEach(a,h=>x.forEach(h.Ci,d=>u.persistence.referenceDelegate.addReference(c,h.targetId,d)).next(()=>x.forEach(h.xi,d=>u.persistence.referenceDelegate.removeReference(c,h.targetId,d)))))}catch(c){if(!vo(c))throw c;V("LocalStore","Failed to update sequence numbers: "+c)}for(const c of a){const h=c.targetId;if(!c.fromCache){const d=u.Ki.get(h),y=d.snapshotVersion,v=d.withLastLimboFreeSnapshotVersion(y);u.Ki=u.Ki.insert(h,v)}}}(r.localStore,s))}async function aN(e,t){const n=G(e);if(!n.currentUser.isEqual(t)){V("SyncEngine","User change. New user:",t.toKey());const r=await k1(n.localStore,t);n.currentUser=t,function(i,s){i.dc.forEach(o=>{o.forEach(l=>{l.reject(new z(I.CANCELLED,s))})}),i.dc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await _o(n,r.Wi)}}function uN(e,t){const n=G(e),r=n.hc.get(t);if(r&&r.ic)return J().add(r.key);{let i=J();const s=n.uc.get(t);if(!s)return i;for(const o of s){const l=n.oc.get(o);i=i.unionWith(l.view.Wu)}return i}}function cN(e){const t=G(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=F1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=iN.bind(null,t),t.rc.Ho=qx.bind(null,t.eventManager),t.rc.gc=Qx.bind(null,t.eventManager),t}function hN(e){const t=G(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oN.bind(null,t),t}class fN{constructor(){this.synchronizeTabs=!1}async initialize(t){this.Tt=Xa(t.databaseInfo.databaseId),this.sharedClientState=this.Ic(t),this.persistence=this.Tc(t),await this.persistence.start(),this.localStore=this.Ec(t),this.gcScheduler=this.Ac(t,this.localStore),this.indexBackfillerScheduler=this.Rc(t,this.localStore)}Ac(t,n){return null}Rc(t,n){return null}Ec(t){return gx(this.persistence,new px,t.initialUser,this.Tt)}Tc(t){return new fx(id.qs,this.Tt)}Ic(t){return new Tx}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class dN{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Bm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aN.bind(null,this.syncEngine),await zx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Hx}createDatastore(t){const n=Xa(t.databaseInfo.databaseId),r=(i=t.databaseInfo,new xx(i));var i;return function(s,o,l,a){return new Dx(s,o,l,a)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=l=>Bm(this.syncEngine,l,0),o=Um.C()?new Um:new kx,new Ox(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(t,n){return function(r,i,s,o,l,a,u){const c=new Zx(r,i,s,o,l,a);return u&&(c.wc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=G(t);V("RemoteStore","RemoteStore shutting down."),n.mu.add(5),await So(n),n.yu.shutdown(),n.pu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.vc(this.observer.next,t)}error(t){this.observer.error?this.vc(this.observer.error,t):kn("Uncaught Error in snapshot listener:",t.toString())}Pc(){this.muted=!0}vc(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=rt.UNAUTHENTICATED,this.clientId=z0.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{V("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(V("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new z(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Yn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=cd(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function gN(e,t){e.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await k1(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function yN(e,t){e.asyncQueue.verifyOperationInProgress();const n=await vN(e);V("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>Vm(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>Vm(t.remoteStore,s)),e.onlineComponents=t}async function vN(e){return e.offlineComponents||(V("FirestoreClient","Using default OfflineComponentProvider"),await gN(e,new fN)),e.offlineComponents}async function B1(e){return e.onlineComponents||(V("FirestoreClient","Using default OnlineComponentProvider"),await yN(e,new dN)),e.onlineComponents}function wN(e){return B1(e).then(t=>t.syncEngine)}async function EN(e){const t=await B1(e),n=t.eventManager;return n.onListen=eN.bind(null,t.syncEngine),n.onUnlisten=nN.bind(null,t.syncEngine),n}function SN(e,t,n={}){const r=new Yn;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,a){const u=new pN({next:h=>{s.enqueueAndForget(()=>Wx(i,c)),h.fromCache&&l.source==="server"?a.reject(new z(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(h)},error:h=>a.reject(h)}),c=new Gx(o,u,{includeMetadataChanges:!0,Ou:!0});return Kx(i,c)}(await EN(e),e.asyncQueue,t,n,r)),r.promise}const jm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(e,t,n){if(!n)throw new z(I.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function _N(e,t,n,r){if(t===!0&&r===!0)throw new z(I.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Hm(e){if(!B.isDocumentKey(e))throw new z(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Km(e){if(B.isDocumentKey(e))throw new z(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function dd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":H()}function ia(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new z(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dd(e);throw new z(I.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new z(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new z(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,_N("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new z(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new z(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wm(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new UC;switch(n.type){case"gapi":const r=n.client;return new zC(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new z(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=jm.get(t);n&&(V("ComponentProvider","Removing Datastore"),jm.delete(t),n.terminate())}(this),Promise.resolve()}}function TN(e,t,n,r={}){var i;const s=(e=ia(e,Za))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==t&&gh("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=rt.MOCK_USER;else{o=Nv(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new z(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new rt(a)}e._authCredentials=new VC(new B0(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jn(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Gt(this.firestore,t,this._key)}}class eu{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new eu(this.firestore,t,this._query)}}class Jn extends eu{constructor(t,n,r){super(t,n,Z0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Gt(this.firestore,null,new B(t))}withConverter(t){return new Jn(this.firestore,t,this._path)}}function j1(e,t,...n){if(e=_n(e),z1("collection","path",t),e instanceof Za){const r=ge.fromString(t,...n);return Km(r),new Jn(e,null,r)}{if(!(e instanceof Gt||e instanceof Jn))throw new z(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ge.fromString(t,...n));return Km(r),new Jn(e.firestore,null,r)}}function kN(e,t,...n){if(e=_n(e),arguments.length===1&&(t=z0.R()),z1("doc","path",t),e instanceof Za){const r=ge.fromString(t,...n);return Hm(r),new Gt(e,null,new B(r))}{if(!(e instanceof Gt||e instanceof Jn))throw new z(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ge.fromString(t,...n));return Hm(r),new Gt(e.firestore,e instanceof Jn?e.converter:null,new B(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new I1(this,"async_queue_retry"),this.Hc=()=>{const n=Hu();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ko.Vo()};const t=Hu();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Jc(),this.Yc(t)}enterRestrictedMode(t){if(!this.Kc){this.Kc=!0,this.zc=t||!1;const n=Hu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Hc)}}enqueue(t){if(this.Jc(),this.Kc)return new Promise(()=>{});const n=new Yn;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Uc.push(t),this.Zc()))}async Zc(){if(this.Uc.length!==0){try{await this.Uc[0](),this.Uc.shift(),this.ko.reset()}catch(t){if(!vo(t))throw t;V("AsyncQueue","Operation failed with retryable error: "+t)}this.Uc.length>0&&this.ko.vo(()=>this.Zc())}}Yc(t){const n=this.qc.then(()=>(this.jc=!0,t().catch(r=>{this.Qc=r,this.jc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw kn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.jc=!1,r))));return this.qc=n,n}enqueueAfterDelay(t,n,r){this.Jc(),this.Wc.indexOf(t)>-1&&(n=0);const i=ud.createAndSchedule(this,t,n,r,s=>this.Xc(s));return this.Gc.push(i),i}Jc(){this.Qc&&H()}verifyOperationInProgress(){}async ta(){let t;do t=this.qc,await t;while(t!==this.qc)}ea(t){for(const n of this.Gc)if(n.timerId===t)return!0;return!1}na(t){return this.ta().then(()=>{this.Gc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Gc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.ta()})}sa(t){this.Wc.push(t)}Xc(t){const n=this.Gc.indexOf(t);this.Gc.splice(n,1)}}class pd extends Za{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new CN,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||K1(this),this._firestoreClient.terminate()}}function IN(e,t){const n=typeof e=="object"?e:Mv(),r=typeof e=="string"?e:t||"(default)",i=Pv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=xv("firestore");s&&TN(i,...s)}return i}function H1(e){return e._firestoreClient||K1(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function K1(e){var t;const n=e._freezeSettings(),r=function(i,s,o,l){return new JC(i,s,o,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new mN(e._authCredentials,e._appCheckCredentials,e._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ri(ct.fromBase64String(t))}catch(n){throw new z(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ri(ct.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new z(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new z(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new z(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ie(this._lat,t._lat)||ie(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=/^__.*__$/;class NN{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ur(t,this.data,this.fieldMask,n,this.fieldTransforms):new wo(t,this.data,n,this.fieldTransforms)}}function q1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H()}}class yd{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.Tt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ia(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(t){return new yd(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.oa({path:r,ca:!1});return i.aa(t),i}ha(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.oa({path:r,ca:!1});return i.ia(),i}la(t){return this.oa({path:void 0,ca:!0})}fa(t){return sa(t,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}ia(){if(this.path)for(let t=0;t<this.path.length;t++)this.aa(this.path.get(t))}aa(t){if(t.length===0)throw this.fa("Document fields must not be empty");if(q1(this.ra)&&xN.test(t))throw this.fa('Document fields cannot begin and end with "__"')}}class AN{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.Tt=r||Xa(t)}wa(t,n,r,i=!1){return new yd({ra:t,methodName:n,_a:r,path:ot.emptyPath(),ca:!1,da:i},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function DN(e){const t=e._freezeSettings(),n=Xa(e._databaseId);return new AN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function RN(e,t,n,r,i,s={}){const o=e.wa(s.merge||s.mergeFields?2:0,t,n,i);Y1("Data must be an object, but it was:",o,r);const l=G1(r,o);let a,u;if(s.merge)a=new Wt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const d=ON(t,h,n);if(!o.contains(d))throw new z(I.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);LN(c,d)||c.push(d)}a=new Wt(c),u=o.fieldTransforms.filter(h=>a.covers(h.field))}else a=null,u=o.fieldTransforms;return new NN(new $t(l),a,u)}function Q1(e,t){if(X1(e=_n(e)))return Y1("Unsupported field value:",t,e),G1(e,t);if(e instanceof W1)return function(n,r){if(!q1(r.ra))throw r.fa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.fa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ca&&t.ra!==4)throw t.fa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let l=Q1(o,r.la(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=_n(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return wI(r.Tt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Fe.fromDate(n);return{timestampValue:na(r.Tt,i)}}if(n instanceof Fe){const i=new Fe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:na(r.Tt,i)}}if(n instanceof gd)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ri)return{bytesValue:v1(r.Tt,n._byteString)};if(n instanceof Gt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.fa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:td(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.fa(`Unsupported field value: ${dd(n)}`)}(e,t)}function G1(e,t){const n={};return j0(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):bi(e,(r,i)=>{const s=Q1(i,t.ua(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function X1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Fe||e instanceof gd||e instanceof Ri||e instanceof Gt||e instanceof W1)}function Y1(e,t,n){if(!X1(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=dd(n);throw r==="an object"?t.fa(e+" a custom object"):t.fa(e+" "+r)}}function ON(e,t,n){if((t=_n(t))instanceof md)return t._internalPath;if(typeof t=="string")return J1(e,t);throw sa("Field path arguments must be of type string or ",e,!1,void 0,n)}const PN=new RegExp("[~\\*/\\[\\]]");function J1(e,t,n){if(t.search(PN)>=0)throw sa(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new md(...t.split("."))._internalPath}catch{throw sa(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function sa(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let a="";return(s||o)&&(a+=" (found",s&&(a+=` in field ${r}`),o&&(a+=` in document ${i}`),a+=")"),new z(I.INVALID_ARGUMENT,l+e+a)}function LN(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new $N(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(ew("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $N extends Z1{data(){return super.data()}}function ew(e,t){return typeof t=="string"?J1(e,t):t instanceof md?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new z(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FN{convertValue(t,n="none"){switch(Or(t)){case 0:return null;case 1:return t.booleanValue;case 2:return De(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ii(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw H()}}convertObject(t,n){const r={};return bi(t.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new gd(De(t.latitude),De(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=K0(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xs(t));default:return null}}convertTimestamp(t){const n=nr(t);return new Fe(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ge.fromString(t);ae(T1(r));const i=new Gs(r.get(1),r.get(3)),s=new B(r.popFirst(5));return i.isEqual(n)||kn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class VN extends Z1{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new dl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(ew("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class dl extends VN{data(t={}){return super.data(t)}}class bN{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new dl(this._firestore,this._userDataWriter,r.key,r,new Qo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new z(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const l=new dl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Qo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new dl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Qo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let a=-1,u=-1;return o.type!==0&&(a=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:BN(o.type),doc:l,oldIndex:a,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function BN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H()}}class zN extends FN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ri(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}function jN(e){e=ia(e,eu);const t=ia(e.firestore,pd),n=H1(t),r=new zN(t);return MN(e._query),SN(n,e._query).then(i=>new bN(t,r,e,i))}function HN(e,t){const n=ia(e.firestore,pd),r=kN(e),i=UN(e.converter,t);return KN(n,[RN(DN(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,yn.exists(!1))]).then(()=>r)}function KN(e,t){return function(n,r){const i=new Yn;return n.asyncQueue.enqueueAndForget(async()=>rN(await wN(n),r,i)),i.promise}(H1(e),t)}(function(e,t=!0){(function(n){Vi=n})(Lv),Bs(new Ti("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new pd(new bC(n.getProvider("auth-internal")),new HC(n.getProvider("app-check-internal")),function(l,a){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new z(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gs(l.options.projectId,a)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Xn(ym,"3.8.4",e),Xn(ym,"3.8.4","esm2017")})();var WN="firebase",qN="9.17.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(WN,qN,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="firebasestorage.googleapis.com",nw="storageBucket",QN=2*60*1e3,GN=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke extends Mr{constructor(t,n,r=0){super(Ku(t),`Firebase Storage: ${n} (${Ku(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ke.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Ku(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Te;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Te||(Te={}));function Ku(e){return"storage/"+e}function vd(){const e="An unknown error occurred, please check the error payload for server response.";return new ke(Te.UNKNOWN,e)}function XN(e){return new ke(Te.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function YN(e){return new ke(Te.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function JN(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ke(Te.UNAUTHENTICATED,e)}function ZN(){return new ke(Te.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function eA(e){return new ke(Te.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function tA(){return new ke(Te.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nA(){return new ke(Te.CANCELED,"User canceled the upload/download.")}function rA(e){return new ke(Te.INVALID_URL,"Invalid URL '"+e+"'.")}function iA(e){return new ke(Te.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function sA(){return new ke(Te.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+nw+"' property when initializing the app?")}function oA(){return new ke(Te.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function lA(){return new ke(Te.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function aA(e){return new ke(Te.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Nh(e){return new ke(Te.INVALID_ARGUMENT,e)}function rw(){return new ke(Te.APP_DELETED,"The Firebase app was deleted.")}function uA(e){return new ke(Te.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _s(e,t){return new ke(Te.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Zi(e){throw new ke(Te.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=It.makeFromUrl(t,n)}catch{return new It(t,"")}if(r.path==="")return r;throw iA(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),a={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",y=new RegExp(`^https?://${h}/${c}/b/${i}/o${d}`,"i"),v={bucket:1,path:3},w=n===tw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",p=new RegExp(`^https?://${w}/${i}/${T}`,"i"),m=[{regex:l,indices:a,postModify:s},{regex:y,indices:v,postModify:u},{regex:p,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<m.length;E++){const k=m[E],D=k.regex.exec(t);if(D){const R=D[k.indices.bucket];let $=D[k.indices.path];$||($=""),r=new It(R,$),k.postModify(r);break}}if(r==null)throw rA(t);return r}}class cA{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(e,t,n){let r=1,i=null,s=null,o=!1,l=0;function a(){return l===2}let u=!1;function c(...T){u||(u=!0,t.apply(null,T))}function h(T){i=setTimeout(()=>{i=null,e(y,a())},T)}function d(){s&&clearTimeout(s)}function y(T,...p){if(u){d();return}if(T){d(),c.call(null,T,...p);return}if(a()||o){d(),c.call(null,T,...p);return}r<64&&(r*=2);let m;l===1?(l=2,m=0):m=(r+Math.random())*1e3,h(m)}let v=!1;function w(T){v||(v=!0,d(),!u&&(i!==null?(T||(l=2),clearTimeout(i),h(0)):T||(l=1)))}return h(0),s=setTimeout(()=>{o=!0,w(!0)},n),w}function fA(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(e){return e!==void 0}function pA(e){return typeof e=="object"&&!Array.isArray(e)}function wd(e){return typeof e=="string"||e instanceof String}function qm(e){return Ed()&&e instanceof Blob}function Ed(){return typeof Blob<"u"&&!CT()}function Qm(e,t,n,r){if(r<t)throw Nh(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Nh(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function iw(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kr;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(kr||(kr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(t,n,r,i,s,o,l,a,u,c,h,d=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=a,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,v)=>{this.resolve_=y,this.reject_=v,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new Go(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const a=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===kr.NO_ERROR,a=s.getStatus();if(!l||mA(a,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===kr.ABORT;r(!1,new Go(!1,null,c));return}const u=this.successCodes_.indexOf(a)!==-1;r(!0,new Go(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const a=this.callback_(l,l.getResponse());dA(a)?s(a):s()}catch(a){o(a)}else if(l!==null){const a=vd();a.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,a)):o(a)}else if(i.canceled){const a=this.appDelete_?rw():nA();o(a)}else{const a=tA();o(a)}};this.canceled_?n(!1,new Go(!1,null,!0)):this.backoffId_=hA(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&fA(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Go{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function yA(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function vA(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function wA(e,t){t&&(e["X-Firebase-GMPID"]=t)}function EA(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function SA(e,t,n,r,i,s,o=!0){const l=iw(e.urlParams),a=e.url+l,u=Object.assign({},e.headers);return wA(u,t),yA(u,n),vA(u,s),EA(u,r),new gA(a,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function TA(...e){const t=_A();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(Ed())return new Blob(e);throw new ke(Te.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function kA(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(e){if(typeof atob>"u")throw aA("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Wu{constructor(t,n){this.data=t,this.contentType=n||null}}function IA(e,t){switch(e){case tn.RAW:return new Wu(sw(t));case tn.BASE64:case tn.BASE64URL:return new Wu(ow(e,t));case tn.DATA_URL:return new Wu(NA(t),AA(t))}throw vd()}function sw(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function xA(e){let t;try{t=decodeURIComponent(e)}catch{throw _s(tn.DATA_URL,"Malformed data URL.")}return sw(t)}function ow(e,t){switch(e){case tn.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw _s(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case tn.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw _s(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=CA(t)}catch(i){throw i.message.includes("polyfill")?i:_s(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class lw{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw _s(tn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=DA(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function NA(e){const t=new lw(e);return t.base64?ow(tn.BASE64,t.rest):xA(t.rest)}function AA(e){return new lw(e).contentType}function DA(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t,n){let r=0,i="";qm(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(qm(this.data_)){const r=this.data_,i=kA(r,t,n);return i===null?null:new Ln(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Ln(r,!0)}}static getBlob(...t){if(Ed()){const n=t.map(r=>r instanceof Ln?r.data_:r);return new Ln(TA.apply(null,n))}else{const n=t.map(o=>wd(o)?IA(tn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[s++]=o[l]}),new Ln(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(e){let t;try{t=JSON.parse(e)}catch{return null}return pA(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function OA(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function uw(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(e,t){return t}class ht{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||PA}}let Xo=null;function LA(e){return!wd(e)||e.length<2?e:uw(e)}function cw(){if(Xo)return Xo;const e=[];e.push(new ht("bucket")),e.push(new ht("generation")),e.push(new ht("metageneration")),e.push(new ht("name","fullPath",!0));function t(s,o){return LA(o)}const n=new ht("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new ht("size");return i.xform=r,e.push(i),e.push(new ht("timeCreated")),e.push(new ht("updated")),e.push(new ht("md5Hash",null,!0)),e.push(new ht("cacheControl",null,!0)),e.push(new ht("contentDisposition",null,!0)),e.push(new ht("contentEncoding",null,!0)),e.push(new ht("contentLanguage",null,!0)),e.push(new ht("contentType",null,!0)),e.push(new ht("metadata","customMetadata",!0)),Xo=e,Xo}function $A(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new It(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function MA(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return $A(r,e),r}function hw(e,t,n){const r=aw(t);return r===null?null:MA(e,r,n)}function FA(e,t,n,r){const i=aw(t);if(i===null||!wd(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=e.bucket,h=e.fullPath,d="/b/"+o(c)+"/o/"+o(h),y=Sd(d,n,r),v=iw({alt:"media",token:u});return y+v})[0]}function UA(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class fw{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(e){if(!e)throw vd()}function VA(e,t){function n(r,i){const s=hw(e,i,t);return dw(s!==null),s}return n}function bA(e,t){function n(r,i){const s=hw(e,i,t);return dw(s!==null),FA(s,i,e.host,e._protocol)}return n}function pw(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=ZN():i=JN():n.getStatus()===402?i=YN(e.bucket):n.getStatus()===403?i=eA(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function BA(e){const t=pw(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=XN(e.path)),s.serverResponse=i.serverResponse,s}return n}function zA(e,t,n){const r=t.fullServerUrl(),i=Sd(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,l=new fw(i,s,bA(e,n),o);return l.errorHandler=BA(t),l}function jA(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function HA(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=jA(null,t)),r}function KA(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let m="";for(let E=0;E<2;E++)m=m+Math.random().toString().slice(2);return m}const a=l();o["Content-Type"]="multipart/related; boundary="+a;const u=HA(t,r,i),c=UA(u,n),h="--"+a+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+a+`\r
Content-Type: `+u.contentType+`\r
\r
`,d=`\r
--`+a+"--",y=Ln.getBlob(h,r,d);if(y===null)throw oA();const v={name:u.fullPath},w=Sd(s,e.host,e._protocol),T="POST",p=e.maxUploadRetryTime,f=new fw(w,T,VA(e,n),p);return f.urlParams=v,f.headers=o,f.body=y.uploadData(),f.errorHandler=pw(t),f}class WA{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=kr.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=kr.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=kr.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw Zi("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zi("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zi("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Zi("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zi("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class qA extends WA{initXhr(){this.xhr_.responseType="text"}}function mw(){return new qA}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t,n){this._service=t,n instanceof It?this._location=n:this._location=It.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Pr(t,n)}get root(){const t=new It(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uw(this._location.path)}get storage(){return this._service}get parent(){const t=RA(this._location.path);if(t===null)return null;const n=new It(this._location.bucket,t);return new Pr(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw uA(t)}}function QA(e,t,n){e._throwIfRoot("uploadBytes");const r=KA(e.storage,e._location,cw(),new Ln(t,!0),n);return e.storage.makeRequestWithTokens(r,mw).then(i=>({metadata:i,ref:e}))}function GA(e){e._throwIfRoot("getDownloadURL");const t=zA(e.storage,e._location,cw());return e.storage.makeRequestWithTokens(t,mw).then(n=>{if(n===null)throw lA();return n})}function XA(e,t){const n=OA(e._location.path,t),r=new It(e._location.bucket,n);return new Pr(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(e){return/^[A-Za-z]+:\/\//.test(e)}function JA(e,t){return new Pr(e,t)}function gw(e,t){if(e instanceof _d){const n=e;if(n._bucket==null)throw sA();const r=new Pr(n,n._bucket);return t!=null?gw(r,t):r}else return t!==void 0?XA(e,t):e}function ZA(e,t){if(t&&YA(t)){if(e instanceof _d)return JA(e,t);throw Nh("To use ref(service, url), the first argument must be a Storage instance.")}else return gw(e,t)}function Gm(e,t){const n=t==null?void 0:t[nw];return n==null?null:It.makeFromBucketSpec(n,e)}function eD(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:Nv(i,e.app.options.projectId))}class _d{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=tw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=QN,this._maxUploadRetryTime=GN,this._requests=new Set,i!=null?this._bucket=It.makeFromBucketSpec(i,this._host):this._bucket=Gm(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=It.makeFromBucketSpec(this._url,t):this._bucket=Gm(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Qm("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Qm("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Pr(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new cA(rw());{const o=SA(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const Xm="@firebase/storage",Ym="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="storage";function tD(e,t,n){return e=_n(e),QA(e,t,n)}function nD(e){return e=_n(e),GA(e)}function rD(e,t){return e=_n(e),ZA(e,t)}function iD(e=Mv(),t){e=_n(e);const r=Pv(e,yw).getImmediate({identifier:t}),i=xv("storage");return i&&sD(r,...i),r}function sD(e,t,n,r={}){eD(e,t,n,r)}function oD(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new _d(n,r,i,t,Lv)}function lD(){Bs(new Ti(yw,oD,"PUBLIC").setMultipleInstances(!0)),Xn(Xm,Ym,""),Xn(Xm,Ym,"esm2017")}lD();let Yo;const aD=new Uint8Array(16);function uD(){if(!Yo&&(Yo=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Yo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Yo(aD)}const Ke=[];for(let e=0;e<256;++e)Ke.push((e+256).toString(16).slice(1));function cD(e,t=0){return(Ke[e[t+0]]+Ke[e[t+1]]+Ke[e[t+2]]+Ke[e[t+3]]+"-"+Ke[e[t+4]]+Ke[e[t+5]]+"-"+Ke[e[t+6]]+Ke[e[t+7]]+"-"+Ke[e[t+8]]+Ke[e[t+9]]+"-"+Ke[e[t+10]]+Ke[e[t+11]]+Ke[e[t+12]]+Ke[e[t+13]]+Ke[e[t+14]]+Ke[e[t+15]]).toLowerCase()}const hD=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Jm={randomUUID:hD};function fD(e,t,n){if(Jm.randomUUID&&!t&&!e)return Jm.randomUUID();e=e||{};const r=e.random||(e.rng||uD)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return cD(r)}const dD={apiKey:"AIzaSyBb4sxLE_mmT_FJxeOk-LR69MEhYGWzo2k",authDomain:"publicaciones-e7581.firebaseapp.com",projectId:"publicaciones-e7581",storageBucket:"publicaciones-e7581.appspot.com",messagingSenderId:"993791789383",appId:"1:993791789383:web:ad4e031df5aaac17d56462"},pD=$v(dD),mD=iD(pD),gD=fD(),yD=async e=>{const t=rD(mD,"publication/"+gD);return await tD(t,e),await nD(t)},vw=IN(),vD=async e=>{await HN(j1(vw,"publications"),e)},wD=L.lazy(()=>dT(()=>import("./Article-40c9bf56.js"),[]));function ED(){const[e,t]=L.useState([]);return L.useEffect(()=>{const n=j1(vw,"publications");jN(n).then(r=>{const i=r.docs.map(s=>({id:s.id,...s.data()}));t(i)})},[]),oe(L.Suspense,{fallback:oe("h1",{children:"Loading"}),children:oe("section",{className:"w-full bg-[#171426] py-10 min-h-screen text-white flex items-center justify-center",children:Kr("div",{className:"w-[1000px] max-[1100px]:w-[92%]",children:[oe("h1",{className:"text-center text-[20px] mb-5",children:"Red Social"}),oe("div",{className:"w-[700px] m-auto max-[780px]:w-full mb-5",children:oe(uT,{to:"/createPublication",children:oe("button",{className:"bg-[#2b2744] py-2 px-4 rounded-lg",children:"Crear Publicación"})})}),oe("div",{className:"w-[700px] flex flex-col gap-5 m-auto max-[780px]:w-full",children:e.length===0?oe("h1",{className:"text-center text-lg",children:"Cargando"}):e.map(n=>oe(wD,{item:n},n.id))})]})})})}var To=e=>e.type==="checkbox",si=e=>e instanceof Date,dt=e=>e==null;const ww=e=>typeof e=="object";var be=e=>!dt(e)&&!Array.isArray(e)&&ww(e)&&!si(e),SD=e=>be(e)&&e.target?To(e.target)?e.target.checked:e.target.value:e,_D=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,TD=(e,t)=>e.has(_D(t)),kD=e=>{const t=e.constructor&&e.constructor.prototype;return be(t)&&t.hasOwnProperty("isPrototypeOf")},Td=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function fr(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Td&&(e instanceof Blob||e instanceof FileList))&&(n||be(e)))if(t=n?[]:{},!Array.isArray(e)&&!kD(e))t=e;else for(const r in e)t[r]=fr(e[r]);else return e;return t}var ko=e=>Array.isArray(e)?e.filter(Boolean):[],Re=e=>e===void 0,F=(e,t,n)=>{if(!t||!be(e))return n;const r=ko(t.split(/[,[\].]+?/)).reduce((i,s)=>dt(i)?i:i[s],e);return Re(r)||r===e?Re(e[t])?n:e[t]:r};const Zm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Kt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},cn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};$n.createContext(null);var CD=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==Kt.all&&(t._proxyFormState[o]=!r||Kt.all),n&&(n[o]=!0),e[o]}});return i},Ot=e=>be(e)&&!Object.keys(e).length,ID=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return Ot(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!r||Kt.all))},qu=e=>Array.isArray(e)?e:[e];function xD(e){const t=$n.useRef(e);t.current=e,$n.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}var nn=e=>typeof e=="string",ND=(e,t,n,r,i)=>nn(e)?(r&&t.watch.add(e),F(n,e,i)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),F(n,s))):(r&&(t.watchAll=!0),n),kd=e=>/^\w*$/.test(e),Ew=e=>ko(e.replace(/["|']|\]/g,"").split(/\.|\[/));function de(e,t,n){let r=-1;const i=kd(t)?[t]:Ew(t),s=i.length,o=s-1;for(;++r<s;){const l=i[r];let a=n;if(r!==o){const u=e[l];a=be(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}e[l]=a,e=e[l]}return e}var AD=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{};const Ah=(e,t,n)=>{for(const r of n||Object.keys(e)){const i=F(e,r);if(i){const{_f:s,...o}=i;if(s&&t(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else be(o)&&Ah(o,t)}}};var eg=e=>({isOnSubmit:!e||e===Kt.onSubmit,isOnBlur:e===Kt.onBlur,isOnChange:e===Kt.onChange,isOnAll:e===Kt.all,isOnTouch:e===Kt.onTouched}),tg=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length)))),DD=(e,t,n)=>{const r=ko(F(e,n));return de(r,"root",t[n]),de(e,n,r),e},pi=e=>typeof e=="boolean",Cd=e=>e.type==="file",mi=e=>typeof e=="function",oa=e=>{if(!Td)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},pl=e=>nn(e),Id=e=>e.type==="radio",la=e=>e instanceof RegExp;const ng={value:!1,isValid:!1},rg={value:!0,isValid:!0};var Sw=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Re(e[0].attributes.value)?Re(e[0].value)||e[0].value===""?rg:{value:e[0].value,isValid:!0}:rg:ng}return ng};const ig={isValid:!1,value:null};var _w=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,ig):ig;function sg(e,t,n="validate"){if(pl(e)||Array.isArray(e)&&e.every(pl)||pi(e)&&!e)return{type:n,message:pl(e)?e:"",ref:t}}var zr=e=>be(e)&&!la(e)?e:{value:e,message:""},og=async(e,t,n,r,i)=>{const{ref:s,refs:o,required:l,maxLength:a,minLength:u,min:c,max:h,pattern:d,validate:y,name:v,valueAsNumber:w,mount:T,disabled:p}=e._f,f=F(t,v);if(!T||p)return{};const m=o?o[0]:s,E=Y=>{r&&m.reportValidity&&(m.setCustomValidity(pi(Y)?"":Y||""),m.reportValidity())},k={},D=Id(s),R=To(s),$=D||R,ne=(w||Cd(s))&&Re(s.value)&&Re(f)||oa(s)&&s.value===""||f===""||Array.isArray(f)&&!f.length,q=AD.bind(null,v,n,k),Ce=(Y,X,he,Ze=cn.maxLength,et=cn.minLength)=>{const vt=Y?X:he;k[v]={type:Y?Ze:et,message:vt,ref:s,...q(Y?Ze:et,vt)}};if(i?!Array.isArray(f)||!f.length:l&&(!$&&(ne||dt(f))||pi(f)&&!f||R&&!Sw(o).isValid||D&&!_w(o).isValid)){const{value:Y,message:X}=pl(l)?{value:!!l,message:l}:zr(l);if(Y&&(k[v]={type:cn.required,message:X,ref:m,...q(cn.required,X)},!n))return E(X),k}if(!ne&&(!dt(c)||!dt(h))){let Y,X;const he=zr(h),Ze=zr(c);if(!dt(f)&&!isNaN(f)){const et=s.valueAsNumber||f&&+f;dt(he.value)||(Y=et>he.value),dt(Ze.value)||(X=et<Ze.value)}else{const et=s.valueAsDate||new Date(f),vt=W=>new Date(new Date().toDateString()+" "+W),A=s.type=="time",j=s.type=="week";nn(he.value)&&f&&(Y=A?vt(f)>vt(he.value):j?f>he.value:et>new Date(he.value)),nn(Ze.value)&&f&&(X=A?vt(f)<vt(Ze.value):j?f<Ze.value:et<new Date(Ze.value))}if((Y||X)&&(Ce(!!Y,he.message,Ze.message,cn.max,cn.min),!n))return E(k[v].message),k}if((a||u)&&!ne&&(nn(f)||i&&Array.isArray(f))){const Y=zr(a),X=zr(u),he=!dt(Y.value)&&f.length>Y.value,Ze=!dt(X.value)&&f.length<X.value;if((he||Ze)&&(Ce(he,Y.message,X.message),!n))return E(k[v].message),k}if(d&&!ne&&nn(f)){const{value:Y,message:X}=zr(d);if(la(Y)&&!f.match(Y)&&(k[v]={type:cn.pattern,message:X,ref:s,...q(cn.pattern,X)},!n))return E(X),k}if(y){if(mi(y)){const Y=await y(f,t),X=sg(Y,m);if(X&&(k[v]={...X,...q(cn.validate,X.message)},!n))return E(X.message),k}else if(be(y)){let Y={};for(const X in y){if(!Ot(Y)&&!n)break;const he=sg(await y[X](f,t),m,X);he&&(Y={...he,...q(X,he.message)},E(he.message),n&&(k[v]=Y))}if(!Ot(Y)&&(k[v]={ref:m,...Y},!n))return k}}return E(!0),k};function RD(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Re(e)?r++:e[t[r++]];return e}function OD(e){for(const t in e)if(!Re(e[t]))return!1;return!0}function We(e,t){const n=Array.isArray(t)?t:kd(t)?[t]:Ew(t),r=n.length===1?e:RD(e,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(be(r)&&Ot(r)||Array.isArray(r)&&OD(r))&&We(e,n.slice(0,-1)),e}function Qu(){let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}}var aa=e=>dt(e)||!ww(e);function wr(e,t){if(aa(e)||aa(t))return e===t;if(si(e)&&si(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const s=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=t[i];if(si(s)&&si(o)||be(s)&&be(o)||Array.isArray(s)&&Array.isArray(o)?!wr(s,o):s!==o)return!1}}return!0}var Tw=e=>e.type==="select-multiple",PD=e=>Id(e)||To(e),Gu=e=>oa(e)&&e.isConnected,kw=e=>{for(const t in e)if(mi(e[t]))return!0;return!1};function ua(e,t={}){const n=Array.isArray(e);if(be(e)||n)for(const r in e)Array.isArray(e[r])||be(e[r])&&!kw(e[r])?(t[r]=Array.isArray(e[r])?[]:{},ua(e[r],t[r])):dt(e[r])||(t[r]=!0);return t}function Cw(e,t,n){const r=Array.isArray(e);if(be(e)||r)for(const i in e)Array.isArray(e[i])||be(e[i])&&!kw(e[i])?Re(t)||aa(n[i])?n[i]=Array.isArray(e[i])?ua(e[i],[]):{...ua(e[i])}:Cw(e[i],dt(t)?{}:t[i],n[i]):n[i]=!wr(e[i],t[i]);return n}var Xu=(e,t)=>Cw(e,t,ua(t)),Iw=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Re(e)?e:t?e===""?NaN:e&&+e:n&&nn(e)?new Date(e):r?r(e):e;function Yu(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return Cd(t)?t.files:Id(t)?_w(e.refs).value:Tw(t)?[...t.selectedOptions].map(({value:n})=>n):To(t)?Sw(e.refs).value:Iw(Re(t.value)?e.ref.value:t.value,e)}var LD=(e,t,n,r)=>{const i={};for(const s of e){const o=F(t,s);o&&de(i,s,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},es=e=>Re(e)?e:la(e)?e.source:be(e)?la(e.value)?e.value.source:e.value:e,$D=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function lg(e,t,n){const r=F(e,n);if(r||kd(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=F(t,s),l=F(e,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};i.pop()}return{name:n}}var MD=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,FD=(e,t)=>!ko(F(e,t)).length&&We(e,t);const UD={mode:Kt.onSubmit,reValidateMode:Kt.onChange,shouldFocusError:!0};function VD(e={},t){let n={...UD,...e},r={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},s=be(n.defaultValues)||be(n.values)?fr(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:fr(s),l={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Qu(),array:Qu(),state:Qu()},y=e.resetOptions&&e.resetOptions.keepDirtyValues,v=eg(n.mode),w=eg(n.reValidateMode),T=n.criteriaMode===Kt.all,p=g=>S=>{clearTimeout(c),c=setTimeout(g,S)},f=async g=>{if(h.isValid||g){const S=n.resolver?Ot((await ne()).errors):await Ce(i,!0);S!==r.isValid&&d.state.next({isValid:S})}},m=g=>h.isValidating&&d.state.next({isValidating:g}),E=(g,S=[],_,O,U=!0,N=!0)=>{if(O&&_){if(l.action=!0,N&&Array.isArray(F(i,g))){const b=_(F(i,g),O.argA,O.argB);U&&de(i,g,b)}if(N&&Array.isArray(F(r.errors,g))){const b=_(F(r.errors,g),O.argA,O.argB);U&&de(r.errors,g,b),FD(r.errors,g)}if(h.touchedFields&&N&&Array.isArray(F(r.touchedFields,g))){const b=_(F(r.touchedFields,g),O.argA,O.argB);U&&de(r.touchedFields,g,b)}h.dirtyFields&&(r.dirtyFields=Xu(s,o)),d.state.next({name:g,isDirty:X(g,S),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else de(o,g,S)},k=(g,S)=>{de(r.errors,g,S),d.state.next({errors:r.errors})},D=(g,S,_,O)=>{const U=F(i,g);if(U){const N=F(o,g,Re(_)?F(s,g):_);Re(N)||O&&O.defaultChecked||S?de(o,g,S?N:Yu(U._f)):et(g,N),l.mount&&f()}},R=(g,S,_,O,U)=>{let N=!1,b=!1;const Ne={name:g};if(!_||O){h.isDirty&&(b=r.isDirty,r.isDirty=Ne.isDirty=X(),N=b!==Ne.isDirty);const Ee=wr(F(s,g),S);b=F(r.dirtyFields,g),Ee?We(r.dirtyFields,g):de(r.dirtyFields,g,!0),Ne.dirtyFields=r.dirtyFields,N=N||h.dirtyFields&&b!==!Ee}if(_){const Ee=F(r.touchedFields,g);Ee||(de(r.touchedFields,g,_),Ne.touchedFields=r.touchedFields,N=N||h.touchedFields&&Ee!==_)}return N&&U&&d.state.next(Ne),N?Ne:{}},$=(g,S,_,O)=>{const U=F(r.errors,g),N=h.isValid&&pi(S)&&r.isValid!==S;if(e.delayError&&_?(u=p(()=>k(g,_)),u(e.delayError)):(clearTimeout(c),u=null,_?de(r.errors,g,_):We(r.errors,g)),(_?!wr(U,_):U)||!Ot(O)||N){const b={...O,...N&&pi(S)?{isValid:S}:{},errors:r.errors,name:g};r={...r,...b},d.state.next(b)}m(!1)},ne=async g=>n.resolver(o,n.context,LD(g||a.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),q=async g=>{const{errors:S}=await ne();if(g)for(const _ of g){const O=F(S,_);O?de(r.errors,_,O):We(r.errors,_)}else r.errors=S;return S},Ce=async(g,S,_={valid:!0})=>{for(const O in g){const U=g[O];if(U){const{_f:N,...b}=U;if(N){const Ne=a.array.has(N.name),Ee=await og(U,o,T,n.shouldUseNativeValidation,Ne);if(Ee[N.name]&&(_.valid=!1,S))break;!S&&(F(Ee,N.name)?Ne?DD(r.errors,Ee,N.name):de(r.errors,N.name,Ee[N.name]):We(r.errors,N.name))}b&&await Ce(b,S,_)}}return _.valid},Y=()=>{for(const g of a.unMount){const S=F(i,g);S&&(S._f.refs?S._f.refs.every(_=>!Gu(_)):!Gu(S._f.ref))&&bt(g)}a.unMount=new Set},X=(g,S)=>(g&&S&&de(o,g,S),!wr(fe(),s)),he=(g,S,_)=>ND(g,a,{...l.mount?o:Re(S)?s:nn(g)?{[g]:S}:S},_,S),Ze=g=>ko(F(l.mount?o:s,g,e.shouldUnregister?F(s,g,[]):[])),et=(g,S,_={})=>{const O=F(i,g);let U=S;if(O){const N=O._f;N&&(!N.disabled&&de(o,g,Iw(S,N)),U=oa(N.ref)&&dt(S)?"":S,Tw(N.ref)?[...N.ref.options].forEach(b=>b.selected=U.includes(b.value)):N.refs?To(N.ref)?N.refs.length>1?N.refs.forEach(b=>(!b.defaultChecked||!b.disabled)&&(b.checked=Array.isArray(U)?!!U.find(Ne=>Ne===b.value):U===b.value)):N.refs[0]&&(N.refs[0].checked=!!U):N.refs.forEach(b=>b.checked=b.value===U):Cd(N.ref)?N.ref.value="":(N.ref.value=U,N.ref.type||d.values.next({name:g,values:{...o}})))}(_.shouldDirty||_.shouldTouch)&&R(g,U,_.shouldTouch,_.shouldDirty,!0),_.shouldValidate&&W(g)},vt=(g,S,_)=>{for(const O in S){const U=S[O],N=`${g}.${O}`,b=F(i,N);(a.array.has(g)||!aa(U)||b&&!b._f)&&!si(U)?vt(N,U,_):et(N,U,_)}},A=(g,S,_={})=>{const O=F(i,g),U=a.array.has(g),N=fr(S);de(o,g,N),U?(d.array.next({name:g,values:{...o}}),(h.isDirty||h.dirtyFields)&&_.shouldDirty&&d.state.next({name:g,dirtyFields:Xu(s,o),isDirty:X(g,N)})):O&&!O._f&&!dt(N)?vt(g,N,_):et(g,N,_),tg(g,a)&&d.state.next({...r}),d.values.next({name:g,values:{...o}}),!l.mount&&t()},j=async g=>{const S=g.target;let _=S.name;const O=F(i,_),U=()=>S.type?Yu(O._f):SD(g);if(O){let N,b;const Ne=U(),Ee=g.type===Zm.BLUR||g.type===Zm.FOCUS_OUT,Rw=!$D(O._f)&&!n.resolver&&!F(r.errors,_)&&!O._f.deps||MD(Ee,F(r.touchedFields,_),r.isSubmitted,w,v),tu=tg(_,a,Ee);de(o,_,Ne),Ee?(O._f.onBlur&&O._f.onBlur(g),u&&u(0)):O._f.onChange&&O._f.onChange(g);const nu=R(_,Ne,Ee,!1),Ow=!Ot(nu)||tu;if(!Ee&&d.values.next({name:_,type:g.type,values:{...o}}),Rw)return h.isValid&&f(),Ow&&d.state.next({name:_,...tu?{}:nu});if(!Ee&&tu&&d.state.next({...r}),m(!0),n.resolver){const{errors:Dd}=await ne([_]),Pw=lg(r.errors,i,_),Rd=lg(Dd,i,Pw.name||_);N=Rd.error,_=Rd.name,b=Ot(Dd)}else N=(await og(O,o,T,n.shouldUseNativeValidation))[_],N?b=!1:h.isValid&&(b=await Ce(i,!0));O._f.deps&&W(O._f.deps),$(_,b,N,nu)}},W=async(g,S={})=>{let _,O;const U=qu(g);if(m(!0),n.resolver){const N=await q(Re(g)?g:U);_=Ot(N),O=g?!U.some(b=>F(N,b)):_}else g?(O=(await Promise.all(U.map(async N=>{const b=F(i,N);return await Ce(b&&b._f?{[N]:b}:b)}))).every(Boolean),!(!O&&!r.isValid)&&f()):O=_=await Ce(i);return d.state.next({...!nn(g)||h.isValid&&_!==r.isValid?{}:{name:g},...n.resolver||!g?{isValid:_}:{},errors:r.errors,isValidating:!1}),S.shouldFocus&&!O&&Ah(i,N=>N&&F(r.errors,N),g?U:a.mount),O},fe=g=>{const S={...s,...l.mount?o:{}};return Re(g)?S:nn(g)?F(S,g):g.map(_=>F(S,_))},Ie=(g,S)=>({invalid:!!F((S||r).errors,g),isDirty:!!F((S||r).dirtyFields,g),isTouched:!!F((S||r).touchedFields,g),error:F((S||r).errors,g)}),br=g=>{g&&qu(g).forEach(S=>We(r.errors,S)),d.state.next({errors:g?r.errors:{}})},un=(g,S,_)=>{const O=(F(i,g,{_f:{}})._f||{}).ref;de(r.errors,g,{...S,ref:O}),d.state.next({name:g,errors:r.errors,isValid:!1}),_&&_.shouldFocus&&O&&O.focus&&O.focus()},ji=(g,S)=>mi(g)?d.values.subscribe({next:_=>g(he(void 0,S),_)}):he(g,S,!0),bt=(g,S={})=>{for(const _ of g?qu(g):a.mount)a.mount.delete(_),a.array.delete(_),F(i,_)&&(S.keepValue||(We(i,_),We(o,_)),!S.keepError&&We(r.errors,_),!S.keepDirty&&We(r.dirtyFields,_),!S.keepTouched&&We(r.touchedFields,_),!n.shouldUnregister&&!S.keepDefaultValue&&We(s,_));d.values.next({values:{...o}}),d.state.next({...r,...S.keepDirty?{isDirty:X()}:{}}),!S.keepIsValid&&f()},Nn=(g,S={})=>{let _=F(i,g);const O=pi(S.disabled);return de(i,g,{..._||{},_f:{..._&&_._f?_._f:{ref:{name:g}},name:g,mount:!0,...S}}),a.mount.add(g),_?O&&de(o,g,S.disabled?void 0:F(o,g,Yu(_._f))):D(g,!0,S.value),{...O?{disabled:S.disabled}:{},...n.shouldUseNativeValidation?{required:!!S.required,min:es(S.min),max:es(S.max),minLength:es(S.minLength),maxLength:es(S.maxLength),pattern:es(S.pattern)}:{},name:g,onChange:j,onBlur:j,ref:U=>{if(U){Nn(g,S),_=F(i,g);const N=Re(U.value)&&U.querySelectorAll&&U.querySelectorAll("input,select,textarea")[0]||U,b=PD(N),Ne=_._f.refs||[];if(b?Ne.find(Ee=>Ee===N):N===_._f.ref)return;de(i,g,{_f:{..._._f,...b?{refs:[...Ne.filter(Gu),N,...Array.isArray(F(s,g))?[{}]:[]],ref:{type:N.type,name:g}}:{ref:N}}}),D(g,!1,void 0,N)}else _=F(i,g,{}),_._f&&(_._f.mount=!1),(n.shouldUnregister||S.shouldUnregister)&&!(TD(a.array,g)&&l.action)&&a.unMount.add(g)}}},xd=()=>n.shouldFocusError&&Ah(i,g=>g&&F(r.errors,g),a.mount),xw=(g,S)=>async _=>{_&&(_.preventDefault&&_.preventDefault(),_.persist&&_.persist());let O=fr(o);if(d.state.next({isSubmitting:!0}),n.resolver){const{errors:U,values:N}=await ne();r.errors=U,O=N}else await Ce(i);We(r.errors,"root"),Ot(r.errors)?(d.state.next({errors:{}}),await g(O,_)):(S&&await S({...r.errors},_),xd(),setTimeout(xd)),d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ot(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Nw=(g,S={})=>{F(i,g)&&(Re(S.defaultValue)?A(g,F(s,g)):(A(g,S.defaultValue),de(s,g,S.defaultValue)),S.keepTouched||We(r.touchedFields,g),S.keepDirty||(We(r.dirtyFields,g),r.isDirty=S.defaultValue?X(g,F(s,g)):X()),S.keepError||(We(r.errors,g),h.isValid&&f()),d.state.next({...r}))},Nd=(g,S={})=>{const _=g||s,O=fr(_),U=g&&!Ot(g)?O:s;if(S.keepDefaultValues||(s=_),!S.keepValues){if(S.keepDirtyValues||y)for(const N of a.mount)F(r.dirtyFields,N)?de(U,N,F(o,N)):A(N,F(U,N));else{if(Td&&Re(g))for(const N of a.mount){const b=F(i,N);if(b&&b._f){const Ne=Array.isArray(b._f.refs)?b._f.refs[0]:b._f.ref;if(oa(Ne)){const Ee=Ne.closest("form");if(Ee){Ee.reset();break}}}}i={}}o=e.shouldUnregister?S.keepDefaultValues?fr(s):{}:O,d.array.next({values:{...U}}),d.values.next({values:{...U}})}a={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&t(),l.mount=!h.isValid||!!S.keepIsValid,l.watch=!!e.shouldUnregister,d.state.next({submitCount:S.keepSubmitCount?r.submitCount:0,isDirty:S.keepDirty?r.isDirty:!!(S.keepDefaultValues&&!wr(g,s)),isSubmitted:S.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:S.keepDirtyValues?r.dirtyFields:S.keepDefaultValues&&g?Xu(s,g):{},touchedFields:S.keepTouched?r.touchedFields:{},errors:S.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Ad=(g,S)=>Nd(mi(g)?g(o):g,S),Aw=(g,S={})=>{const _=F(i,g),O=_&&_._f;if(O){const U=O.refs?O.refs[0]:O.ref;U.focus&&(U.focus(),S.shouldSelect&&U.select())}},Dw=g=>{r={...r,...g}};return mi(n.defaultValues)&&n.defaultValues().then(g=>{Ad(g,n.resetOptions),d.state.next({isLoading:!1})}),{control:{register:Nn,unregister:bt,getFieldState:Ie,_executeSchema:ne,_getWatch:he,_getDirty:X,_updateValid:f,_removeUnmounted:Y,_updateFieldArray:E,_getFieldArray:Ze,_reset:Nd,_updateFormState:Dw,_subjects:d,_proxyFormState:h,get _fields(){return i},get _formValues(){return o},get _state(){return l},set _state(g){l=g},get _defaultValues(){return s},get _names(){return a},set _names(g){a=g},get _formState(){return r},set _formState(g){r=g},get _options(){return n},set _options(g){n={...n,...g}}},trigger:W,register:Nn,handleSubmit:xw,watch:ji,setValue:A,getValues:fe,reset:Ad,resetField:Nw,clearErrors:br,unregister:bt,setError:un,setFocus:Aw,getFieldState:Ie}}function bD(e={}){const t=$n.useRef(),[n,r]=$n.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:mi(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...VD(e,()=>r(s=>({...s}))),formState:n});const i=t.current.control;return i._options=e,xD({subject:i._subjects.state,next:s=>{ID(s,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),$n.useEffect(()=>{e.values&&!wr(e.values,i._defaultValues)&&i._reset(e.values,i._options.resetOptions)},[e.values,i]),$n.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=CD(n,i),t.current}function BD(){var c,h,d,y;const[e,t]=L.useState(null),n=Tv(),{register:r,formState:{errors:i},handleSubmit:s,reset:o}=bD(),l=async v=>{console.log(v.target.files[0]),t(null);try{const w=await yD(v.target.files[0]);t(w)}catch(w){console.log(w),alert("Algo salió mal al subir la imagen, intente otra vez")}},a=v=>{t(null);try{vD({...v,img:e}),n("/publicaciones")}catch(w){console.log(w)}},u=()=>e===null?oe("button",{disabled:!0,className:"bg-[#272244] text-[#5e5e5f] py-2 rounded-lg",children:"Publicar"}):oe("button",{className:"bg-[#171426] py-2 rounded-lg",children:"Publicar"});return oe("section",{className:"w-full min-h-screen bg-[#171426] text-white flex items-center justify-center",children:Kr("form",{onSubmit:s(a),className:"bg-[#2d2749] rounded-md p-4 w-[500px] max-[510px]:w-[90%] flex flex-col gap-4 overflow-hidden",children:[Kr("div",{children:[oe("input",{className:"w-full outline-none bg-[#171426] py-2 px-4 rounded-lg",placeholder:"Ingrese su nombre",...r("name",{required:!0,minLength:5})}),((c=i.name)==null?void 0:c.type)==="required"&&oe("span",{className:"text-red-500",children:"Campo Requerido"}),((h=i.name)==null?void 0:h.type)==="minLength"&&oe("span",{className:"text-red-500",children:"Mínimo 5 caracteres"})]}),Kr("div",{children:[oe("textarea",{className:"w-full outline-none h-[100px] bg-[#171426] py-2 px-4 rounded-lg resize-none",placeholder:"Esccriba una breve descripción",...r("description",{required:!0,minLength:15})}),((d=i.name)==null?void 0:d.type)==="required"&&oe("span",{className:"text-red-500",children:"Campo Requerido"}),((y=i.name)==null?void 0:y.type)==="minLength"&&oe("span",{className:"text-red-500",children:"Mínimo 15 caracteres"})]}),Kr("div",{children:[oe("label",{children:"Elija imagen a publicar"}),oe("input",{onChange:l,className:"text-[14px]",type:"file"})]}),oe(u,{})]})})}function zD(){return Kr(tT,{children:[oe(Xc,{path:"/publicaciones",element:oe(ED,{})}),oe(Xc,{path:"/createPublication",element:oe(BD,{})})]})}Zu.createRoot(document.getElementById("root")).render(oe(oT,{children:oe(zD,{})}));export{$n as R,oe as a,Kr as j,L as r};
