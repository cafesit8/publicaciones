function Uw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Vw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gl={},bw={get exports(){return gl},set exports(e){gl=e}},ha={},L={},Bw={get exports(){return L},set exports(e){L=e}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var to=Symbol.for("react.element"),zw=Symbol.for("react.portal"),jw=Symbol.for("react.fragment"),Hw=Symbol.for("react.strict_mode"),Kw=Symbol.for("react.profiler"),Ww=Symbol.for("react.provider"),qw=Symbol.for("react.context"),Qw=Symbol.for("react.forward_ref"),Gw=Symbol.for("react.suspense"),Xw=Symbol.for("react.memo"),Yw=Symbol.for("react.lazy"),Ld=Symbol.iterator;function Jw(e){return e===null||typeof e!="object"?null:(e=Ld&&e[Ld]||e["@@iterator"],typeof e=="function"?e:null)}var cg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hg=Object.assign,fg={};function Pi(e,t,n){this.props=e,this.context=t,this.refs=fg,this.updater=n||cg}Pi.prototype.isReactComponent={};Pi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dg(){}dg.prototype=Pi.prototype;function Oh(e,t,n){this.props=e,this.context=t,this.refs=fg,this.updater=n||cg}var Ph=Oh.prototype=new dg;Ph.constructor=Oh;hg(Ph,Pi.prototype);Ph.isPureReactComponent=!0;var $d=Array.isArray,pg=Object.prototype.hasOwnProperty,Lh={current:null},mg={key:!0,ref:!0,__self:!0,__source:!0};function gg(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)pg.call(t,r)&&!mg.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:to,type:e,key:s,ref:o,props:i,_owner:Lh.current}}function Zw(e,t){return{$$typeof:to,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $h(e){return typeof e=="object"&&e!==null&&e.$$typeof===to}function eE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Md=/\/+/g;function su(e,t){return typeof e=="object"&&e!==null&&e.key!=null?eE(""+e.key):t.toString(36)}function Zo(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case to:case zw:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+su(o,0):r,$d(i)?(n="",e!=null&&(n=e.replace(Md,"$&/")+"/"),Zo(i,t,n,"",function(u){return u})):i!=null&&($h(i)&&(i=Zw(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Md,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",$d(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+su(s,l);o+=Zo(s,t,n,a,i)}else if(a=Jw(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+su(s,l++),o+=Zo(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function xo(e,t,n){if(e==null)return e;var r=[],i=0;return Zo(e,r,"","",function(s){return t.call(n,s,i++)}),r}function tE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yt={current:null},el={transition:null},nE={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:el,ReactCurrentOwner:Lh};ee.Children={map:xo,forEach:function(e,t,n){xo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return xo(e,function(){t++}),t},toArray:function(e){return xo(e,function(t){return t})||[]},only:function(e){if(!$h(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=Pi;ee.Fragment=jw;ee.Profiler=Kw;ee.PureComponent=Oh;ee.StrictMode=Hw;ee.Suspense=Gw;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nE;ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=hg({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Lh.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)pg.call(t,a)&&!mg.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:to,type:e.type,key:i,ref:s,props:r,_owner:o}};ee.createContext=function(e){return e={$$typeof:qw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ww,_context:e},e.Consumer=e};ee.createElement=gg;ee.createFactory=function(e){var t=gg.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:Qw,render:e}};ee.isValidElement=$h;ee.lazy=function(e){return{$$typeof:Yw,_payload:{_status:-1,_result:e},_init:tE}};ee.memo=function(e,t){return{$$typeof:Xw,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=el.transition;el.transition={};try{e()}finally{el.transition=t}};ee.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ee.useCallback=function(e,t){return yt.current.useCallback(e,t)};ee.useContext=function(e){return yt.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return yt.current.useDeferredValue(e)};ee.useEffect=function(e,t){return yt.current.useEffect(e,t)};ee.useId=function(){return yt.current.useId()};ee.useImperativeHandle=function(e,t,n){return yt.current.useImperativeHandle(e,t,n)};ee.useInsertionEffect=function(e,t){return yt.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return yt.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return yt.current.useMemo(e,t)};ee.useReducer=function(e,t,n){return yt.current.useReducer(e,t,n)};ee.useRef=function(e){return yt.current.useRef(e)};ee.useState=function(e){return yt.current.useState(e)};ee.useSyncExternalStore=function(e,t,n){return yt.current.useSyncExternalStore(e,t,n)};ee.useTransition=function(){return yt.current.useTransition()};ee.version="18.2.0";(function(e){e.exports=ee})(Bw);const pt=Vw(L),ec=Uw({__proto__:null,default:pt},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE=L,iE=Symbol.for("react.element"),sE=Symbol.for("react.fragment"),oE=Object.prototype.hasOwnProperty,lE=rE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aE={key:!0,ref:!0,__self:!0,__source:!0};function yg(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)oE.call(t,r)&&!aE.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:iE,type:e,key:s,ref:o,props:i,_owner:lE.current}}ha.Fragment=sE;ha.jsx=yg;ha.jsxs=yg;(function(e){e.exports=ha})(bw);const J=gl.jsx,Et=gl.jsxs;var tc={},nc={},uE={get exports(){return nc},set exports(e){nc=e}},Ot={},rc={},cE={get exports(){return rc},set exports(e){rc=e}},vg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,j){var W=A.length;A.push(j);e:for(;0<W;){var fe=W-1>>>1,xe=A[fe];if(0<i(xe,j))A[fe]=j,A[W]=xe,W=fe;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var j=A[0],W=A.pop();if(W!==j){A[0]=W;e:for(var fe=0,xe=A.length,zr=xe>>>1;fe<zr;){var hn=2*(fe+1)-1,Hi=A[hn],zt=hn+1,Dn=A[zt];if(0>i(Hi,W))zt<xe&&0>i(Dn,Hi)?(A[fe]=Dn,A[zt]=W,fe=zt):(A[fe]=Hi,A[hn]=W,fe=hn);else if(zt<xe&&0>i(Dn,W))A[fe]=Dn,A[zt]=W,fe=zt;else break e}}return j}function i(A,j){var W=A.sortIndex-j.sortIndex;return W!==0?W:A.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,f=null,d=3,y=!1,v=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(A){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=A)r(u),j.sortIndex=j.expirationTime,t(a,j);else break;j=n(u)}}function E(A){if(w=!1,m(A),!v)if(n(a)!==null)v=!0,et(k);else{var j=n(u);j!==null&&wt(E,j.startTime-A)}}function k(A,j){v=!1,w&&(w=!1,p($),$=-1),y=!0;var W=d;try{for(m(j),f=n(a);f!==null&&(!(f.expirationTime>j)||A&&!Ce());){var fe=f.callback;if(typeof fe=="function"){f.callback=null,d=f.priorityLevel;var xe=fe(f.expirationTime<=j);j=e.unstable_now(),typeof xe=="function"?f.callback=xe:f===n(a)&&r(a),m(j)}else r(a);f=n(a)}if(f!==null)var zr=!0;else{var hn=n(u);hn!==null&&wt(E,hn.startTime-j),zr=!1}return zr}finally{f=null,d=W,y=!1}}var D=!1,R=null,$=-1,re=5,q=-1;function Ce(){return!(e.unstable_now()-q<re)}function Y(){if(R!==null){var A=e.unstable_now();q=A;var j=!0;try{j=R(!0,A)}finally{j?X():(D=!1,R=null)}}else D=!1}var X;if(typeof h=="function")X=function(){h(Y)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,Ze=he.port2;he.port1.onmessage=Y,X=function(){Ze.postMessage(null)}}else X=function(){T(Y,0)};function et(A){R=A,D||(D=!0,X())}function wt(A,j){$=T(function(){A(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,et(k))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(A){switch(d){case 1:case 2:case 3:var j=3;break;default:j=d}var W=d;d=j;try{return A()}finally{d=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,j){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var W=d;d=A;try{return j()}finally{d=W}},e.unstable_scheduleCallback=function(A,j,W){var fe=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?fe+W:fe):W=fe,A){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=W+xe,A={id:c++,callback:j,priorityLevel:A,startTime:W,expirationTime:xe,sortIndex:-1},W>fe?(A.sortIndex=W,t(u,A),n(a)===null&&A===n(u)&&(w?(p($),$=-1):w=!0,wt(E,W-fe))):(A.sortIndex=xe,t(a,A),v||y||(v=!0,et(k))),A},e.unstable_shouldYield=Ce,e.unstable_wrapCallback=function(A){var j=d;return function(){var W=d;d=j;try{return A.apply(this,arguments)}finally{d=W}}}})(vg);(function(e){e.exports=vg})(cE);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg=L,Dt=rc;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Eg=new Set,ks={};function Mr(e,t){yi(e,t),yi(e+"Capture",t)}function yi(e,t){for(ks[e]=t,e=0;e<t.length;e++)Eg.add(t[e])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ic=Object.prototype.hasOwnProperty,hE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fd={},Ud={};function fE(e){return ic.call(Ud,e)?!0:ic.call(Fd,e)?!1:hE.test(e)?Ud[e]=!0:(Fd[e]=!0,!1)}function dE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pE(e,t,n,r){if(t===null||typeof t>"u"||dE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ye[e]=new vt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ye[t]=new vt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ye[e]=new vt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ye[e]=new vt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ye[e]=new vt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ye[e]=new vt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ye[e]=new vt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ye[e]=new vt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ye[e]=new vt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Mh=/[\-:]([a-z])/g;function Fh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Mh,Fh);Ye[t]=new vt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Mh,Fh);Ye[t]=new vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Mh,Fh);Ye[t]=new vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ye[e]=new vt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ye[e]=new vt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Uh(e,t,n,r){var i=Ye.hasOwnProperty(t)?Ye[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pE(t,n,i,r)&&(n=null),r||i===null?fE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var An=wg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Io=Symbol.for("react.element"),qr=Symbol.for("react.portal"),Qr=Symbol.for("react.fragment"),Vh=Symbol.for("react.strict_mode"),sc=Symbol.for("react.profiler"),Sg=Symbol.for("react.provider"),_g=Symbol.for("react.context"),bh=Symbol.for("react.forward_ref"),oc=Symbol.for("react.suspense"),lc=Symbol.for("react.suspense_list"),Bh=Symbol.for("react.memo"),On=Symbol.for("react.lazy"),Tg=Symbol.for("react.offscreen"),Vd=Symbol.iterator;function Ki(e){return e===null||typeof e!="object"?null:(e=Vd&&e[Vd]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,ou;function ns(e){if(ou===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ou=t&&t[1]||""}return`
`+ou+e}var lu=!1;function au(e,t){if(!e||lu)return"";lu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{lu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ns(e):""}function mE(e){switch(e.tag){case 5:return ns(e.type);case 16:return ns("Lazy");case 13:return ns("Suspense");case 19:return ns("SuspenseList");case 0:case 2:case 15:return e=au(e.type,!1),e;case 11:return e=au(e.type.render,!1),e;case 1:return e=au(e.type,!0),e;default:return""}}function ac(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qr:return"Fragment";case qr:return"Portal";case sc:return"Profiler";case Vh:return"StrictMode";case oc:return"Suspense";case lc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _g:return(e.displayName||"Context")+".Consumer";case Sg:return(e._context.displayName||"Context")+".Provider";case bh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bh:return t=e.displayName||null,t!==null?t:ac(e.type)||"Memo";case On:t=e._payload,e=e._init;try{return ac(e(t))}catch{}}return null}function gE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ac(t);case 8:return t===Vh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yE(e){var t=kg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function No(e){e._valueTracker||(e._valueTracker=yE(e))}function Cg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=kg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function yl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uc(e,t){var n=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function bd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=tr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xg(e,t){t=t.checked,t!=null&&Uh(e,"checked",t,!1)}function cc(e,t){xg(e,t);var n=tr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hc(e,t.type,n):t.hasOwnProperty("defaultValue")&&hc(e,t.type,tr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function hc(e,t,n){(t!=="number"||yl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var rs=Array.isArray;function li(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+tr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function fc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(C(92));if(rs(n)){if(1<n.length)throw Error(C(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:tr(n)}}function Ig(e,t){var n=tr(t.value),r=tr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function jd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ng(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ng(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ao,Ag=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ao=Ao||document.createElement("div"),Ao.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ao.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vE=["Webkit","ms","Moz","O"];Object.keys(us).forEach(function(e){vE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),us[t]=us[e]})});function Dg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||us.hasOwnProperty(e)&&us[e]?(""+t).trim():t+"px"}function Rg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Dg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var wE=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pc(e,t){if(t){if(wE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function mc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gc=null;function zh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yc=null,ai=null,ui=null;function Hd(e){if(e=io(e)){if(typeof yc!="function")throw Error(C(280));var t=e.stateNode;t&&(t=ga(t),yc(e.stateNode,e.type,t))}}function Og(e){ai?ui?ui.push(e):ui=[e]:ai=e}function Pg(){if(ai){var e=ai,t=ui;if(ui=ai=null,Hd(e),t)for(e=0;e<t.length;e++)Hd(t[e])}}function Lg(e,t){return e(t)}function $g(){}var uu=!1;function Mg(e,t,n){if(uu)return e(t,n);uu=!0;try{return Lg(e,t,n)}finally{uu=!1,(ai!==null||ui!==null)&&($g(),Pg())}}function xs(e,t){var n=e.stateNode;if(n===null)return null;var r=ga(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var vc=!1;if(En)try{var Wi={};Object.defineProperty(Wi,"passive",{get:function(){vc=!0}}),window.addEventListener("test",Wi,Wi),window.removeEventListener("test",Wi,Wi)}catch{vc=!1}function EE(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var cs=!1,vl=null,wl=!1,wc=null,SE={onError:function(e){cs=!0,vl=e}};function _E(e,t,n,r,i,s,o,l,a){cs=!1,vl=null,EE.apply(SE,arguments)}function TE(e,t,n,r,i,s,o,l,a){if(_E.apply(this,arguments),cs){if(cs){var u=vl;cs=!1,vl=null}else throw Error(C(198));wl||(wl=!0,wc=u)}}function Fr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Fg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kd(e){if(Fr(e)!==e)throw Error(C(188))}function kE(e){var t=e.alternate;if(!t){if(t=Fr(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Kd(i),e;if(s===r)return Kd(i),t;s=s.sibling}throw Error(C(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function Ug(e){return e=kE(e),e!==null?Vg(e):null}function Vg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Vg(e);if(t!==null)return t;e=e.sibling}return null}var bg=Dt.unstable_scheduleCallback,Wd=Dt.unstable_cancelCallback,CE=Dt.unstable_shouldYield,xE=Dt.unstable_requestPaint,Ie=Dt.unstable_now,IE=Dt.unstable_getCurrentPriorityLevel,jh=Dt.unstable_ImmediatePriority,Bg=Dt.unstable_UserBlockingPriority,El=Dt.unstable_NormalPriority,NE=Dt.unstable_LowPriority,zg=Dt.unstable_IdlePriority,fa=null,on=null;function AE(e){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(fa,e,void 0,(e.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:OE,DE=Math.log,RE=Math.LN2;function OE(e){return e>>>=0,e===0?32:31-(DE(e)/RE|0)|0}var Do=64,Ro=4194304;function is(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=is(l):(s&=o,s!==0&&(r=is(s)))}else o=n&~i,o!==0?r=is(o):s!==0&&(r=is(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Gt(t),i=1<<n,r|=e[n],t&=~i;return r}function PE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Gt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=PE(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function Ec(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jg(){var e=Do;return Do<<=1,!(Do&4194240)&&(Do=64),e}function cu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function no(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gt(t),e[t]=n}function $E(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Gt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Hh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Gt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var oe=0;function Hg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Kg,Kh,Wg,qg,Qg,Sc=!1,Oo=[],bn=null,Bn=null,zn=null,Is=new Map,Ns=new Map,Ln=[],ME="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qd(e,t){switch(e){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":Is.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ns.delete(t.pointerId)}}function qi(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=io(t),t!==null&&Kh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function FE(e,t,n,r,i){switch(t){case"focusin":return bn=qi(bn,e,t,n,r,i),!0;case"dragenter":return Bn=qi(Bn,e,t,n,r,i),!0;case"mouseover":return zn=qi(zn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Is.set(s,qi(Is.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ns.set(s,qi(Ns.get(s)||null,e,t,n,r,i)),!0}return!1}function Gg(e){var t=mr(e.target);if(t!==null){var n=Fr(t);if(n!==null){if(t=n.tag,t===13){if(t=Fg(n),t!==null){e.blockedOn=t,Qg(e.priority,function(){Wg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_c(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);gc=r,n.target.dispatchEvent(r),gc=null}else return t=io(n),t!==null&&Kh(t),e.blockedOn=n,!1;t.shift()}return!0}function Qd(e,t,n){tl(e)&&n.delete(t)}function UE(){Sc=!1,bn!==null&&tl(bn)&&(bn=null),Bn!==null&&tl(Bn)&&(Bn=null),zn!==null&&tl(zn)&&(zn=null),Is.forEach(Qd),Ns.forEach(Qd)}function Qi(e,t){e.blockedOn===t&&(e.blockedOn=null,Sc||(Sc=!0,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,UE)))}function As(e){function t(i){return Qi(i,e)}if(0<Oo.length){Qi(Oo[0],e);for(var n=1;n<Oo.length;n++){var r=Oo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(bn!==null&&Qi(bn,e),Bn!==null&&Qi(Bn,e),zn!==null&&Qi(zn,e),Is.forEach(t),Ns.forEach(t),n=0;n<Ln.length;n++)r=Ln[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ln.length&&(n=Ln[0],n.blockedOn===null);)Gg(n),n.blockedOn===null&&Ln.shift()}var ci=An.ReactCurrentBatchConfig,_l=!0;function VE(e,t,n,r){var i=oe,s=ci.transition;ci.transition=null;try{oe=1,Wh(e,t,n,r)}finally{oe=i,ci.transition=s}}function bE(e,t,n,r){var i=oe,s=ci.transition;ci.transition=null;try{oe=4,Wh(e,t,n,r)}finally{oe=i,ci.transition=s}}function Wh(e,t,n,r){if(_l){var i=_c(e,t,n,r);if(i===null)Eu(e,t,r,Tl,n),qd(e,r);else if(FE(i,e,t,n,r))r.stopPropagation();else if(qd(e,r),t&4&&-1<ME.indexOf(e)){for(;i!==null;){var s=io(i);if(s!==null&&Kg(s),s=_c(e,t,n,r),s===null&&Eu(e,t,r,Tl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Eu(e,t,r,null,n)}}var Tl=null;function _c(e,t,n,r){if(Tl=null,e=zh(r),e=mr(e),e!==null)if(t=Fr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Fg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Tl=e,null}function Xg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IE()){case jh:return 1;case Bg:return 4;case El:case NE:return 16;case zg:return 536870912;default:return 16}default:return 16}}var Fn=null,qh=null,nl=null;function Yg(){if(nl)return nl;var e,t=qh,n=t.length,r,i="value"in Fn?Fn.value:Fn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return nl=i.slice(e,1<r?1-r:void 0)}function rl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Po(){return!0}function Gd(){return!1}function Pt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Po:Gd,this.isPropagationStopped=Gd,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Po)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Po)},persist:function(){},isPersistent:Po}),t}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qh=Pt(Li),ro=we({},Li,{view:0,detail:0}),BE=Pt(ro),hu,fu,Gi,da=we({},ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gi&&(Gi&&e.type==="mousemove"?(hu=e.screenX-Gi.screenX,fu=e.screenY-Gi.screenY):fu=hu=0,Gi=e),hu)},movementY:function(e){return"movementY"in e?e.movementY:fu}}),Xd=Pt(da),zE=we({},da,{dataTransfer:0}),jE=Pt(zE),HE=we({},ro,{relatedTarget:0}),du=Pt(HE),KE=we({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),WE=Pt(KE),qE=we({},Li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),QE=Pt(qE),GE=we({},Li,{data:0}),Yd=Pt(GE),XE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=JE[e])?!!t[e]:!1}function Gh(){return ZE}var eS=we({},ro,{key:function(e){if(e.key){var t=XE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?YE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gh,charCode:function(e){return e.type==="keypress"?rl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tS=Pt(eS),nS=we({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jd=Pt(nS),rS=we({},ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gh}),iS=Pt(rS),sS=we({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),oS=Pt(sS),lS=we({},da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),aS=Pt(lS),uS=[9,13,27,32],Xh=En&&"CompositionEvent"in window,hs=null;En&&"documentMode"in document&&(hs=document.documentMode);var cS=En&&"TextEvent"in window&&!hs,Jg=En&&(!Xh||hs&&8<hs&&11>=hs),Zd=String.fromCharCode(32),ep=!1;function Zg(e,t){switch(e){case"keyup":return uS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ey(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gr=!1;function hS(e,t){switch(e){case"compositionend":return ey(t);case"keypress":return t.which!==32?null:(ep=!0,Zd);case"textInput":return e=t.data,e===Zd&&ep?null:e;default:return null}}function fS(e,t){if(Gr)return e==="compositionend"||!Xh&&Zg(e,t)?(e=Yg(),nl=qh=Fn=null,Gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jg&&t.locale!=="ko"?null:t.data;default:return null}}var dS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dS[e.type]:t==="textarea"}function ty(e,t,n,r){Og(r),t=kl(t,"onChange"),0<t.length&&(n=new Qh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var fs=null,Ds=null;function pS(e){fy(e,0)}function pa(e){var t=Jr(e);if(Cg(t))return e}function mS(e,t){if(e==="change")return t}var ny=!1;if(En){var pu;if(En){var mu="oninput"in document;if(!mu){var np=document.createElement("div");np.setAttribute("oninput","return;"),mu=typeof np.oninput=="function"}pu=mu}else pu=!1;ny=pu&&(!document.documentMode||9<document.documentMode)}function rp(){fs&&(fs.detachEvent("onpropertychange",ry),Ds=fs=null)}function ry(e){if(e.propertyName==="value"&&pa(Ds)){var t=[];ty(t,Ds,e,zh(e)),Mg(pS,t)}}function gS(e,t,n){e==="focusin"?(rp(),fs=t,Ds=n,fs.attachEvent("onpropertychange",ry)):e==="focusout"&&rp()}function yS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pa(Ds)}function vS(e,t){if(e==="click")return pa(t)}function wS(e,t){if(e==="input"||e==="change")return pa(t)}function ES(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jt=typeof Object.is=="function"?Object.is:ES;function Rs(e,t){if(Jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ic.call(t,i)||!Jt(e[i],t[i]))return!1}return!0}function ip(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sp(e,t){var n=ip(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ip(n)}}function iy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?iy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sy(){for(var e=window,t=yl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=yl(e.document)}return t}function Yh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function SS(e){var t=sy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&iy(n.ownerDocument.documentElement,n)){if(r!==null&&Yh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=sp(n,s);var o=sp(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _S=En&&"documentMode"in document&&11>=document.documentMode,Xr=null,Tc=null,ds=null,kc=!1;function op(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kc||Xr==null||Xr!==yl(r)||(r=Xr,"selectionStart"in r&&Yh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ds&&Rs(ds,r)||(ds=r,r=kl(Tc,"onSelect"),0<r.length&&(t=new Qh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xr)))}function Lo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yr={animationend:Lo("Animation","AnimationEnd"),animationiteration:Lo("Animation","AnimationIteration"),animationstart:Lo("Animation","AnimationStart"),transitionend:Lo("Transition","TransitionEnd")},gu={},oy={};En&&(oy=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function ma(e){if(gu[e])return gu[e];if(!Yr[e])return e;var t=Yr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in oy)return gu[e]=t[n];return e}var ly=ma("animationend"),ay=ma("animationiteration"),uy=ma("animationstart"),cy=ma("transitionend"),hy=new Map,lp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function or(e,t){hy.set(e,t),Mr(t,[e])}for(var yu=0;yu<lp.length;yu++){var vu=lp[yu],TS=vu.toLowerCase(),kS=vu[0].toUpperCase()+vu.slice(1);or(TS,"on"+kS)}or(ly,"onAnimationEnd");or(ay,"onAnimationIteration");or(uy,"onAnimationStart");or("dblclick","onDoubleClick");or("focusin","onFocus");or("focusout","onBlur");or(cy,"onTransitionEnd");yi("onMouseEnter",["mouseout","mouseover"]);yi("onMouseLeave",["mouseout","mouseover"]);yi("onPointerEnter",["pointerout","pointerover"]);yi("onPointerLeave",["pointerout","pointerover"]);Mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ss));function ap(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,TE(r,t,void 0,e),e.currentTarget=null}function fy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;ap(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;ap(i,l,u),s=a}}}if(wl)throw e=wc,wl=!1,wc=null,e}function ue(e,t){var n=t[Ac];n===void 0&&(n=t[Ac]=new Set);var r=e+"__bubble";n.has(r)||(dy(t,e,2,!1),n.add(r))}function wu(e,t,n){var r=0;t&&(r|=4),dy(n,e,r,t)}var $o="_reactListening"+Math.random().toString(36).slice(2);function Os(e){if(!e[$o]){e[$o]=!0,Eg.forEach(function(n){n!=="selectionchange"&&(CS.has(n)||wu(n,!1,e),wu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$o]||(t[$o]=!0,wu("selectionchange",!1,t))}}function dy(e,t,n,r){switch(Xg(t)){case 1:var i=VE;break;case 4:i=bE;break;default:i=Wh}n=i.bind(null,t,n,e),i=void 0,!vc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Eu(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=mr(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Mg(function(){var u=s,c=zh(n),f=[];e:{var d=hy.get(e);if(d!==void 0){var y=Qh,v=e;switch(e){case"keypress":if(rl(n)===0)break e;case"keydown":case"keyup":y=tS;break;case"focusin":v="focus",y=du;break;case"focusout":v="blur",y=du;break;case"beforeblur":case"afterblur":y=du;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Xd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=jE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=iS;break;case ly:case ay:case uy:y=WE;break;case cy:y=oS;break;case"scroll":y=BE;break;case"wheel":y=aS;break;case"copy":case"cut":case"paste":y=QE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Jd}var w=(t&4)!==0,T=!w&&e==="scroll",p=w?d!==null?d+"Capture":null:d;w=[];for(var h=u,m;h!==null;){m=h;var E=m.stateNode;if(m.tag===5&&E!==null&&(m=E,p!==null&&(E=xs(h,p),E!=null&&w.push(Ps(h,E,m)))),T)break;h=h.return}0<w.length&&(d=new y(d,v,null,n,c),f.push({event:d,listeners:w}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",d&&n!==gc&&(v=n.relatedTarget||n.fromElement)&&(mr(v)||v[Sn]))break e;if((y||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?mr(v):null,v!==null&&(T=Fr(v),v!==T||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(w=Xd,E="onMouseLeave",p="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(w=Jd,E="onPointerLeave",p="onPointerEnter",h="pointer"),T=y==null?d:Jr(y),m=v==null?d:Jr(v),d=new w(E,h+"leave",y,n,c),d.target=T,d.relatedTarget=m,E=null,mr(c)===u&&(w=new w(p,h+"enter",v,n,c),w.target=m,w.relatedTarget=T,E=w),T=E,y&&v)t:{for(w=y,p=v,h=0,m=w;m;m=jr(m))h++;for(m=0,E=p;E;E=jr(E))m++;for(;0<h-m;)w=jr(w),h--;for(;0<m-h;)p=jr(p),m--;for(;h--;){if(w===p||p!==null&&w===p.alternate)break t;w=jr(w),p=jr(p)}w=null}else w=null;y!==null&&up(f,d,y,w,!1),v!==null&&T!==null&&up(f,T,v,w,!0)}}e:{if(d=u?Jr(u):window,y=d.nodeName&&d.nodeName.toLowerCase(),y==="select"||y==="input"&&d.type==="file")var k=mS;else if(tp(d))if(ny)k=wS;else{k=yS;var D=gS}else(y=d.nodeName)&&y.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=vS);if(k&&(k=k(e,u))){ty(f,k,n,c);break e}D&&D(e,d,u),e==="focusout"&&(D=d._wrapperState)&&D.controlled&&d.type==="number"&&hc(d,"number",d.value)}switch(D=u?Jr(u):window,e){case"focusin":(tp(D)||D.contentEditable==="true")&&(Xr=D,Tc=u,ds=null);break;case"focusout":ds=Tc=Xr=null;break;case"mousedown":kc=!0;break;case"contextmenu":case"mouseup":case"dragend":kc=!1,op(f,n,c);break;case"selectionchange":if(_S)break;case"keydown":case"keyup":op(f,n,c)}var R;if(Xh)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else Gr?Zg(e,n)&&($="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(Jg&&n.locale!=="ko"&&(Gr||$!=="onCompositionStart"?$==="onCompositionEnd"&&Gr&&(R=Yg()):(Fn=c,qh="value"in Fn?Fn.value:Fn.textContent,Gr=!0)),D=kl(u,$),0<D.length&&($=new Yd($,e,null,n,c),f.push({event:$,listeners:D}),R?$.data=R:(R=ey(n),R!==null&&($.data=R)))),(R=cS?hS(e,n):fS(e,n))&&(u=kl(u,"onBeforeInput"),0<u.length&&(c=new Yd("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=R))}fy(f,t)})}function Ps(e,t,n){return{instance:e,listener:t,currentTarget:n}}function kl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xs(e,n),s!=null&&r.unshift(Ps(e,s,i)),s=xs(e,t),s!=null&&r.push(Ps(e,s,i))),e=e.return}return r}function jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function up(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=xs(n,s),a!=null&&o.unshift(Ps(n,a,l))):i||(a=xs(n,s),a!=null&&o.push(Ps(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var xS=/\r\n?/g,IS=/\u0000|\uFFFD/g;function cp(e){return(typeof e=="string"?e:""+e).replace(xS,`
`).replace(IS,"")}function Mo(e,t,n){if(t=cp(t),cp(e)!==t&&n)throw Error(C(425))}function Cl(){}var Cc=null,xc=null;function Ic(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nc=typeof setTimeout=="function"?setTimeout:void 0,NS=typeof clearTimeout=="function"?clearTimeout:void 0,hp=typeof Promise=="function"?Promise:void 0,AS=typeof queueMicrotask=="function"?queueMicrotask:typeof hp<"u"?function(e){return hp.resolve(null).then(e).catch(DS)}:Nc;function DS(e){setTimeout(function(){throw e})}function Su(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),As(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);As(t)}function jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var $i=Math.random().toString(36).slice(2),tn="__reactFiber$"+$i,Ls="__reactProps$"+$i,Sn="__reactContainer$"+$i,Ac="__reactEvents$"+$i,RS="__reactListeners$"+$i,OS="__reactHandles$"+$i;function mr(e){var t=e[tn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Sn]||n[tn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fp(e);e!==null;){if(n=e[tn])return n;e=fp(e)}return t}e=n,n=e.parentNode}return null}function io(e){return e=e[tn]||e[Sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function ga(e){return e[Ls]||null}var Dc=[],Zr=-1;function lr(e){return{current:e}}function ce(e){0>Zr||(e.current=Dc[Zr],Dc[Zr]=null,Zr--)}function le(e,t){Zr++,Dc[Zr]=e.current,e.current=t}var nr={},ut=lr(nr),Tt=lr(!1),Ir=nr;function vi(e,t){var n=e.type.contextTypes;if(!n)return nr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function kt(e){return e=e.childContextTypes,e!=null}function xl(){ce(Tt),ce(ut)}function dp(e,t,n){if(ut.current!==nr)throw Error(C(168));le(ut,t),le(Tt,n)}function py(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(C(108,gE(e)||"Unknown",i));return we({},n,r)}function Il(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nr,Ir=ut.current,le(ut,e),le(Tt,Tt.current),!0}function pp(e,t,n){var r=e.stateNode;if(!r)throw Error(C(169));n?(e=py(e,t,Ir),r.__reactInternalMemoizedMergedChildContext=e,ce(Tt),ce(ut),le(ut,e)):ce(Tt),le(Tt,n)}var pn=null,ya=!1,_u=!1;function my(e){pn===null?pn=[e]:pn.push(e)}function PS(e){ya=!0,my(e)}function ar(){if(!_u&&pn!==null){_u=!0;var e=0,t=oe;try{var n=pn;for(oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}pn=null,ya=!1}catch(i){throw pn!==null&&(pn=pn.slice(e+1)),bg(jh,ar),i}finally{oe=t,_u=!1}}return null}var ei=[],ti=0,Nl=null,Al=0,$t=[],Mt=0,Nr=null,mn=1,gn="";function hr(e,t){ei[ti++]=Al,ei[ti++]=Nl,Nl=e,Al=t}function gy(e,t,n){$t[Mt++]=mn,$t[Mt++]=gn,$t[Mt++]=Nr,Nr=e;var r=mn;e=gn;var i=32-Gt(r)-1;r&=~(1<<i),n+=1;var s=32-Gt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,mn=1<<32-Gt(t)+i|n<<i|r,gn=s+e}else mn=1<<s|n<<i|r,gn=e}function Jh(e){e.return!==null&&(hr(e,1),gy(e,1,0))}function Zh(e){for(;e===Nl;)Nl=ei[--ti],ei[ti]=null,Al=ei[--ti],ei[ti]=null;for(;e===Nr;)Nr=$t[--Mt],$t[Mt]=null,gn=$t[--Mt],$t[Mt]=null,mn=$t[--Mt],$t[Mt]=null}var At=null,It=null,pe=!1,Wt=null;function yy(e,t){var n=Ut(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function mp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,At=e,It=jn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,At=e,It=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Nr!==null?{id:mn,overflow:gn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ut(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,At=e,It=null,!0):!1;default:return!1}}function Rc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Oc(e){if(pe){var t=It;if(t){var n=t;if(!mp(e,t)){if(Rc(e))throw Error(C(418));t=jn(n.nextSibling);var r=At;t&&mp(e,t)?yy(r,n):(e.flags=e.flags&-4097|2,pe=!1,At=e)}}else{if(Rc(e))throw Error(C(418));e.flags=e.flags&-4097|2,pe=!1,At=e}}}function gp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;At=e}function Fo(e){if(e!==At)return!1;if(!pe)return gp(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ic(e.type,e.memoizedProps)),t&&(t=It)){if(Rc(e))throw vy(),Error(C(418));for(;t;)yy(e,t),t=jn(t.nextSibling)}if(gp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){It=jn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}It=null}}else It=At?jn(e.stateNode.nextSibling):null;return!0}function vy(){for(var e=It;e;)e=jn(e.nextSibling)}function wi(){It=At=null,pe=!1}function ef(e){Wt===null?Wt=[e]:Wt.push(e)}var LS=An.ReactCurrentBatchConfig;function Ht(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Dl=lr(null),Rl=null,ni=null,tf=null;function nf(){tf=ni=Rl=null}function rf(e){var t=Dl.current;ce(Dl),e._currentValue=t}function Pc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function hi(e,t){Rl=e,tf=ni=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_t=!0),e.firstContext=null)}function bt(e){var t=e._currentValue;if(tf!==e)if(e={context:e,memoizedValue:t,next:null},ni===null){if(Rl===null)throw Error(C(308));ni=e,Rl.dependencies={lanes:0,firstContext:e}}else ni=ni.next=e;return t}var gr=null;function sf(e){gr===null?gr=[e]:gr.push(e)}function wy(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,sf(t)):(n.next=i.next,i.next=n),t.interleaved=n,_n(e,r)}function _n(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Pn=!1;function of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ey(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,_n(e,n)}return i=r.interleaved,i===null?(t.next=t,sf(r)):(t.next=i.next,i.next=t),r.interleaved=t,_n(e,n)}function il(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hh(e,n)}}function yp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ol(e,t,n,r){var i=e.updateQueue;Pn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var f=i.baseState;o=0,c=u=a=null,l=s;do{var d=l.lane,y=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,w=l;switch(d=t,y=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){f=v.call(y,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,d=typeof v=="function"?v.call(y,f,d):v,d==null)break e;f=we({},f,d);break e;case 2:Pn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else y={eventTime:y,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=y,a=f):c=c.next=y,o|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(a=f),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Dr|=o,e.lanes=o,e.memoizedState=f}}function vp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(C(191,i));i.call(r)}}}var Sy=new wg.Component().refs;function Lc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:we({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var va={isMounted:function(e){return(e=e._reactInternals)?Fr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=gt(),i=Wn(e),s=vn(r,i);s.payload=t,n!=null&&(s.callback=n),t=Hn(e,s,i),t!==null&&(Xt(t,e,i,r),il(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=gt(),i=Wn(e),s=vn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Hn(e,s,i),t!==null&&(Xt(t,e,i,r),il(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gt(),r=Wn(e),i=vn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Hn(e,i,r),t!==null&&(Xt(t,e,r,n),il(t,e,r))}};function wp(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Rs(n,r)||!Rs(i,s):!0}function _y(e,t,n){var r=!1,i=nr,s=t.contextType;return typeof s=="object"&&s!==null?s=bt(s):(i=kt(t)?Ir:ut.current,r=t.contextTypes,s=(r=r!=null)?vi(e,i):nr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=va,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ep(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&va.enqueueReplaceState(t,t.state,null)}function $c(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Sy,of(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=bt(s):(s=kt(t)?Ir:ut.current,i.context=vi(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Lc(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&va.enqueueReplaceState(i,i.state,null),Ol(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Xi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;l===Sy&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,e))}return e}function Uo(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sp(e){var t=e._init;return t(e._payload)}function Ty(e){function t(p,h){if(e){var m=p.deletions;m===null?(p.deletions=[h],p.flags|=16):m.push(h)}}function n(p,h){if(!e)return null;for(;h!==null;)t(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function i(p,h){return p=qn(p,h),p.index=0,p.sibling=null,p}function s(p,h,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<h?(p.flags|=2,h):m):(p.flags|=2,h)):(p.flags|=1048576,h)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,h,m,E){return h===null||h.tag!==6?(h=Au(m,p.mode,E),h.return=p,h):(h=i(h,m),h.return=p,h)}function a(p,h,m,E){var k=m.type;return k===Qr?c(p,h,m.props.children,E,m.key):h!==null&&(h.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===On&&Sp(k)===h.type)?(E=i(h,m.props),E.ref=Xi(p,h,m),E.return=p,E):(E=cl(m.type,m.key,m.props,null,p.mode,E),E.ref=Xi(p,h,m),E.return=p,E)}function u(p,h,m,E){return h===null||h.tag!==4||h.stateNode.containerInfo!==m.containerInfo||h.stateNode.implementation!==m.implementation?(h=Du(m,p.mode,E),h.return=p,h):(h=i(h,m.children||[]),h.return=p,h)}function c(p,h,m,E,k){return h===null||h.tag!==7?(h=Tr(m,p.mode,E,k),h.return=p,h):(h=i(h,m),h.return=p,h)}function f(p,h,m){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Au(""+h,p.mode,m),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Io:return m=cl(h.type,h.key,h.props,null,p.mode,m),m.ref=Xi(p,null,h),m.return=p,m;case qr:return h=Du(h,p.mode,m),h.return=p,h;case On:var E=h._init;return f(p,E(h._payload),m)}if(rs(h)||Ki(h))return h=Tr(h,p.mode,m,null),h.return=p,h;Uo(p,h)}return null}function d(p,h,m,E){var k=h!==null?h.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:l(p,h,""+m,E);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Io:return m.key===k?a(p,h,m,E):null;case qr:return m.key===k?u(p,h,m,E):null;case On:return k=m._init,d(p,h,k(m._payload),E)}if(rs(m)||Ki(m))return k!==null?null:c(p,h,m,E,null);Uo(p,m)}return null}function y(p,h,m,E,k){if(typeof E=="string"&&E!==""||typeof E=="number")return p=p.get(m)||null,l(h,p,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Io:return p=p.get(E.key===null?m:E.key)||null,a(h,p,E,k);case qr:return p=p.get(E.key===null?m:E.key)||null,u(h,p,E,k);case On:var D=E._init;return y(p,h,m,D(E._payload),k)}if(rs(E)||Ki(E))return p=p.get(m)||null,c(h,p,E,k,null);Uo(h,E)}return null}function v(p,h,m,E){for(var k=null,D=null,R=h,$=h=0,re=null;R!==null&&$<m.length;$++){R.index>$?(re=R,R=null):re=R.sibling;var q=d(p,R,m[$],E);if(q===null){R===null&&(R=re);break}e&&R&&q.alternate===null&&t(p,R),h=s(q,h,$),D===null?k=q:D.sibling=q,D=q,R=re}if($===m.length)return n(p,R),pe&&hr(p,$),k;if(R===null){for(;$<m.length;$++)R=f(p,m[$],E),R!==null&&(h=s(R,h,$),D===null?k=R:D.sibling=R,D=R);return pe&&hr(p,$),k}for(R=r(p,R);$<m.length;$++)re=y(R,p,$,m[$],E),re!==null&&(e&&re.alternate!==null&&R.delete(re.key===null?$:re.key),h=s(re,h,$),D===null?k=re:D.sibling=re,D=re);return e&&R.forEach(function(Ce){return t(p,Ce)}),pe&&hr(p,$),k}function w(p,h,m,E){var k=Ki(m);if(typeof k!="function")throw Error(C(150));if(m=k.call(m),m==null)throw Error(C(151));for(var D=k=null,R=h,$=h=0,re=null,q=m.next();R!==null&&!q.done;$++,q=m.next()){R.index>$?(re=R,R=null):re=R.sibling;var Ce=d(p,R,q.value,E);if(Ce===null){R===null&&(R=re);break}e&&R&&Ce.alternate===null&&t(p,R),h=s(Ce,h,$),D===null?k=Ce:D.sibling=Ce,D=Ce,R=re}if(q.done)return n(p,R),pe&&hr(p,$),k;if(R===null){for(;!q.done;$++,q=m.next())q=f(p,q.value,E),q!==null&&(h=s(q,h,$),D===null?k=q:D.sibling=q,D=q);return pe&&hr(p,$),k}for(R=r(p,R);!q.done;$++,q=m.next())q=y(R,p,$,q.value,E),q!==null&&(e&&q.alternate!==null&&R.delete(q.key===null?$:q.key),h=s(q,h,$),D===null?k=q:D.sibling=q,D=q);return e&&R.forEach(function(Y){return t(p,Y)}),pe&&hr(p,$),k}function T(p,h,m,E){if(typeof m=="object"&&m!==null&&m.type===Qr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Io:e:{for(var k=m.key,D=h;D!==null;){if(D.key===k){if(k=m.type,k===Qr){if(D.tag===7){n(p,D.sibling),h=i(D,m.props.children),h.return=p,p=h;break e}}else if(D.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===On&&Sp(k)===D.type){n(p,D.sibling),h=i(D,m.props),h.ref=Xi(p,D,m),h.return=p,p=h;break e}n(p,D);break}else t(p,D);D=D.sibling}m.type===Qr?(h=Tr(m.props.children,p.mode,E,m.key),h.return=p,p=h):(E=cl(m.type,m.key,m.props,null,p.mode,E),E.ref=Xi(p,h,m),E.return=p,p=E)}return o(p);case qr:e:{for(D=m.key;h!==null;){if(h.key===D)if(h.tag===4&&h.stateNode.containerInfo===m.containerInfo&&h.stateNode.implementation===m.implementation){n(p,h.sibling),h=i(h,m.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else t(p,h);h=h.sibling}h=Du(m,p.mode,E),h.return=p,p=h}return o(p);case On:return D=m._init,T(p,h,D(m._payload),E)}if(rs(m))return v(p,h,m,E);if(Ki(m))return w(p,h,m,E);Uo(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,h!==null&&h.tag===6?(n(p,h.sibling),h=i(h,m),h.return=p,p=h):(n(p,h),h=Au(m,p.mode,E),h.return=p,p=h),o(p)):n(p,h)}return T}var Ei=Ty(!0),ky=Ty(!1),so={},ln=lr(so),$s=lr(so),Ms=lr(so);function yr(e){if(e===so)throw Error(C(174));return e}function lf(e,t){switch(le(Ms,t),le($s,e),le(ln,so),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dc(t,e)}ce(ln),le(ln,t)}function Si(){ce(ln),ce($s),ce(Ms)}function Cy(e){yr(Ms.current);var t=yr(ln.current),n=dc(t,e.type);t!==n&&(le($s,e),le(ln,n))}function af(e){$s.current===e&&(ce(ln),ce($s))}var ye=lr(0);function Pl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tu=[];function uf(){for(var e=0;e<Tu.length;e++)Tu[e]._workInProgressVersionPrimary=null;Tu.length=0}var sl=An.ReactCurrentDispatcher,ku=An.ReactCurrentBatchConfig,Ar=0,ve=null,Pe=null,ze=null,Ll=!1,ps=!1,Fs=0,$S=0;function tt(){throw Error(C(321))}function cf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jt(e[n],t[n]))return!1;return!0}function hf(e,t,n,r,i,s){if(Ar=s,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sl.current=e===null||e.memoizedState===null?VS:bS,e=n(r,i),ps){s=0;do{if(ps=!1,Fs=0,25<=s)throw Error(C(301));s+=1,ze=Pe=null,t.updateQueue=null,sl.current=BS,e=n(r,i)}while(ps)}if(sl.current=$l,t=Pe!==null&&Pe.next!==null,Ar=0,ze=Pe=ve=null,Ll=!1,t)throw Error(C(300));return e}function ff(){var e=Fs!==0;return Fs=0,e}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?ve.memoizedState=ze=e:ze=ze.next=e,ze}function Bt(){if(Pe===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=ze===null?ve.memoizedState:ze.next;if(t!==null)ze=t,Pe=e;else{if(e===null)throw Error(C(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},ze===null?ve.memoizedState=ze=e:ze=ze.next=e}return ze}function Us(e,t){return typeof t=="function"?t(e):t}function Cu(e){var t=Bt(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=Pe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((Ar&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,o=r):a=a.next=f,ve.lanes|=c,Dr|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,Jt(r,t.memoizedState)||(_t=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ve.lanes|=s,Dr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xu(e){var t=Bt(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Jt(s,t.memoizedState)||(_t=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function xy(){}function Iy(e,t){var n=ve,r=Bt(),i=t(),s=!Jt(r.memoizedState,i);if(s&&(r.memoizedState=i,_t=!0),r=r.queue,df(Dy.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ze!==null&&ze.memoizedState.tag&1){if(n.flags|=2048,Vs(9,Ay.bind(null,n,r,i,t),void 0,null),je===null)throw Error(C(349));Ar&30||Ny(n,t,i)}return i}function Ny(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ay(e,t,n,r){t.value=n,t.getSnapshot=r,Ry(t)&&Oy(e)}function Dy(e,t,n){return n(function(){Ry(t)&&Oy(e)})}function Ry(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jt(e,n)}catch{return!0}}function Oy(e){var t=_n(e,1);t!==null&&Xt(t,e,1,-1)}function _p(e){var t=en();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:e},t.queue=e,e=e.dispatch=US.bind(null,ve,e),[t.memoizedState,e]}function Vs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Py(){return Bt().memoizedState}function ol(e,t,n,r){var i=en();ve.flags|=e,i.memoizedState=Vs(1|t,n,void 0,r===void 0?null:r)}function wa(e,t,n,r){var i=Bt();r=r===void 0?null:r;var s=void 0;if(Pe!==null){var o=Pe.memoizedState;if(s=o.destroy,r!==null&&cf(r,o.deps)){i.memoizedState=Vs(t,n,s,r);return}}ve.flags|=e,i.memoizedState=Vs(1|t,n,s,r)}function Tp(e,t){return ol(8390656,8,e,t)}function df(e,t){return wa(2048,8,e,t)}function Ly(e,t){return wa(4,2,e,t)}function $y(e,t){return wa(4,4,e,t)}function My(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fy(e,t,n){return n=n!=null?n.concat([e]):null,wa(4,4,My.bind(null,t,e),n)}function pf(){}function Uy(e,t){var n=Bt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vy(e,t){var n=Bt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function by(e,t,n){return Ar&21?(Jt(n,t)||(n=jg(),ve.lanes|=n,Dr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_t=!0),e.memoizedState=n)}function MS(e,t){var n=oe;oe=n!==0&&4>n?n:4,e(!0);var r=ku.transition;ku.transition={};try{e(!1),t()}finally{oe=n,ku.transition=r}}function By(){return Bt().memoizedState}function FS(e,t,n){var r=Wn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zy(e))jy(t,n);else if(n=wy(e,t,n,r),n!==null){var i=gt();Xt(n,e,r,i),Hy(n,t,r)}}function US(e,t,n){var r=Wn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zy(e))jy(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Jt(l,o)){var a=t.interleaved;a===null?(i.next=i,sf(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=wy(e,t,i,r),n!==null&&(i=gt(),Xt(n,e,r,i),Hy(n,t,r))}}function zy(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function jy(e,t){ps=Ll=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hh(e,n)}}var $l={readContext:bt,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},VS={readContext:bt,useCallback:function(e,t){return en().memoizedState=[e,t===void 0?null:t],e},useContext:bt,useEffect:Tp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ol(4194308,4,My.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ol(4194308,4,e,t)},useInsertionEffect:function(e,t){return ol(4,2,e,t)},useMemo:function(e,t){var n=en();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=en();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=FS.bind(null,ve,e),[r.memoizedState,e]},useRef:function(e){var t=en();return e={current:e},t.memoizedState=e},useState:_p,useDebugValue:pf,useDeferredValue:function(e){return en().memoizedState=e},useTransition:function(){var e=_p(!1),t=e[0];return e=MS.bind(null,e[1]),en().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ve,i=en();if(pe){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),je===null)throw Error(C(349));Ar&30||Ny(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Tp(Dy.bind(null,r,s,e),[e]),r.flags|=2048,Vs(9,Ay.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=en(),t=je.identifierPrefix;if(pe){var n=gn,r=mn;n=(r&~(1<<32-Gt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Fs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=$S++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bS={readContext:bt,useCallback:Uy,useContext:bt,useEffect:df,useImperativeHandle:Fy,useInsertionEffect:Ly,useLayoutEffect:$y,useMemo:Vy,useReducer:Cu,useRef:Py,useState:function(){return Cu(Us)},useDebugValue:pf,useDeferredValue:function(e){var t=Bt();return by(t,Pe.memoizedState,e)},useTransition:function(){var e=Cu(Us)[0],t=Bt().memoizedState;return[e,t]},useMutableSource:xy,useSyncExternalStore:Iy,useId:By,unstable_isNewReconciler:!1},BS={readContext:bt,useCallback:Uy,useContext:bt,useEffect:df,useImperativeHandle:Fy,useInsertionEffect:Ly,useLayoutEffect:$y,useMemo:Vy,useReducer:xu,useRef:Py,useState:function(){return xu(Us)},useDebugValue:pf,useDeferredValue:function(e){var t=Bt();return Pe===null?t.memoizedState=e:by(t,Pe.memoizedState,e)},useTransition:function(){var e=xu(Us)[0],t=Bt().memoizedState;return[e,t]},useMutableSource:xy,useSyncExternalStore:Iy,useId:By,unstable_isNewReconciler:!1};function _i(e,t){try{var n="",r=t;do n+=mE(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Iu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Mc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var zS=typeof WeakMap=="function"?WeakMap:Map;function Ky(e,t,n){n=vn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fl||(Fl=!0,Wc=r),Mc(e,t)},n}function Wy(e,t,n){n=vn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Mc(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Mc(e,t),typeof r!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function kp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new zS;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=n_.bind(null,e,t,n),t.then(e,e))}function Cp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xp(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=vn(-1,1),t.tag=2,Hn(n,t,1))),n.lanes|=1),e)}var jS=An.ReactCurrentOwner,_t=!1;function ft(e,t,n,r){t.child=e===null?ky(t,null,n,r):Ei(t,e.child,n,r)}function Ip(e,t,n,r,i){n=n.render;var s=t.ref;return hi(t,i),r=hf(e,t,n,r,s,i),n=ff(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Tn(e,t,i)):(pe&&n&&Jh(t),t.flags|=1,ft(e,t,r,i),t.child)}function Np(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!_f(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,qy(e,t,s,r,i)):(e=cl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Rs,n(o,r)&&e.ref===t.ref)return Tn(e,t,i)}return t.flags|=1,e=qn(s,r),e.ref=t.ref,e.return=t,t.child=e}function qy(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Rs(s,r)&&e.ref===t.ref)if(_t=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(_t=!0);else return t.lanes=e.lanes,Tn(e,t,i)}return Fc(e,t,n,r,i)}function Qy(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(ii,xt),xt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(ii,xt),xt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,le(ii,xt),xt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,le(ii,xt),xt|=r;return ft(e,t,i,n),t.child}function Gy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Fc(e,t,n,r,i){var s=kt(n)?Ir:ut.current;return s=vi(t,s),hi(t,i),n=hf(e,t,n,r,s,i),r=ff(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Tn(e,t,i)):(pe&&r&&Jh(t),t.flags|=1,ft(e,t,n,i),t.child)}function Ap(e,t,n,r,i){if(kt(n)){var s=!0;Il(t)}else s=!1;if(hi(t,i),t.stateNode===null)ll(e,t),_y(t,n,r),$c(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=bt(u):(u=kt(n)?Ir:ut.current,u=vi(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Ep(t,o,r,u),Pn=!1;var d=t.memoizedState;o.state=d,Ol(t,r,o,i),a=t.memoizedState,l!==r||d!==a||Tt.current||Pn?(typeof c=="function"&&(Lc(t,n,c,r),a=t.memoizedState),(l=Pn||wp(t,n,l,r,d,a,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ey(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ht(t.type,l),o.props=u,f=t.pendingProps,d=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=bt(a):(a=kt(n)?Ir:ut.current,a=vi(t,a));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||d!==a)&&Ep(t,o,r,a),Pn=!1,d=t.memoizedState,o.state=d,Ol(t,r,o,i);var v=t.memoizedState;l!==f||d!==v||Tt.current||Pn?(typeof y=="function"&&(Lc(t,n,y,r),v=t.memoizedState),(u=Pn||wp(t,n,u,r,d,v,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Uc(e,t,n,r,s,i)}function Uc(e,t,n,r,i,s){Gy(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&pp(t,n,!1),Tn(e,t,s);r=t.stateNode,jS.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ei(t,e.child,null,s),t.child=Ei(t,null,l,s)):ft(e,t,l,s),t.memoizedState=r.state,i&&pp(t,n,!0),t.child}function Xy(e){var t=e.stateNode;t.pendingContext?dp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dp(e,t.context,!1),lf(e,t.containerInfo)}function Dp(e,t,n,r,i){return wi(),ef(i),t.flags|=256,ft(e,t,n,r),t.child}var Vc={dehydrated:null,treeContext:null,retryLane:0};function bc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Yy(e,t,n){var r=t.pendingProps,i=ye.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),le(ye,i&1),e===null)return Oc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=_a(o,r,0,null),e=Tr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=bc(n),t.memoizedState=Vc,e):mf(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return HS(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=qn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=qn(l,s):(s=Tr(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?bc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Vc,r}return s=e.child,e=s.sibling,r=qn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function mf(e,t){return t=_a({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vo(e,t,n,r){return r!==null&&ef(r),Ei(t,e.child,null,n),e=mf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function HS(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Iu(Error(C(422))),Vo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=_a({mode:"visible",children:r.children},i,0,null),s=Tr(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ei(t,e.child,null,o),t.child.memoizedState=bc(o),t.memoizedState=Vc,s);if(!(t.mode&1))return Vo(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(C(419)),r=Iu(s,r,void 0),Vo(e,t,o,r)}if(l=(o&e.childLanes)!==0,_t||l){if(r=je,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,_n(e,i),Xt(r,e,i,-1))}return Sf(),r=Iu(Error(C(421))),Vo(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=r_.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,It=jn(i.nextSibling),At=t,pe=!0,Wt=null,e!==null&&($t[Mt++]=mn,$t[Mt++]=gn,$t[Mt++]=Nr,mn=e.id,gn=e.overflow,Nr=t),t=mf(t,r.children),t.flags|=4096,t)}function Rp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Pc(e.return,t,n)}function Nu(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Jy(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ft(e,t,r.children,n),r=ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rp(e,n,t);else if(e.tag===19)Rp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(le(ye,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Pl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Nu(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Pl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Nu(t,!0,n,null,s);break;case"together":Nu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ll(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Dr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=qn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=qn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function KS(e,t,n){switch(t.tag){case 3:Xy(t),wi();break;case 5:Cy(t);break;case 1:kt(t.type)&&Il(t);break;case 4:lf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;le(Dl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(le(ye,ye.current&1),t.flags|=128,null):n&t.child.childLanes?Yy(e,t,n):(le(ye,ye.current&1),e=Tn(e,t,n),e!==null?e.sibling:null);le(ye,ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Jy(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),le(ye,ye.current),r)break;return null;case 22:case 23:return t.lanes=0,Qy(e,t,n)}return Tn(e,t,n)}var Zy,Bc,ev,tv;Zy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bc=function(){};ev=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,yr(ln.current);var s=null;switch(n){case"input":i=uc(e,i),r=uc(e,r),s=[];break;case"select":i=we({},i,{value:void 0}),r=we({},r,{value:void 0}),s=[];break;case"textarea":i=fc(e,i),r=fc(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Cl)}pc(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ks.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ks.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ue("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};tv=function(e,t,n,r){n!==r&&(t.flags|=4)};function Yi(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function WS(e,t,n){var r=t.pendingProps;switch(Zh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return kt(t.type)&&xl(),nt(t),null;case 3:return r=t.stateNode,Si(),ce(Tt),ce(ut),uf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Fo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wt!==null&&(Gc(Wt),Wt=null))),Bc(e,t),nt(t),null;case 5:af(t);var i=yr(Ms.current);if(n=t.type,e!==null&&t.stateNode!=null)ev(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(C(166));return nt(t),null}if(e=yr(ln.current),Fo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[tn]=t,r[Ls]=s,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(i=0;i<ss.length;i++)ue(ss[i],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":bd(r,s),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ue("invalid",r);break;case"textarea":zd(r,s),ue("invalid",r)}pc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Mo(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Mo(r.textContent,l,e),i=["children",""+l]):ks.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ue("scroll",r)}switch(n){case"input":No(r),Bd(r,s,!0);break;case"textarea":No(r),jd(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Cl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ng(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[tn]=t,e[Ls]=r,Zy(e,t,!1,!1),t.stateNode=e;e:{switch(o=mc(n,r),n){case"dialog":ue("cancel",e),ue("close",e),i=r;break;case"iframe":case"object":case"embed":ue("load",e),i=r;break;case"video":case"audio":for(i=0;i<ss.length;i++)ue(ss[i],e);i=r;break;case"source":ue("error",e),i=r;break;case"img":case"image":case"link":ue("error",e),ue("load",e),i=r;break;case"details":ue("toggle",e),i=r;break;case"input":bd(e,r),i=uc(e,r),ue("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=we({},r,{value:void 0}),ue("invalid",e);break;case"textarea":zd(e,r),i=fc(e,r),ue("invalid",e);break;default:i=r}pc(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Rg(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Ag(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Cs(e,a):typeof a=="number"&&Cs(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ks.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ue("scroll",e):a!=null&&Uh(e,s,a,o))}switch(n){case"input":No(e),Bd(e,r,!1);break;case"textarea":No(e),jd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+tr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?li(e,!!r.multiple,s,!1):r.defaultValue!=null&&li(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Cl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nt(t),null;case 6:if(e&&t.stateNode!=null)tv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(C(166));if(n=yr(Ms.current),yr(ln.current),Fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[tn]=t,(s=r.nodeValue!==n)&&(e=At,e!==null))switch(e.tag){case 3:Mo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mo(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tn]=t,t.stateNode=r}return nt(t),null;case 13:if(ce(ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&It!==null&&t.mode&1&&!(t.flags&128))vy(),wi(),t.flags|=98560,s=!1;else if(s=Fo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(C(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(C(317));s[tn]=t}else wi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nt(t),s=!1}else Wt!==null&&(Gc(Wt),Wt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ye.current&1?$e===0&&($e=3):Sf())),t.updateQueue!==null&&(t.flags|=4),nt(t),null);case 4:return Si(),Bc(e,t),e===null&&Os(t.stateNode.containerInfo),nt(t),null;case 10:return rf(t.type._context),nt(t),null;case 17:return kt(t.type)&&xl(),nt(t),null;case 19:if(ce(ye),s=t.memoizedState,s===null)return nt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Yi(s,!1);else{if($e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Pl(e),o!==null){for(t.flags|=128,Yi(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return le(ye,ye.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ie()>Ti&&(t.flags|=128,r=!0,Yi(s,!1),t.lanes=4194304)}else{if(!r)if(e=Pl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Yi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pe)return nt(t),null}else 2*Ie()-s.renderingStartTime>Ti&&n!==1073741824&&(t.flags|=128,r=!0,Yi(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ie(),t.sibling=null,n=ye.current,le(ye,r?n&1|2:n&1),t):(nt(t),null);case 22:case 23:return Ef(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?xt&1073741824&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function qS(e,t){switch(Zh(t),t.tag){case 1:return kt(t.type)&&xl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Si(),ce(Tt),ce(ut),uf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return af(t),null;case 13:if(ce(ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));wi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(ye),null;case 4:return Si(),null;case 10:return rf(t.type._context),null;case 22:case 23:return Ef(),null;case 24:return null;default:return null}}var bo=!1,it=!1,QS=typeof WeakSet=="function"?WeakSet:Set,P=null;function ri(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(e,t,r)}else n.current=null}function zc(e,t,n){try{n()}catch(r){Se(e,t,r)}}var Op=!1;function GS(e,t){if(Cc=_l,e=sy(),Yh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var y;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(a=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)d=f,f=y;for(;;){if(f===e)break t;if(d===n&&++u===i&&(l=o),d===s&&++c===r&&(a=o),(y=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(xc={focusedElem:e,selectionRange:n},_l=!1,P=t;P!==null;)if(t=P,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,P=e;else for(;P!==null;){t=P;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,T=v.memoizedState,p=t.stateNode,h=p.getSnapshotBeforeUpdate(t.elementType===t.type?w:Ht(t.type,w),T);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(E){Se(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,P=e;break}P=t.return}return v=Op,Op=!1,v}function ms(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&zc(t,n,s)}i=i.next}while(i!==r)}}function Ea(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function jc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function nv(e){var t=e.alternate;t!==null&&(e.alternate=null,nv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tn],delete t[Ls],delete t[Ac],delete t[RS],delete t[OS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rv(e){return e.tag===5||e.tag===3||e.tag===4}function Pp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Cl));else if(r!==4&&(e=e.child,e!==null))for(Hc(e,t,n),e=e.sibling;e!==null;)Hc(e,t,n),e=e.sibling}function Kc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Kc(e,t,n),e=e.sibling;e!==null;)Kc(e,t,n),e=e.sibling}var qe=null,Kt=!1;function Rn(e,t,n){for(n=n.child;n!==null;)iv(e,t,n),n=n.sibling}function iv(e,t,n){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(fa,n)}catch{}switch(n.tag){case 5:it||ri(n,t);case 6:var r=qe,i=Kt;qe=null,Rn(e,t,n),qe=r,Kt=i,qe!==null&&(Kt?(e=qe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):qe.removeChild(n.stateNode));break;case 18:qe!==null&&(Kt?(e=qe,n=n.stateNode,e.nodeType===8?Su(e.parentNode,n):e.nodeType===1&&Su(e,n),As(e)):Su(qe,n.stateNode));break;case 4:r=qe,i=Kt,qe=n.stateNode.containerInfo,Kt=!0,Rn(e,t,n),qe=r,Kt=i;break;case 0:case 11:case 14:case 15:if(!it&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&zc(n,t,o),i=i.next}while(i!==r)}Rn(e,t,n);break;case 1:if(!it&&(ri(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Se(n,t,l)}Rn(e,t,n);break;case 21:Rn(e,t,n);break;case 22:n.mode&1?(it=(r=it)||n.memoizedState!==null,Rn(e,t,n),it=r):Rn(e,t,n);break;default:Rn(e,t,n)}}function Lp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new QS),t.forEach(function(r){var i=i_.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function jt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:qe=l.stateNode,Kt=!1;break e;case 3:qe=l.stateNode.containerInfo,Kt=!0;break e;case 4:qe=l.stateNode.containerInfo,Kt=!0;break e}l=l.return}if(qe===null)throw Error(C(160));iv(s,o,i),qe=null,Kt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Se(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sv(t,e),t=t.sibling}function sv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jt(t,e),Zt(e),r&4){try{ms(3,e,e.return),Ea(3,e)}catch(w){Se(e,e.return,w)}try{ms(5,e,e.return)}catch(w){Se(e,e.return,w)}}break;case 1:jt(t,e),Zt(e),r&512&&n!==null&&ri(n,n.return);break;case 5:if(jt(t,e),Zt(e),r&512&&n!==null&&ri(n,n.return),e.flags&32){var i=e.stateNode;try{Cs(i,"")}catch(w){Se(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&xg(i,s),mc(l,o);var u=mc(l,s);for(o=0;o<a.length;o+=2){var c=a[o],f=a[o+1];c==="style"?Rg(i,f):c==="dangerouslySetInnerHTML"?Ag(i,f):c==="children"?Cs(i,f):Uh(i,c,f,u)}switch(l){case"input":cc(i,s);break;case"textarea":Ig(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?li(i,!!s.multiple,y,!1):d!==!!s.multiple&&(s.defaultValue!=null?li(i,!!s.multiple,s.defaultValue,!0):li(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ls]=s}catch(w){Se(e,e.return,w)}}break;case 6:if(jt(t,e),Zt(e),r&4){if(e.stateNode===null)throw Error(C(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(w){Se(e,e.return,w)}}break;case 3:if(jt(t,e),Zt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{As(t.containerInfo)}catch(w){Se(e,e.return,w)}break;case 4:jt(t,e),Zt(e);break;case 13:jt(t,e),Zt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(vf=Ie())),r&4&&Lp(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(it=(u=it)||c,jt(t,e),it=u):jt(t,e),Zt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(P=e,c=e.child;c!==null;){for(f=P=c;P!==null;){switch(d=P,y=d.child,d.tag){case 0:case 11:case 14:case 15:ms(4,d,d.return);break;case 1:ri(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){Se(r,n,w)}}break;case 5:ri(d,d.return);break;case 22:if(d.memoizedState!==null){Mp(f);continue}}y!==null?(y.return=d,P=y):Mp(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,a=f.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Dg("display",o))}catch(w){Se(e,e.return,w)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){Se(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:jt(t,e),Zt(e),r&4&&Lp(e);break;case 21:break;default:jt(t,e),Zt(e)}}function Zt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(rv(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Cs(i,""),r.flags&=-33);var s=Pp(e);Kc(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Pp(e);Hc(e,l,o);break;default:throw Error(C(161))}}catch(a){Se(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function XS(e,t,n){P=e,ov(e)}function ov(e,t,n){for(var r=(e.mode&1)!==0;P!==null;){var i=P,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||bo;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||it;l=bo;var u=it;if(bo=o,(it=a)&&!u)for(P=i;P!==null;)o=P,a=o.child,o.tag===22&&o.memoizedState!==null?Fp(i):a!==null?(a.return=o,P=a):Fp(i);for(;s!==null;)P=s,ov(s),s=s.sibling;P=i,bo=l,it=u}$p(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,P=s):$p(e)}}function $p(e){for(;P!==null;){var t=P;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||Ea(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!it)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ht(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&vp(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}vp(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&As(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}it||t.flags&512&&jc(t)}catch(d){Se(t,t.return,d)}}if(t===e){P=null;break}if(n=t.sibling,n!==null){n.return=t.return,P=n;break}P=t.return}}function Mp(e){for(;P!==null;){var t=P;if(t===e){P=null;break}var n=t.sibling;if(n!==null){n.return=t.return,P=n;break}P=t.return}}function Fp(e){for(;P!==null;){var t=P;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ea(4,t)}catch(a){Se(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Se(t,i,a)}}var s=t.return;try{jc(t)}catch(a){Se(t,s,a)}break;case 5:var o=t.return;try{jc(t)}catch(a){Se(t,o,a)}}}catch(a){Se(t,t.return,a)}if(t===e){P=null;break}var l=t.sibling;if(l!==null){l.return=t.return,P=l;break}P=t.return}}var YS=Math.ceil,Ml=An.ReactCurrentDispatcher,gf=An.ReactCurrentOwner,Vt=An.ReactCurrentBatchConfig,ne=0,je=null,Oe=null,Ge=0,xt=0,ii=lr(0),$e=0,bs=null,Dr=0,Sa=0,yf=0,gs=null,St=null,vf=0,Ti=1/0,dn=null,Fl=!1,Wc=null,Kn=null,Bo=!1,Un=null,Ul=0,ys=0,qc=null,al=-1,ul=0;function gt(){return ne&6?Ie():al!==-1?al:al=Ie()}function Wn(e){return e.mode&1?ne&2&&Ge!==0?Ge&-Ge:LS.transition!==null?(ul===0&&(ul=jg()),ul):(e=oe,e!==0||(e=window.event,e=e===void 0?16:Xg(e.type)),e):1}function Xt(e,t,n,r){if(50<ys)throw ys=0,qc=null,Error(C(185));no(e,n,r),(!(ne&2)||e!==je)&&(e===je&&(!(ne&2)&&(Sa|=n),$e===4&&$n(e,Ge)),Ct(e,r),n===1&&ne===0&&!(t.mode&1)&&(Ti=Ie()+500,ya&&ar()))}function Ct(e,t){var n=e.callbackNode;LE(e,t);var r=Sl(e,e===je?Ge:0);if(r===0)n!==null&&Wd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Wd(n),t===1)e.tag===0?PS(Up.bind(null,e)):my(Up.bind(null,e)),AS(function(){!(ne&6)&&ar()}),n=null;else{switch(Hg(r)){case 1:n=jh;break;case 4:n=Bg;break;case 16:n=El;break;case 536870912:n=zg;break;default:n=El}n=pv(n,lv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lv(e,t){if(al=-1,ul=0,ne&6)throw Error(C(327));var n=e.callbackNode;if(fi()&&e.callbackNode!==n)return null;var r=Sl(e,e===je?Ge:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Vl(e,r);else{t=r;var i=ne;ne|=2;var s=uv();(je!==e||Ge!==t)&&(dn=null,Ti=Ie()+500,_r(e,t));do try{e_();break}catch(l){av(e,l)}while(1);nf(),Ml.current=s,ne=i,Oe!==null?t=0:(je=null,Ge=0,t=$e)}if(t!==0){if(t===2&&(i=Ec(e),i!==0&&(r=i,t=Qc(e,i))),t===1)throw n=bs,_r(e,0),$n(e,r),Ct(e,Ie()),n;if(t===6)$n(e,r);else{if(i=e.current.alternate,!(r&30)&&!JS(i)&&(t=Vl(e,r),t===2&&(s=Ec(e),s!==0&&(r=s,t=Qc(e,s))),t===1))throw n=bs,_r(e,0),$n(e,r),Ct(e,Ie()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(C(345));case 2:fr(e,St,dn);break;case 3:if($n(e,r),(r&130023424)===r&&(t=vf+500-Ie(),10<t)){if(Sl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){gt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Nc(fr.bind(null,e,St,dn),t);break}fr(e,St,dn);break;case 4:if($n(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Gt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*YS(r/1960))-r,10<r){e.timeoutHandle=Nc(fr.bind(null,e,St,dn),r);break}fr(e,St,dn);break;case 5:fr(e,St,dn);break;default:throw Error(C(329))}}}return Ct(e,Ie()),e.callbackNode===n?lv.bind(null,e):null}function Qc(e,t){var n=gs;return e.current.memoizedState.isDehydrated&&(_r(e,t).flags|=256),e=Vl(e,t),e!==2&&(t=St,St=n,t!==null&&Gc(t)),e}function Gc(e){St===null?St=e:St.push.apply(St,e)}function JS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Jt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $n(e,t){for(t&=~yf,t&=~Sa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gt(t),r=1<<n;e[n]=-1,t&=~r}}function Up(e){if(ne&6)throw Error(C(327));fi();var t=Sl(e,0);if(!(t&1))return Ct(e,Ie()),null;var n=Vl(e,t);if(e.tag!==0&&n===2){var r=Ec(e);r!==0&&(t=r,n=Qc(e,r))}if(n===1)throw n=bs,_r(e,0),$n(e,t),Ct(e,Ie()),n;if(n===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fr(e,St,dn),Ct(e,Ie()),null}function wf(e,t){var n=ne;ne|=1;try{return e(t)}finally{ne=n,ne===0&&(Ti=Ie()+500,ya&&ar())}}function Rr(e){Un!==null&&Un.tag===0&&!(ne&6)&&fi();var t=ne;ne|=1;var n=Vt.transition,r=oe;try{if(Vt.transition=null,oe=1,e)return e()}finally{oe=r,Vt.transition=n,ne=t,!(ne&6)&&ar()}}function Ef(){xt=ii.current,ce(ii)}function _r(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,NS(n)),Oe!==null)for(n=Oe.return;n!==null;){var r=n;switch(Zh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xl();break;case 3:Si(),ce(Tt),ce(ut),uf();break;case 5:af(r);break;case 4:Si();break;case 13:ce(ye);break;case 19:ce(ye);break;case 10:rf(r.type._context);break;case 22:case 23:Ef()}n=n.return}if(je=e,Oe=e=qn(e.current,null),Ge=xt=t,$e=0,bs=null,yf=Sa=Dr=0,St=gs=null,gr!==null){for(t=0;t<gr.length;t++)if(n=gr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}gr=null}return e}function av(e,t){do{var n=Oe;try{if(nf(),sl.current=$l,Ll){for(var r=ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ll=!1}if(Ar=0,ze=Pe=ve=null,ps=!1,Fs=0,gf.current=null,n===null||n.return===null){$e=1,bs=t,Oe=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=Ge,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=Cp(o);if(y!==null){y.flags&=-257,xp(y,o,l,s,t),y.mode&1&&kp(s,u,t),t=y,a=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(a),t.updateQueue=w}else v.add(a);break e}else{if(!(t&1)){kp(s,u,t),Sf();break e}a=Error(C(426))}}else if(pe&&l.mode&1){var T=Cp(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),xp(T,o,l,s,t),ef(_i(a,l));break e}}s=a=_i(a,l),$e!==4&&($e=2),gs===null?gs=[s]:gs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=Ky(s,a,t);yp(s,p);break e;case 1:l=a;var h=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Kn===null||!Kn.has(m)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=Wy(s,l,t);yp(s,E);break e}}s=s.return}while(s!==null)}hv(n)}catch(k){t=k,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(1)}function uv(){var e=Ml.current;return Ml.current=$l,e===null?$l:e}function Sf(){($e===0||$e===3||$e===2)&&($e=4),je===null||!(Dr&268435455)&&!(Sa&268435455)||$n(je,Ge)}function Vl(e,t){var n=ne;ne|=2;var r=uv();(je!==e||Ge!==t)&&(dn=null,_r(e,t));do try{ZS();break}catch(i){av(e,i)}while(1);if(nf(),ne=n,Ml.current=r,Oe!==null)throw Error(C(261));return je=null,Ge=0,$e}function ZS(){for(;Oe!==null;)cv(Oe)}function e_(){for(;Oe!==null&&!CE();)cv(Oe)}function cv(e){var t=dv(e.alternate,e,xt);e.memoizedProps=e.pendingProps,t===null?hv(e):Oe=t,gf.current=null}function hv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=qS(n,t),n!==null){n.flags&=32767,Oe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Oe=null;return}}else if(n=WS(n,t,xt),n!==null){Oe=n;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);$e===0&&($e=5)}function fr(e,t,n){var r=oe,i=Vt.transition;try{Vt.transition=null,oe=1,t_(e,t,n,r)}finally{Vt.transition=i,oe=r}return null}function t_(e,t,n,r){do fi();while(Un!==null);if(ne&6)throw Error(C(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if($E(e,s),e===je&&(Oe=je=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bo||(Bo=!0,pv(El,function(){return fi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Vt.transition,Vt.transition=null;var o=oe;oe=1;var l=ne;ne|=4,gf.current=null,GS(e,n),sv(n,e),SS(xc),_l=!!Cc,xc=Cc=null,e.current=n,XS(n),xE(),ne=l,oe=o,Vt.transition=s}else e.current=n;if(Bo&&(Bo=!1,Un=e,Ul=i),s=e.pendingLanes,s===0&&(Kn=null),AE(n.stateNode),Ct(e,Ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fl)throw Fl=!1,e=Wc,Wc=null,e;return Ul&1&&e.tag!==0&&fi(),s=e.pendingLanes,s&1?e===qc?ys++:(ys=0,qc=e):ys=0,ar(),null}function fi(){if(Un!==null){var e=Hg(Ul),t=Vt.transition,n=oe;try{if(Vt.transition=null,oe=16>e?16:e,Un===null)var r=!1;else{if(e=Un,Un=null,Ul=0,ne&6)throw Error(C(331));var i=ne;for(ne|=4,P=e.current;P!==null;){var s=P,o=s.child;if(P.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(P=u;P!==null;){var c=P;switch(c.tag){case 0:case 11:case 15:ms(8,c,s)}var f=c.child;if(f!==null)f.return=c,P=f;else for(;P!==null;){c=P;var d=c.sibling,y=c.return;if(nv(c),c===u){P=null;break}if(d!==null){d.return=y,P=d;break}P=y}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var T=w.sibling;w.sibling=null,w=T}while(w!==null)}}P=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,P=o;else e:for(;P!==null;){if(s=P,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ms(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,P=p;break e}P=s.return}}var h=e.current;for(P=h;P!==null;){o=P;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,P=m;else e:for(o=h;P!==null;){if(l=P,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ea(9,l)}}catch(k){Se(l,l.return,k)}if(l===o){P=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,P=E;break e}P=l.return}}if(ne=i,ar(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(fa,e)}catch{}r=!0}return r}finally{oe=n,Vt.transition=t}}return!1}function Vp(e,t,n){t=_i(n,t),t=Ky(e,t,1),e=Hn(e,t,1),t=gt(),e!==null&&(no(e,1,t),Ct(e,t))}function Se(e,t,n){if(e.tag===3)Vp(e,e,n);else for(;t!==null;){if(t.tag===3){Vp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kn===null||!Kn.has(r))){e=_i(n,e),e=Wy(t,e,1),t=Hn(t,e,1),e=gt(),t!==null&&(no(t,1,e),Ct(t,e));break}}t=t.return}}function n_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=gt(),e.pingedLanes|=e.suspendedLanes&n,je===e&&(Ge&n)===n&&($e===4||$e===3&&(Ge&130023424)===Ge&&500>Ie()-vf?_r(e,0):yf|=n),Ct(e,t)}function fv(e,t){t===0&&(e.mode&1?(t=Ro,Ro<<=1,!(Ro&130023424)&&(Ro=4194304)):t=1);var n=gt();e=_n(e,t),e!==null&&(no(e,t,n),Ct(e,n))}function r_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),fv(e,n)}function i_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(t),fv(e,n)}var dv;dv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Tt.current)_t=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return _t=!1,KS(e,t,n);_t=!!(e.flags&131072)}else _t=!1,pe&&t.flags&1048576&&gy(t,Al,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ll(e,t),e=t.pendingProps;var i=vi(t,ut.current);hi(t,n),i=hf(null,t,r,e,i,n);var s=ff();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kt(r)?(s=!0,Il(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,of(t),i.updater=va,t.stateNode=i,i._reactInternals=t,$c(t,r,e,n),t=Uc(null,t,r,!0,s,n)):(t.tag=0,pe&&s&&Jh(t),ft(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ll(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=o_(r),e=Ht(r,e),i){case 0:t=Fc(null,t,r,e,n);break e;case 1:t=Ap(null,t,r,e,n);break e;case 11:t=Ip(null,t,r,e,n);break e;case 14:t=Np(null,t,r,Ht(r.type,e),n);break e}throw Error(C(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ht(r,i),Fc(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ht(r,i),Ap(e,t,r,i,n);case 3:e:{if(Xy(t),e===null)throw Error(C(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Ey(e,t),Ol(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=_i(Error(C(423)),t),t=Dp(e,t,r,n,i);break e}else if(r!==i){i=_i(Error(C(424)),t),t=Dp(e,t,r,n,i);break e}else for(It=jn(t.stateNode.containerInfo.firstChild),At=t,pe=!0,Wt=null,n=ky(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wi(),r===i){t=Tn(e,t,n);break e}ft(e,t,r,n)}t=t.child}return t;case 5:return Cy(t),e===null&&Oc(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Ic(r,i)?o=null:s!==null&&Ic(r,s)&&(t.flags|=32),Gy(e,t),ft(e,t,o,n),t.child;case 6:return e===null&&Oc(t),null;case 13:return Yy(e,t,n);case 4:return lf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ei(t,null,r,n):ft(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ht(r,i),Ip(e,t,r,i,n);case 7:return ft(e,t,t.pendingProps,n),t.child;case 8:return ft(e,t,t.pendingProps.children,n),t.child;case 12:return ft(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,le(Dl,r._currentValue),r._currentValue=o,s!==null)if(Jt(s.value,o)){if(s.children===i.children&&!Tt.current){t=Tn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=vn(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Pc(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(C(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Pc(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ft(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,hi(t,n),i=bt(i),r=r(i),t.flags|=1,ft(e,t,r,n),t.child;case 14:return r=t.type,i=Ht(r,t.pendingProps),i=Ht(r.type,i),Np(e,t,r,i,n);case 15:return qy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ht(r,i),ll(e,t),t.tag=1,kt(r)?(e=!0,Il(t)):e=!1,hi(t,n),_y(t,r,i),$c(t,r,i,n),Uc(null,t,r,!0,e,n);case 19:return Jy(e,t,n);case 22:return Qy(e,t,n)}throw Error(C(156,t.tag))};function pv(e,t){return bg(e,t)}function s_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,n,r){return new s_(e,t,n,r)}function _f(e){return e=e.prototype,!(!e||!e.isReactComponent)}function o_(e){if(typeof e=="function")return _f(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bh)return 11;if(e===Bh)return 14}return 2}function qn(e,t){var n=e.alternate;return n===null?(n=Ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function cl(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")_f(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Qr:return Tr(n.children,i,s,t);case Vh:o=8,i|=8;break;case sc:return e=Ut(12,n,t,i|2),e.elementType=sc,e.lanes=s,e;case oc:return e=Ut(13,n,t,i),e.elementType=oc,e.lanes=s,e;case lc:return e=Ut(19,n,t,i),e.elementType=lc,e.lanes=s,e;case Tg:return _a(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Sg:o=10;break e;case _g:o=9;break e;case bh:o=11;break e;case Bh:o=14;break e;case On:o=16,r=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=Ut(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Tr(e,t,n,r){return e=Ut(7,e,r,t),e.lanes=n,e}function _a(e,t,n,r){return e=Ut(22,e,r,t),e.elementType=Tg,e.lanes=n,e.stateNode={isHidden:!1},e}function Au(e,t,n){return e=Ut(6,e,null,t),e.lanes=n,e}function Du(e,t,n){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function l_(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cu(0),this.expirationTimes=cu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Tf(e,t,n,r,i,s,o,l,a){return e=new l_(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ut(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},of(s),e}function a_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function mv(e){if(!e)return nr;e=e._reactInternals;e:{if(Fr(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var n=e.type;if(kt(n))return py(e,n,t)}return t}function gv(e,t,n,r,i,s,o,l,a){return e=Tf(n,r,!0,e,i,s,o,l,a),e.context=mv(null),n=e.current,r=gt(),i=Wn(n),s=vn(r,i),s.callback=t??null,Hn(n,s,i),e.current.lanes=i,no(e,i,r),Ct(e,r),e}function Ta(e,t,n,r){var i=t.current,s=gt(),o=Wn(i);return n=mv(n),t.context===null?t.context=n:t.pendingContext=n,t=vn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Hn(i,t,o),e!==null&&(Xt(e,i,o,s),il(e,i,o)),o}function bl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function kf(e,t){bp(e,t),(e=e.alternate)&&bp(e,t)}function u_(){return null}var yv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cf(e){this._internalRoot=e}ka.prototype.render=Cf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));Ta(e,t,null,null)};ka.prototype.unmount=Cf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rr(function(){Ta(null,e,null,null)}),t[Sn]=null}};function ka(e){this._internalRoot=e}ka.prototype.unstable_scheduleHydration=function(e){if(e){var t=qg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ln.length&&t!==0&&t<Ln[n].priority;n++);Ln.splice(n,0,e),n===0&&Gg(e)}};function xf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ca(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bp(){}function c_(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=bl(o);s.call(u)}}var o=gv(t,r,e,0,null,!1,!1,"",Bp);return e._reactRootContainer=o,e[Sn]=o.current,Os(e.nodeType===8?e.parentNode:e),Rr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=bl(a);l.call(u)}}var a=Tf(e,0,!1,null,null,!1,!1,"",Bp);return e._reactRootContainer=a,e[Sn]=a.current,Os(e.nodeType===8?e.parentNode:e),Rr(function(){Ta(t,a,n,r)}),a}function xa(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=bl(o);l.call(a)}}Ta(t,o,e,i)}else o=c_(n,t,e,i,r);return bl(o)}Kg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=is(t.pendingLanes);n!==0&&(Hh(t,n|1),Ct(t,Ie()),!(ne&6)&&(Ti=Ie()+500,ar()))}break;case 13:Rr(function(){var r=_n(e,1);if(r!==null){var i=gt();Xt(r,e,1,i)}}),kf(e,1)}};Kh=function(e){if(e.tag===13){var t=_n(e,134217728);if(t!==null){var n=gt();Xt(t,e,134217728,n)}kf(e,134217728)}};Wg=function(e){if(e.tag===13){var t=Wn(e),n=_n(e,t);if(n!==null){var r=gt();Xt(n,e,t,r)}kf(e,t)}};qg=function(){return oe};Qg=function(e,t){var n=oe;try{return oe=e,t()}finally{oe=n}};yc=function(e,t,n){switch(t){case"input":if(cc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ga(r);if(!i)throw Error(C(90));Cg(r),cc(r,i)}}}break;case"textarea":Ig(e,n);break;case"select":t=n.value,t!=null&&li(e,!!n.multiple,t,!1)}};Lg=wf;$g=Rr;var h_={usingClientEntryPoint:!1,Events:[io,Jr,ga,Og,Pg,wf]},Ji={findFiberByHostInstance:mr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},f_={bundleType:Ji.bundleType,version:Ji.version,rendererPackageName:Ji.rendererPackageName,rendererConfig:Ji.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:An.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ug(e),e===null?null:e.stateNode},findFiberByHostInstance:Ji.findFiberByHostInstance||u_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zo.isDisabled&&zo.supportsFiber)try{fa=zo.inject(f_),on=zo}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h_;Ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xf(t))throw Error(C(200));return a_(e,t,null,n)};Ot.createRoot=function(e,t){if(!xf(e))throw Error(C(299));var n=!1,r="",i=yv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Tf(e,1,!1,null,null,n,!1,r,i),e[Sn]=t.current,Os(e.nodeType===8?e.parentNode:e),new Cf(t)};Ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=Ug(t),e=e===null?null:e.stateNode,e};Ot.flushSync=function(e){return Rr(e)};Ot.hydrate=function(e,t,n){if(!Ca(t))throw Error(C(200));return xa(null,e,t,!0,n)};Ot.hydrateRoot=function(e,t,n){if(!xf(e))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=yv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=gv(t,null,e,1,n??null,i,!1,s,o),e[Sn]=t.current,Os(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ka(t)};Ot.render=function(e,t,n){if(!Ca(t))throw Error(C(200));return xa(null,e,t,!1,n)};Ot.unmountComponentAtNode=function(e){if(!Ca(e))throw Error(C(40));return e._reactRootContainer?(Rr(function(){xa(null,null,e,!1,function(){e._reactRootContainer=null,e[Sn]=null})}),!0):!1};Ot.unstable_batchedUpdates=wf;Ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ca(n))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return xa(e,t,n,!1,r)};Ot.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=Ot})(uE);var zp=nc;tc.createRoot=zp.createRoot,tc.hydrateRoot=zp.hydrateRoot;/**
 * @remix-run/router v1.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bs.apply(this,arguments)}var Vn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Vn||(Vn={}));const jp="popstate";function d_(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:l}=r.location;return Xc("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Bl(i)}return m_(t,n,null,e)}function Me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function If(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function p_(){return Math.random().toString(36).substr(2,8)}function Hp(e,t){return{usr:e.state,key:e.key,idx:t}}function Xc(e,t,n,r){return n===void 0&&(n=null),Bs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Mi(t):t,{state:n,key:t&&t.key||r||p_()})}function Bl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Mi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m_(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Vn.Pop,a=null,u=c();u==null&&(u=0,o.replaceState(Bs({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){l=Vn.Pop;let T=c(),p=T==null?null:T-u;u=T,a&&a({action:l,location:w.location,delta:p})}function d(T,p){l=Vn.Push;let h=Xc(w.location,T,p);n&&n(h,T),u=c()+1;let m=Hp(h,u),E=w.createHref(h);try{o.pushState(m,"",E)}catch{i.location.assign(E)}s&&a&&a({action:l,location:w.location,delta:1})}function y(T,p){l=Vn.Replace;let h=Xc(w.location,T,p);n&&n(h,T),u=c();let m=Hp(h,u),E=w.createHref(h);o.replaceState(m,"",E),s&&a&&a({action:l,location:w.location,delta:0})}function v(T){let p=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof T=="string"?T:Bl(T);return Me(p,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,p)}let w={get action(){return l},get location(){return e(i,o)},listen(T){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(jp,f),a=T,()=>{i.removeEventListener(jp,f),a=null}},createHref(T){return t(i,T)},createURL:v,encodeLocation(T){let p=v(T);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:y,go(T){return o.go(T)}};return w}var Kp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Kp||(Kp={}));function g_(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Mi(t):t,i=Nf(r.pathname||"/",n);if(i==null)return null;let s=vv(e);y_(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=x_(s[l],A_(i));return o}function vv(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(Me(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=Qn([r,a.relativePath]),c=n.concat(a);s.children&&s.children.length>0&&(Me(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),vv(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:k_(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of wv(s.path))i(s,o,a)}),t}function wv(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=wv(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function y_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:C_(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const v_=/^:\w+$/,w_=3,E_=2,S_=1,__=10,T_=-2,Wp=e=>e==="*";function k_(e,t){let n=e.split("/"),r=n.length;return n.some(Wp)&&(r+=T_),t&&(r+=E_),n.filter(i=>!Wp(i)).reduce((i,s)=>i+(v_.test(s)?w_:s===""?S_:__),r)}function C_(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function x_(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],a=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=I_({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},u);if(!c)return null;Object.assign(r,c.params);let f=l.route;s.push({params:r,pathname:Qn([i,c.pathname]),pathnameBase:P_(Qn([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Qn([i,c.pathnameBase]))}return s}function I_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=N_(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,c,f)=>{if(c==="*"){let d=l[f]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=D_(l[f]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:e}}function N_(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),If(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,l)=>(r.push(l),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function A_(e){try{return decodeURI(e)}catch(t){return If(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function D_(e,t){try{return decodeURIComponent(e)}catch(n){return If(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Nf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function R_(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Mi(e):e;return{pathname:n?n.startsWith("/")?n:O_(n,t):t,search:L_(r),hash:$_(i)}}function O_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ru(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ev(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Sv(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Mi(e):(i=Bs({},e),Me(!i.pathname||!i.pathname.includes("?"),Ru("?","pathname","search",i)),Me(!i.pathname||!i.pathname.includes("#"),Ru("#","pathname","hash",i)),Me(!i.search||!i.search.includes("#"),Ru("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(r||o==null)l=n;else{let f=t.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}l=f>=0?t[f]:"/"}let a=R_(i,l),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const Qn=e=>e.join("/").replace(/\/\/+/g,"/"),P_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function M_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}/**
 * React Router v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function F_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const U_=typeof Object.is=="function"?Object.is:F_,{useState:V_,useEffect:b_,useLayoutEffect:B_,useDebugValue:z_}=ec;function j_(e,t,n){const r=t(),[{inst:i},s]=V_({inst:{value:r,getSnapshot:t}});return B_(()=>{i.value=r,i.getSnapshot=t,Ou(i)&&s({inst:i})},[e,r,t]),b_(()=>(Ou(i)&&s({inst:i}),e(()=>{Ou(i)&&s({inst:i})})),[e]),z_(r),r}function Ou(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!U_(n,r)}catch{return!0}}function H_(e,t,n){return t()}const K_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W_=!K_,q_=W_?H_:j_;"useSyncExternalStore"in ec&&(e=>e.useSyncExternalStore)(ec);const _v=L.createContext(null),Tv=L.createContext(null),oo=L.createContext(null),Ia=L.createContext(null),Fi=L.createContext({outlet:null,matches:[]}),kv=L.createContext(null);function Yc(){return Yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yc.apply(this,arguments)}function Q_(e,t){let{relative:n}=t===void 0?{}:t;lo()||Me(!1);let{basename:r,navigator:i}=L.useContext(oo),{hash:s,pathname:o,search:l}=xv(e,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:Qn([r,o])),i.createHref({pathname:a,search:l,hash:s})}function lo(){return L.useContext(Ia)!=null}function Na(){return lo()||Me(!1),L.useContext(Ia).location}function Cv(){lo()||Me(!1);let{basename:e,navigator:t}=L.useContext(oo),{matches:n}=L.useContext(Fi),{pathname:r}=Na(),i=JSON.stringify(Ev(n).map(l=>l.pathnameBase)),s=L.useRef(!1);return L.useEffect(()=>{s.current=!0}),L.useCallback(function(l,a){if(a===void 0&&(a={}),!s.current)return;if(typeof l=="number"){t.go(l);return}let u=Sv(l,JSON.parse(i),r,a.relative==="path");e!=="/"&&(u.pathname=u.pathname==="/"?e:Qn([e,u.pathname])),(a.replace?t.replace:t.push)(u,a.state,a)},[e,t,i,r])}function xv(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=L.useContext(Fi),{pathname:i}=Na(),s=JSON.stringify(Ev(r).map(o=>o.pathnameBase));return L.useMemo(()=>Sv(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function G_(e,t){lo()||Me(!1);let{navigator:n}=L.useContext(oo),r=L.useContext(Tv),{matches:i}=L.useContext(Fi),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let a=Na(),u;if(t){var c;let w=typeof t=="string"?Mi(t):t;l==="/"||(c=w.pathname)!=null&&c.startsWith(l)||Me(!1),u=w}else u=a;let f=u.pathname||"/",d=l==="/"?f:f.slice(l.length)||"/",y=g_(e,{pathname:d}),v=Z_(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Qn([l,n.encodeLocation?n.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Qn([l,n.encodeLocation?n.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r||void 0);return t&&v?L.createElement(Ia.Provider,{value:{location:Yc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Vn.Pop}},v):v}function X_(){let e=rT(),t=M_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),n?L.createElement("pre",{style:i},n):null,s)}class Y_ extends L.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?L.createElement(Fi.Provider,{value:this.props.routeContext},L.createElement(kv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function J_(e){let{routeContext:t,match:n,children:r}=e,i=L.useContext(_v);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(Fi.Provider,{value:t},r)}function Z_(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Me(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,l)=>{let a=o.route.id?i==null?void 0:i[o.route.id]:null,u=null;n&&(o.route.ErrorBoundary?u=L.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=L.createElement(X_,null));let c=t.concat(r.slice(0,l+1)),f=()=>{let d=s;return a?d=u:o.route.Component?d=L.createElement(o.route.Component,null):o.route.element&&(d=o.route.element),L.createElement(J_,{match:o,routeContext:{outlet:s,matches:c},children:d})};return n&&(o.route.ErrorBoundary||o.route.errorElement||l===0)?L.createElement(Y_,{location:n.location,component:u,error:a,children:f(),routeContext:{outlet:null,matches:c}}):f()},null)}var qp;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(qp||(qp={}));var zl;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(zl||(zl={}));function eT(e){let t=L.useContext(Tv);return t||Me(!1),t}function tT(e){let t=L.useContext(Fi);return t||Me(!1),t}function nT(e){let t=tT(),n=t.matches[t.matches.length-1];return n.route.id||Me(!1),n.route.id}function rT(){var e;let t=L.useContext(kv),n=eT(zl.UseRouteError),r=nT(zl.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function Jc(e){Me(!1)}function iT(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Vn.Pop,navigator:s,static:o=!1}=e;lo()&&Me(!1);let l=t.replace(/^\/*/,"/"),a=L.useMemo(()=>({basename:l,navigator:s,static:o}),[l,s,o]);typeof r=="string"&&(r=Mi(r));let{pathname:u="/",search:c="",hash:f="",state:d=null,key:y="default"}=r,v=L.useMemo(()=>{let w=Nf(u,l);return w==null?null:{location:{pathname:w,search:c,hash:f,state:d,key:y},navigationType:i}},[l,u,c,f,d,y,i]);return v==null?null:L.createElement(oo.Provider,{value:a},L.createElement(Ia.Provider,{children:n,value:v}))}function sT(e){let{children:t,location:n}=e,r=L.useContext(_v),i=r&&!t?r.router.routes:Zc(t);return G_(i,n)}var Qp;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(Qp||(Qp={}));new Promise(()=>{});function Zc(e,t){t===void 0&&(t=[]);let n=[];return L.Children.forEach(e,(r,i)=>{if(!L.isValidElement(r))return;if(r.type===L.Fragment){n.push.apply(n,Zc(r.props.children,t));return}r.type!==Jc&&Me(!1),!r.props.index||!r.props.children||Me(!1);let s=[...t,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Zc(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eh.apply(this,arguments)}function oT(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function lT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function aT(e,t){return e.button===0&&(!t||t==="_self")&&!lT(e)}const uT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function cT(e){let{basename:t,children:n,window:r}=e,i=L.useRef();i.current==null&&(i.current=d_({window:r,v5Compat:!0}));let s=i.current,[o,l]=L.useState({action:s.action,location:s.location});return L.useLayoutEffect(()=>s.listen(l),[s]),L.createElement(iT,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:s})}const hT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dT=L.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:a,to:u,preventScrollReset:c}=t,f=oT(t,uT),{basename:d}=L.useContext(oo),y,v=!1;if(typeof u=="string"&&fT.test(u)&&(y=u,hT)){let h=new URL(window.location.href),m=u.startsWith("//")?new URL(h.protocol+u):new URL(u),E=Nf(m.pathname,d);m.origin===h.origin&&E!=null?u=E+m.search+m.hash:v=!0}let w=Q_(u,{relative:i}),T=pT(u,{replace:o,state:l,target:a,preventScrollReset:c,relative:i});function p(h){r&&r(h),h.defaultPrevented||T(h)}return L.createElement("a",eh({},f,{href:y||w,onClick:v||s?r:p,ref:n,target:a}))});var Gp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Gp||(Gp={}));var Xp;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Xp||(Xp={}));function pT(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=t===void 0?{}:t,l=Cv(),a=Na(),u=xv(e,{relative:o});return L.useCallback(c=>{if(aT(c,n)){c.preventDefault();let f=r!==void 0?r:Bl(a)===Bl(u);l(e,{replace:f,state:i,preventScrollReset:s,relative:o})}},[a,l,u,r,i,n,e,s,o])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},mT=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],l=e[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Nv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,l=o?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0,c=s>>2,f=(s&3)<<4|l>>4;let d=(l&15)<<2|u>>6,y=u&63;a||(y=64,o||(d=64)),r.push(n[c],n[f],n[d],n[y])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Iv(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):mT(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||l==null||u==null||f==null)throw new gT;const d=s<<2|l>>4;if(r.push(d),u!==64){const y=l<<4&240|u>>2;if(r.push(y),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class gT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yT=function(e){const t=Iv(e);return Nv.encodeByteArray(t,!0)},jl=function(e){return yT(e).replace(/\./g,"")},vT=function(e){try{return Nv.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=()=>wT().__FIREBASE_DEFAULTS__,ST=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},_T=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&vT(e[1]);return t&&JSON.parse(t)},Af=()=>{try{return ET()||ST()||_T()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},TT=e=>{var t,n;return(n=(t=Af())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Av=e=>{const t=TT(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},kT=()=>{var e;return(e=Af())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[jl(JSON.stringify(n)),jl(JSON.stringify(o)),l].join(".")}function xT(){var e;const t=(e=Af())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IT(){try{return typeof indexedDB=="object"}catch{return!1}}function NT(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="FirebaseError";class Ur extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=AT,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rv.prototype.create)}}class Rv{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?DT(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ur(i,l,r)}}function DT(e,t){return e.replace(RT,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const RT=/\{\$([^}]+)}/g;function th(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Yp(s)&&Yp(o)){if(!th(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Yp(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(e){return e&&e._delegate?e._delegate:e}class ki{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new CT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(LT(t))try{this.getOrInitializeService({instanceIdentifier:dr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=dr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=dr){return this.instances.has(t)}getOptions(t=dr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PT(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=dr){return this.component?this.component.multipleInstances?t:dr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PT(e){return e===dr?void 0:e}function LT(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new OT(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ie||(ie={}));const MT={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},FT=ie.INFO,UT={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},VT=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=UT[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ov{constructor(t){this.name=t,this._logLevel=FT,this._logHandler=VT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ie))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?MT[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...t),this._logHandler(this,ie.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...t),this._logHandler(this,ie.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...t),this._logHandler(this,ie.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...t),this._logHandler(this,ie.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...t),this._logHandler(this,ie.ERROR,...t)}}const bT=(e,t)=>t.some(n=>e instanceof n);let Jp,Zp;function BT(){return Jp||(Jp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zT(){return Zp||(Zp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pv=new WeakMap,nh=new WeakMap,Lv=new WeakMap,Pu=new WeakMap,Df=new WeakMap;function jT(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Gn(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Pv.set(n,e)}).catch(()=>{}),Df.set(t,e),t}function HT(e){if(nh.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});nh.set(e,t)}let rh={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return nh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Lv.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function KT(e){rh=e(rh)}function WT(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Lu(this),t,...n);return Lv.set(r,t.sort?t.sort():[t]),Gn(r)}:zT().includes(e)?function(...t){return e.apply(Lu(this),t),Gn(Pv.get(this))}:function(...t){return Gn(e.apply(Lu(this),t))}}function qT(e){return typeof e=="function"?WT(e):(e instanceof IDBTransaction&&HT(e),bT(e,BT())?new Proxy(e,rh):e)}function Gn(e){if(e instanceof IDBRequest)return jT(e);if(Pu.has(e))return Pu.get(e);const t=qT(e);return t!==e&&(Pu.set(e,t),Df.set(t,e)),t}const Lu=e=>Df.get(e);function QT(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),l=Gn(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Gn(o.result),a.oldVersion,a.newVersion,Gn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",()=>i())}).catch(()=>{}),l}const GT=["get","getKey","getAll","getAllKeys","count"],XT=["put","add","delete","clear"],$u=new Map;function em(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if($u.get(t))return $u.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=XT.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GT.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return $u.set(t,s),s}KT(e=>({...e,get:(t,n,r)=>em(t,n)||e.get(t,n,r),has:(t,n)=>!!em(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JT(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function JT(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ih="@firebase/app",tm="0.9.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new Ov("@firebase/app"),ZT="@firebase/app-compat",ek="@firebase/analytics-compat",tk="@firebase/analytics",nk="@firebase/app-check-compat",rk="@firebase/app-check",ik="@firebase/auth",sk="@firebase/auth-compat",ok="@firebase/database",lk="@firebase/database-compat",ak="@firebase/functions",uk="@firebase/functions-compat",ck="@firebase/installations",hk="@firebase/installations-compat",fk="@firebase/messaging",dk="@firebase/messaging-compat",pk="@firebase/performance",mk="@firebase/performance-compat",gk="@firebase/remote-config",yk="@firebase/remote-config-compat",vk="@firebase/storage",wk="@firebase/storage-compat",Ek="@firebase/firestore",Sk="@firebase/firestore-compat",_k="firebase",Tk="9.17.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh="[DEFAULT]",kk={[ih]:"fire-core",[ZT]:"fire-core-compat",[tk]:"fire-analytics",[ek]:"fire-analytics-compat",[rk]:"fire-app-check",[nk]:"fire-app-check-compat",[ik]:"fire-auth",[sk]:"fire-auth-compat",[ok]:"fire-rtdb",[lk]:"fire-rtdb-compat",[ak]:"fire-fn",[uk]:"fire-fn-compat",[ck]:"fire-iid",[hk]:"fire-iid-compat",[fk]:"fire-fcm",[dk]:"fire-fcm-compat",[pk]:"fire-perf",[mk]:"fire-perf-compat",[gk]:"fire-rc",[yk]:"fire-rc-compat",[vk]:"fire-gcs",[wk]:"fire-gcs-compat",[Ek]:"fire-fst",[Sk]:"fire-fst-compat","fire-js":"fire-js",[_k]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=new Map,oh=new Map;function Ck(e,t){try{e.container.addComponent(t)}catch(n){Or.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function zs(e){const t=e.name;if(oh.has(t))return Or.debug(`There were multiple attempts to register component ${t}.`),!1;oh.set(t,e);for(const n of Hl.values())Ck(n,e);return!0}function $v(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Xn=new Rv("app","Firebase",xk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=Tk;function Fv(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:sh,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Xn.create("bad-app-name",{appName:String(i)});if(n||(n=kT()),!n)throw Xn.create("no-options");const s=Hl.get(i);if(s){if(th(n,s.options)&&th(r,s.config))return s;throw Xn.create("duplicate-app",{appName:i})}const o=new $T(i);for(const a of oh.values())o.addComponent(a);const l=new Ik(n,r,o);return Hl.set(i,l),l}function Uv(e=sh){const t=Hl.get(e);if(!t&&e===sh)return Fv();if(!t)throw Xn.create("no-app",{appName:e});return t}function Yn(e,t,n){var r;let i=(r=kk[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Or.warn(l.join(" "));return}zs(new ki(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk="firebase-heartbeat-database",Ak=1,js="firebase-heartbeat-store";let Mu=null;function Vv(){return Mu||(Mu=QT(Nk,Ak,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(js)}}}).catch(e=>{throw Xn.create("idb-open",{originalErrorMessage:e.message})})),Mu}async function Dk(e){try{return(await Vv()).transaction(js).objectStore(js).get(bv(e))}catch(t){if(t instanceof Ur)Or.warn(t.message);else{const n=Xn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Or.warn(n.message)}}}async function nm(e,t){try{const r=(await Vv()).transaction(js,"readwrite");return await r.objectStore(js).put(t,bv(e)),r.done}catch(n){if(n instanceof Ur)Or.warn(n.message);else{const r=Xn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Or.warn(r.message)}}}function bv(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=1024,Ok=30*24*60*60*1e3;class Pk{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $k(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=rm();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Ok}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=rm(),{heartbeatsToSend:n,unsentEntries:r}=Lk(this._heartbeatsCache.heartbeats),i=jl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function rm(){return new Date().toISOString().substring(0,10)}function Lk(e,t=Rk){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),im(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),im(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $k{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IT()?NT().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Dk(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return nm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return nm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function im(e){return jl(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(e){zs(new ki("platform-logger",t=>new YT(t),"PRIVATE")),zs(new ki("heartbeat",t=>new Pk(t),"PRIVATE")),Yn(ih,tm,e),Yn(ih,tm,"esm2017"),Yn("fire-js","")}Mk("");var Fk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},M,Rf=Rf||{},K=Fk||self;function Kl(){}function Aa(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function ao(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function Uk(e){return Object.prototype.hasOwnProperty.call(e,Fu)&&e[Fu]||(e[Fu]=++Vk)}var Fu="closure_uid_"+(1e9*Math.random()>>>0),Vk=0;function bk(e,t,n){return e.call.apply(e.bind,arguments)}function Bk(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function lt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?lt=bk:lt=Bk,lt.apply(null,arguments)}function jo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Je(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return t.prototype[i].apply(r,o)}}function ur(){this.s=this.s,this.o=this.o}var zk=0;ur.prototype.s=!1;ur.prototype.na=function(){!this.s&&(this.s=!0,this.M(),zk!=0)&&Uk(this)};ur.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Bv=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Of(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function sm(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Aa(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function at(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var jk=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{K.addEventListener("test",Kl,t),K.removeEventListener("test",Kl,t)}catch{}return e}();function Wl(e){return/^[\s\xa0]*$/.test(e)}var om=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Uu(e,t){return e<t?-1:e>t?1:0}function Da(){var e=K.navigator;return e&&(e=e.userAgent)?e:""}function nn(e){return Da().indexOf(e)!=-1}function Pf(e){return Pf[" "](e),e}Pf[" "]=Kl;function Hk(e){var t=qk;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var Kk=nn("Opera"),Ci=nn("Trident")||nn("MSIE"),zv=nn("Edge"),lh=zv||Ci,jv=nn("Gecko")&&!(Da().toLowerCase().indexOf("webkit")!=-1&&!nn("Edge"))&&!(nn("Trident")||nn("MSIE"))&&!nn("Edge"),Wk=Da().toLowerCase().indexOf("webkit")!=-1&&!nn("Edge");function Hv(){var e=K.document;return e?e.documentMode:void 0}var ql;e:{var Vu="",bu=function(){var e=Da();if(jv)return/rv:([^\);]+)(\)|;)/.exec(e);if(zv)return/Edge\/([\d\.]+)/.exec(e);if(Ci)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(Wk)return/WebKit\/(\S+)/.exec(e);if(Kk)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(bu&&(Vu=bu?bu[1]:""),Ci){var Bu=Hv();if(Bu!=null&&Bu>parseFloat(Vu)){ql=String(Bu);break e}}ql=Vu}var qk={};function Qk(){return Hk(function(){let e=0;const t=om(String(ql)).split("."),n=om("9").split("."),r=Math.max(t.length,n.length);for(let o=0;e==0&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;e=Uu(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Uu(i[2].length==0,s[2].length==0)||Uu(i[2],s[2]),i=i[3],s=s[3]}while(e==0)}return 0<=e})}var ah;if(K.document&&Ci){var lm=Hv();ah=lm||parseInt(ql,10)||void 0}else ah=void 0;var Gk=ah;function Hs(e,t){if(at.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(jv){e:{try{Pf(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Xk[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Hs.X.h.call(this)}}Je(Hs,at);var Xk={2:"touch",3:"pen",4:"mouse"};Hs.prototype.h=function(){Hs.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var uo="closure_listenable_"+(1e6*Math.random()|0),Yk=0;function Jk(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Yk,this.ba=this.ea=!1}function Ra(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Lf(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Kv(e){const t={};for(const n in e)t[n]=e[n];return t}const am="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wv(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<am.length;s++)n=am[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Oa(e){this.src=e,this.g={},this.h=0}Oa.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=ch(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):(t=new Jk(t,this.src,s,!!r,i),t.ea=n,e.push(t)),t};function uh(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=Bv(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ra(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function ch(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ba&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}var $f="closure_lm_"+(1e6*Math.random()|0),zu={};function qv(e,t,n,r,i){if(r&&r.once)return Gv(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)qv(e,t[s],n,r,i);return null}return n=Uf(n),e&&e[uo]?e.N(t,n,ao(r)?!!r.capture:!!r,i):Qv(e,t,n,!1,r,i)}function Qv(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=ao(i)?!!i.capture:!!i,l=Ff(e);if(l||(e[$f]=l=new Oa(e)),n=l.add(t,n,r,o,s),n.proxy)return n;if(r=Zk(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)jk||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Yv(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Zk(){function e(n){return t.call(e.src,e.listener,n)}const t=eC;return e}function Gv(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Gv(e,t[s],n,r,i);return null}return n=Uf(n),e&&e[uo]?e.O(t,n,ao(r)?!!r.capture:!!r,i):Qv(e,t,n,!0,r,i)}function Xv(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Xv(e,t[s],n,r,i);else r=ao(r)?!!r.capture:!!r,n=Uf(n),e&&e[uo]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=ch(s,n,r,i),-1<n&&(Ra(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Ff(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ch(t,n,r,i)),(n=-1<e?t[e]:null)&&Mf(n))}function Mf(e){if(typeof e!="number"&&e&&!e.ba){var t=e.src;if(t&&t[uo])uh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Yv(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ff(t))?(uh(n,e),n.h==0&&(n.src=null,t[$f]=null)):Ra(e)}}}function Yv(e){return e in zu?zu[e]:zu[e]="on"+e}function eC(e,t){if(e.ba)e=!0;else{t=new Hs(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Mf(e),e=n.call(r,t)}return e}function Ff(e){return e=e[$f],e instanceof Oa?e:null}var ju="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uf(e){return typeof e=="function"?e:(e[ju]||(e[ju]=function(t){return e.handleEvent(t)}),e[ju])}function He(){ur.call(this),this.i=new Oa(this),this.P=this,this.I=null}Je(He,ur);He.prototype[uo]=!0;He.prototype.removeEventListener=function(e,t,n,r){Xv(this,e,t,n,r)};function Xe(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new at(t,e);else if(t instanceof at)t.target=t.target||e;else{var i=t;t=new at(r,e),Wv(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Ho(o,r,!0,t)&&i}if(o=t.g=e,i=Ho(o,r,!0,t)&&i,i=Ho(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Ho(o,r,!1,t)&&i}He.prototype.M=function(){if(He.X.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Ra(n[r]);delete e.g[t],e.h--}}this.I=null};He.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};He.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Ho(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ba&&o.capture==n){var l=o.listener,a=o.ha||o.src;o.ea&&uh(e.i,o),i=l.call(a,r)!==!1&&i}}return i&&!r.defaultPrevented}var Vf=K.JSON.stringify;function tC(){var e=e0;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class nC{constructor(){this.h=this.g=null}add(t,n){const r=Jv.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Jv=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new rC,e=>e.reset());class rC{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function iC(e){K.setTimeout(()=>{throw e},0)}function Zv(e,t){hh||sC(),fh||(hh(),fh=!0),e0.add(e,t)}var hh;function sC(){var e=K.Promise.resolve(void 0);hh=function(){e.then(oC)}}var fh=!1,e0=new nC;function oC(){for(var e;e=tC();){try{e.h.call(e.g)}catch(n){iC(n)}var t=Jv;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}fh=!1}function Pa(e,t){He.call(this),this.h=e||1,this.g=t||K,this.j=lt(this.lb,this),this.l=Date.now()}Je(Pa,He);M=Pa.prototype;M.ca=!1;M.R=null;M.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Xe(this,"tick"),this.ca&&(bf(this),this.start()))}};M.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function bf(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}M.M=function(){Pa.X.M.call(this),bf(this),delete this.g};function Bf(e,t,n){if(typeof e=="function")n&&(e=lt(e,n));else if(e&&typeof e.handleEvent=="function")e=lt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:K.setTimeout(e,t||0)}function t0(e){e.g=Bf(()=>{e.g=null,e.i&&(e.i=!1,t0(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class lC extends ur{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:t0(this)}M(){super.M(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ks(e){ur.call(this),this.h=e,this.g={}}Je(Ks,ur);var um=[];function n0(e,t,n,r){Array.isArray(n)||(n&&(um[0]=n.toString()),n=um);for(var i=0;i<n.length;i++){var s=qv(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function r0(e){Lf(e.g,function(t,n){this.g.hasOwnProperty(n)&&Mf(t)},e),e.g={}}Ks.prototype.M=function(){Ks.X.M.call(this),r0(this)};Ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function La(){this.g=!0}La.prototype.Aa=function(){this.g=!1};function aC(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",l=s.split("&"),a=0;a<l.length;a++){var u=l[a].split("=");if(1<u.length){var c=u[0];u=u[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function uC(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function si(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+hC(e,n)+(r?" "+r:"")})}function cC(e,t){e.info(function(){return"TIMEOUT: "+t})}La.prototype.info=function(){};function hC(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Vf(n)}catch{return t}}var Vr={},cm=null;function $a(){return cm=cm||new He}Vr.Pa="serverreachability";function i0(e){at.call(this,Vr.Pa,e)}Je(i0,at);function Ws(e){const t=$a();Xe(t,new i0(t))}Vr.STAT_EVENT="statevent";function s0(e,t){at.call(this,Vr.STAT_EVENT,e),this.stat=t}Je(s0,at);function mt(e){const t=$a();Xe(t,new s0(t,e))}Vr.Qa="timingevent";function o0(e,t){at.call(this,Vr.Qa,e),this.size=t}Je(o0,at);function co(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){e()},t)}var Ma={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},l0={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function zf(){}zf.prototype.h=null;function hm(e){return e.h||(e.h=e.i())}function a0(){}var ho={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function jf(){at.call(this,"d")}Je(jf,at);function Hf(){at.call(this,"c")}Je(Hf,at);var dh;function Fa(){}Je(Fa,zf);Fa.prototype.g=function(){return new XMLHttpRequest};Fa.prototype.i=function(){return{}};dh=new Fa;function fo(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Ks(this),this.O=fC,e=lh?125:void 0,this.T=new Pa(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new u0}function u0(){this.i=null,this.g="",this.h=!1}var fC=45e3,ph={},Ql={};M=fo.prototype;M.setTimeout=function(e){this.O=e};function mh(e,t,n){e.K=1,e.v=Va(Cn(t)),e.s=n,e.P=!0,c0(e,null)}function c0(e,t){e.F=Date.now(),po(e),e.A=Cn(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),v0(n.i,"t",r),e.C=0,n=e.l.H,e.h=new u0,e.g=V0(e.l,n?t:null,!e.s),0<e.N&&(e.L=new lC(lt(e.La,e,e.g),e.N)),n0(e.S,e.g,"readystatechange",e.ib),t=e.H?Kv(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Ws(),aC(e.j,e.u,e.A,e.m,e.U,e.s)}M.ib=function(e){e=e.target;const t=this.L;t&&yn(e)==3?t.l():this.La(e)};M.La=function(e){try{if(e==this.g)e:{const c=yn(this.g);var t=this.g.Ea();const f=this.g.aa();if(!(3>c)&&(c!=3||lh||this.g&&(this.h.h||this.g.fa()||mm(this.g)))){this.I||c!=4||t==7||(t==8||0>=f?Ws(3):Ws(2)),Ua(this);var n=this.g.aa();this.Y=n;t:if(h0(this)){var r=mm(this.g);e="";var i=r.length,s=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vr(this),vs(this);var o="";break t}this.h.i=new K.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,uC(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var l,a=this.g;if((l=a.g?a.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wl(l)){var u=l;break t}}u=null}if(n=u)si(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,gh(this,n);else{this.i=!1,this.o=3,mt(12),vr(this),vs(this);break e}}this.P?(f0(this,c,o),lh&&this.i&&c==3&&(n0(this.S,this.T,"tick",this.hb),this.T.start())):(si(this.j,this.m,o,null),gh(this,o)),c==4&&vr(this),this.i&&!this.I&&(c==4?$0(this.l,this):(this.i=!1,po(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,mt(12)):(this.o=0,mt(13)),vr(this),vs(this)}}}catch{}finally{}};function h0(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Da:!1}function f0(e,t,n){let r=!0,i;for(;!e.I&&e.C<n.length;)if(i=dC(e,n),i==Ql){t==4&&(e.o=4,mt(14),r=!1),si(e.j,e.m,null,"[Incomplete Response]");break}else if(i==ph){e.o=4,mt(15),si(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else si(e.j,e.m,i,null),gh(e,i);h0(e)&&i!=Ql&&i!=ph&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,mt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.$&&(e.$=!0,t=e.l,t.g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yf(t),t.K=!0,mt(11))):(si(e.j,e.m,n,"[Invalid Chunked Response]"),vr(e),vs(e))}M.hb=function(){if(this.g){var e=yn(this.g),t=this.g.fa();this.C<t.length&&(Ua(this),f0(this,e,t),this.i&&e!=4&&po(this))}};function dC(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Ql:(n=Number(t.substring(n,r)),isNaN(n)?ph:(r+=1,r+n>t.length?Ql:(t=t.substr(r,n),e.C=r+n,t)))}M.cancel=function(){this.I=!0,vr(this)};function po(e){e.V=Date.now()+e.O,d0(e,e.O)}function d0(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=co(lt(e.gb,e),t)}function Ua(e){e.B&&(K.clearTimeout(e.B),e.B=null)}M.gb=function(){this.B=null;const e=Date.now();0<=e-this.V?(cC(this.j,this.A),this.K!=2&&(Ws(),mt(17)),vr(this),this.o=2,vs(this)):d0(this,this.V-e)};function vs(e){e.l.G==0||e.I||$0(e.l,e)}function vr(e){Ua(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,bf(e.T),r0(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function gh(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||yh(n.h,e))){if(!e.J&&yh(n.h,e)&&n.G==3){try{var r=n.Fa.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Yl(n),za(n);else break e;Xf(n),mt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=co(lt(n.cb,n),6e3));if(1>=S0(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else wr(n,11)}else if((e.J||n.g==e)&&Yl(n),!Wl(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const f=u[4];f!=null&&(n.Ca=f,n.j.info("SVER="+n.Ca));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const y=e.g;if(y){const v=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.h;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Kf(s,s.h),s.h=null))}if(r.D){const w=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.za=w,me(r.F,r.D,w))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=e;if(r.sa=U0(r,r.H?r.ka:null,r.V),o.J){_0(r.h,o);var l=o,a=r.J;a&&l.setTimeout(a),l.B&&(Ua(l),po(l)),r.g=o}else P0(r);0<n.i.length&&ja(n)}else u[0]!="stop"&&u[0]!="close"||wr(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?wr(n,7):Gf(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}Ws(4)}catch{}}function pC(e){if(e.W&&typeof e.W=="function")return e.W();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Aa(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function mC(e){if(e.oa&&typeof e.oa=="function")return e.oa();if(!e.W||typeof e.W!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Aa(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function p0(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Aa(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=mC(e),r=pC(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var m0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gC(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function kr(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof kr){this.h=t!==void 0?t:e.h,Gl(this,e.j),this.s=e.s,this.g=e.g,Xl(this,e.m),this.l=e.l,t=e.i;var n=new qs;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),fm(this,n),this.o=e.o}else e&&(n=String(e).match(m0))?(this.h=!!t,Gl(this,n[1]||"",!0),this.s=os(n[2]||""),this.g=os(n[3]||"",!0),Xl(this,n[4]),this.l=os(n[5]||"",!0),fm(this,n[6]||"",!0),this.o=os(n[7]||"")):(this.h=!!t,this.i=new qs(null,this.h))}kr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ls(t,dm,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ls(t,dm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(ls(n,n.charAt(0)=="/"?wC:vC,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ls(n,SC)),e.join("")};function Cn(e){return new kr(e)}function Gl(e,t,n){e.j=n?os(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Xl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function fm(e,t,n){t instanceof qs?(e.i=t,_C(e.i,e.h)):(n||(t=ls(t,EC)),e.i=new qs(t,e.h))}function me(e,t,n){e.i.set(t,n)}function Va(e){return me(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function os(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ls(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,yC),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function yC(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var dm=/[#\/\?@]/g,vC=/[#\?:]/g,wC=/[#\?]/g,EC=/[#\?@]/g,SC=/#/g;function qs(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function cr(e){e.g||(e.g=new Map,e.h=0,e.i&&gC(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}M=qs.prototype;M.add=function(e,t){cr(this),this.i=null,e=Ui(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function g0(e,t){cr(e),t=Ui(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function y0(e,t){return cr(e),t=Ui(e,t),e.g.has(t)}M.forEach=function(e,t){cr(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};M.oa=function(){cr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};M.W=function(e){cr(this);let t=[];if(typeof e=="string")y0(this,e)&&(t=t.concat(this.g.get(Ui(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};M.set=function(e,t){return cr(this),this.i=null,e=Ui(this,e),y0(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};M.get=function(e,t){return e?(e=this.W(e),0<e.length?String(e[0]):t):t};function v0(e,t,n){g0(e,t),0<n.length&&(e.i=null,e.g.set(Ui(e,t),Of(n)),e.h+=n.length)}M.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function Ui(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function _C(e,t){t&&!e.j&&(cr(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(g0(this,r),v0(this,i,n))},e)),e.j=t}var TC=class{constructor(t,n){this.h=t,this.g=n}};function w0(e){this.l=e||kC,K.PerformanceNavigationTiming?(e=K.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(K.g&&K.g.Ga&&K.g.Ga()&&K.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var kC=10;function E0(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function S0(e){return e.h?1:e.g?e.g.size:0}function yh(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Kf(e,t){e.g?e.g.add(t):e.h=t}function _0(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}w0.prototype.cancel=function(){if(this.i=T0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function T0(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Of(e.i)}function Wf(){}Wf.prototype.stringify=function(e){return K.JSON.stringify(e,void 0)};Wf.prototype.parse=function(e){return K.JSON.parse(e,void 0)};function CC(){this.g=new Wf}function xC(e,t,n){const r=n||"";try{p0(e,function(i,s){let o=i;ao(i)&&(o=Vf(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function IC(e,t){const n=new La;if(K.Image){const r=new Image;r.onload=jo(Ko,n,r,"TestLoadImage: loaded",!0,t),r.onerror=jo(Ko,n,r,"TestLoadImage: error",!1,t),r.onabort=jo(Ko,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=jo(Ko,n,r,"TestLoadImage: timeout",!1,t),K.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Ko(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function mo(e){this.l=e.ac||null,this.j=e.jb||!1}Je(mo,zf);mo.prototype.g=function(){return new ba(this.l,this.j)};mo.prototype.i=function(e){return function(){return e}}({});function ba(e,t){He.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=qf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Je(ba,He);var qf=0;M=ba.prototype;M.open=function(e,t){if(this.readyState!=qf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Qs(this)};M.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||K).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))};M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,go(this)),this.readyState=qf};M.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Qs(this)),this.g&&(this.readyState=3,Qs(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof K.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;k0(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))};function k0(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}M.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?go(this):Qs(this),this.readyState==3&&k0(this)}};M.Va=function(e){this.g&&(this.response=this.responseText=e,go(this))};M.Ua=function(e){this.g&&(this.response=e,go(this))};M.ga=function(){this.g&&go(this)};function go(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Qs(e)}M.setRequestHeader=function(e,t){this.v.append(e,t)};M.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};M.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Qs(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(ba.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var NC=K.JSON.parse;function _e(e){He.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=C0,this.K=this.L=!1}Je(_e,He);var C0="",AC=/^https?$/i,DC=["POST","PUT"];M=_e.prototype;M.Ka=function(e){this.L=e};M.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():dh.g(),this.C=this.u?hm(this.u):hm(dh),this.g.onreadystatechange=lt(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){pm(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=K.FormData&&e instanceof K.FormData,!(0<=Bv(DC,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{N0(this),0<this.B&&((this.K=RC(this.g))?(this.g.timeout=this.B,this.g.ontimeout=lt(this.qa,this)):this.A=Bf(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){pm(this,s)}};function RC(e){return Ci&&Qk()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}M.qa=function(){typeof Rf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xe(this,"timeout"),this.abort(8))};function pm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,x0(e),Ba(e)}function x0(e){e.D||(e.D=!0,Xe(e,"complete"),Xe(e,"error"))}M.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Xe(this,"complete"),Xe(this,"abort"),Ba(this))};M.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ba(this,!0)),_e.X.M.call(this)};M.Ha=function(){this.s||(this.F||this.v||this.l?I0(this):this.fb())};M.fb=function(){I0(this)};function I0(e){if(e.h&&typeof Rf<"u"&&(!e.C[1]||yn(e)!=4||e.aa()!=2)){if(e.v&&yn(e)==4)Bf(e.Ha,0,e);else if(Xe(e,"readystatechange"),yn(e)==4){e.h=!1;try{const l=e.aa();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=l===0){var i=String(e.H).match(m0)[1]||null;if(!i&&K.self&&K.self.location){var s=K.self.location.protocol;i=s.substr(0,s.length-1)}r=!AC.test(i?i.toLowerCase():"")}n=r}if(n)Xe(e,"complete"),Xe(e,"success");else{e.m=6;try{var o=2<yn(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.aa()+"]",x0(e)}}finally{Ba(e)}}}}function Ba(e,t){if(e.g){N0(e);const n=e.g,r=e.C[0]?Kl:null;e.g=null,e.C=null,t||Xe(e,"ready");try{n.onreadystatechange=r}catch{}}}function N0(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(K.clearTimeout(e.A),e.A=null)}function yn(e){return e.g?e.g.readyState:0}M.aa=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}};M.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};M.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),NC(t)}};function mm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case C0:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}M.Ea=function(){return this.m};M.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function A0(e){let t="";return Lf(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Qf(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=A0(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):me(e,t,n))}function Zi(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function D0(e){this.Ca=0,this.i=[],this.j=new La,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Zi("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Zi("baseRetryDelayMs",5e3,e),this.bb=Zi("retryDelaySeedMs",1e4,e),this.$a=Zi("forwardChannelMaxRetries",2,e),this.ta=Zi("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new w0(e&&e.concurrentRequestLimit),this.Fa=new CC,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}M=D0.prototype;M.ma=8;M.G=1;function Gf(e){if(R0(e),e.G==3){var t=e.U++,n=Cn(e.F);me(n,"SID",e.I),me(n,"RID",t),me(n,"TYPE","terminate"),yo(e,n),t=new fo(e,e.j,t,void 0),t.K=2,t.v=Va(Cn(n)),n=!1,K.navigator&&K.navigator.sendBeacon&&(n=K.navigator.sendBeacon(t.v.toString(),"")),!n&&K.Image&&(new Image().src=t.v,n=!0),n||(t.g=V0(t.l,null),t.g.da(t.v)),t.F=Date.now(),po(t)}F0(e)}function za(e){e.g&&(Yf(e),e.g.cancel(),e.g=null)}function R0(e){za(e),e.u&&(K.clearTimeout(e.u),e.u=null),Yl(e),e.h.cancel(),e.m&&(typeof e.m=="number"&&K.clearTimeout(e.m),e.m=null)}function ja(e){E0(e.h)||e.m||(e.m=!0,Zv(e.Ja,e),e.C=0)}function OC(e,t){return S0(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.D.concat(e.i),!0):e.G==1||e.G==2||e.C>=(e.Za?0:e.$a)?!1:(e.m=co(lt(e.Ja,e,t),M0(e,e.C)),e.C++,!0)}M.Ja=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new fo(this,this.j,e,void 0);let s=this.s;if(this.S&&(s?(s=Kv(s),Wv(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=O0(this,i,t),n=Cn(this.F),me(n,"RID",e),me(n,"CVER",22),this.D&&me(n,"X-HTTP-Session-Id",this.D),yo(this,n),s&&(this.N?t="headers="+encodeURIComponent(String(A0(s)))+"&"+t:this.o&&Qf(n,this.o,s)),Kf(this.h,i),this.Ya&&me(n,"TYPE","init"),this.O?(me(n,"$req",t),me(n,"SID","null"),i.Z=!0,mh(i,n,null)):mh(i,n,t),this.G=2}}else this.G==3&&(e?gm(this,e):this.i.length==0||E0(this.h)||gm(this))};function gm(e,t){var n;t?n=t.m:n=e.U++;const r=Cn(e.F);me(r,"SID",e.I),me(r,"RID",n),me(r,"AID",e.T),yo(e,r),e.o&&e.s&&Qf(r,e.o,e.s),n=new fo(e,e.j,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=O0(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Kf(e.h,n),mh(n,r,t)}function yo(e,t){e.ia&&Lf(e.ia,function(n,r){me(t,r,n)}),e.l&&p0({},function(n,r){me(t,r,n)})}function O0(e,t,n){n=Math.min(e.i.length,n);var r=e.l?lt(e.l.Ra,e.l,e):null;e:{var i=e.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let a=0;a<n;a++){let u=i[a].h;const c=i[a].g;if(u-=s,0>u)s=Math.max(0,i[a].h-100),l=!1;else try{xC(c,o,"req"+u+"_")}catch{r&&r(c)}}if(l){r=o.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function P0(e){e.g||e.u||(e.Z=1,Zv(e.Ia,e),e.A=0)}function Xf(e){return e.g||e.u||3<=e.A?!1:(e.Z++,e.u=co(lt(e.Ia,e),M0(e,e.A)),e.A++,!0)}M.Ia=function(){if(this.u=null,L0(this),this.$&&!(this.K||this.g==null||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=co(lt(this.eb,this),e)}};M.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,mt(10),za(this),L0(this))};function Yf(e){e.B!=null&&(K.clearTimeout(e.B),e.B=null)}function L0(e){e.g=new fo(e,e.j,"rpc",e.Z),e.o===null&&(e.g.H=e.s),e.g.N=0;var t=Cn(e.sa);me(t,"RID","rpc"),me(t,"SID",e.I),me(t,"CI",e.L?"0":"1"),me(t,"AID",e.T),me(t,"TYPE","xmlhttp"),yo(e,t),e.o&&e.s&&Qf(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Va(Cn(t)),n.s=null,n.P=!0,c0(n,e)}M.cb=function(){this.v!=null&&(this.v=null,za(this),Xf(this),mt(19))};function Yl(e){e.v!=null&&(K.clearTimeout(e.v),e.v=null)}function $0(e,t){var n=null;if(e.g==t){Yl(e),Yf(e),e.g=null;var r=2}else if(yh(e.h,t))n=t.D,_0(e.h,t),r=1;else return;if(e.G!=0){if(e.pa=t.Y,t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=$a(),Xe(r,new o0(r,n)),ja(e)}else P0(e);else if(i=t.o,i==3||i==0&&0<e.pa||!(r==1&&OC(e,t)||r==2&&Xf(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:wr(e,5);break;case 4:wr(e,10);break;case 3:wr(e,6);break;default:wr(e,2)}}}function M0(e,t){let n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function wr(e,t){if(e.j.info("Error code "+t),t==2){var n=null;e.l&&(n=null);var r=lt(e.kb,e);n||(n=new kr("//www.google.com/images/cleardot.gif"),K.location&&K.location.protocol=="http"||Gl(n,"https"),Va(n)),IC(n.toString(),r)}else mt(2);e.G=0,e.l&&e.l.va(t),F0(e),R0(e)}M.kb=function(e){e?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function F0(e){if(e.G=0,e.la=[],e.l){const t=T0(e.h);(t.length!=0||e.i.length!=0)&&(sm(e.la,t),sm(e.la,e.i),e.h.i.length=0,Of(e.i),e.i.length=0),e.l.ua()}}function U0(e,t,n){var r=n instanceof kr?Cn(n):new kr(n,void 0);if(r.g!="")t&&(r.g=t+"."+r.g),Xl(r,r.m);else{var i=K.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new kr(null,void 0);r&&Gl(s,r),t&&(s.g=t),i&&Xl(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.za,n&&t&&me(r,n,t),me(r,"VER",e.ma),yo(e,r),r}function V0(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Da&&!e.ra?new _e(new mo({jb:!0})):new _e(e.ra),t.Ka(e.H),t}function b0(){}M=b0.prototype;M.xa=function(){};M.wa=function(){};M.va=function(){};M.ua=function(){};M.Ra=function(){};function Jl(){if(Ci&&!(10<=Number(Gk)))throw Error("Environmental error: no available transport.")}Jl.prototype.g=function(e,t){return new Rt(e,t)};function Rt(e,t){He.call(this),this.g=new D0(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Wl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Wl(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Vi(this)}Je(Rt,He);Rt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;mt(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=U0(e,null,e.V),ja(e)};Rt.prototype.close=function(){Gf(this.g)};Rt.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Vf(e),e=n);t.i.push(new TC(t.ab++,e)),t.G==3&&ja(t)};Rt.prototype.M=function(){this.g.l=null,delete this.j,Gf(this.g),delete this.g,Rt.X.M.call(this)};function B0(e){jf.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Je(B0,jf);function z0(){Hf.call(this),this.status=1}Je(z0,Hf);function Vi(e){this.g=e}Je(Vi,b0);Vi.prototype.xa=function(){Xe(this.g,"a")};Vi.prototype.wa=function(e){Xe(this.g,new B0(e))};Vi.prototype.va=function(e){Xe(this.g,new z0)};Vi.prototype.ua=function(){Xe(this.g,"b")};Jl.prototype.createWebChannel=Jl.prototype.g;Rt.prototype.send=Rt.prototype.u;Rt.prototype.open=Rt.prototype.m;Rt.prototype.close=Rt.prototype.close;Ma.NO_ERROR=0;Ma.TIMEOUT=8;Ma.HTTP_ERROR=6;l0.COMPLETE="complete";a0.EventType=ho;ho.OPEN="a";ho.CLOSE="b";ho.ERROR="c";ho.MESSAGE="d";He.prototype.listen=He.prototype.N;_e.prototype.listenOnce=_e.prototype.O;_e.prototype.getLastError=_e.prototype.Oa;_e.prototype.getLastErrorCode=_e.prototype.Ea;_e.prototype.getStatus=_e.prototype.aa;_e.prototype.getResponseJson=_e.prototype.Sa;_e.prototype.getResponseText=_e.prototype.fa;_e.prototype.send=_e.prototype.da;_e.prototype.setWithCredentials=_e.prototype.Ka;var PC=function(){return new Jl},LC=function(){return $a()},Hu=Ma,$C=l0,MC=Vr,ym={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},FC=mo,Wo=a0,UC=_e;const vm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rt.UNAUTHENTICATED=new rt(null),rt.GOOGLE_CREDENTIALS=new rt("google-credentials-uid"),rt.FIRST_PARTY=new rt("first-party-uid"),rt.MOCK_USER=new rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bi="9.17.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new Ov("@firebase/firestore");function wm(){return Pr.logLevel}function V(e,...t){if(Pr.logLevel<=ie.DEBUG){const n=t.map(Jf);Pr.debug(`Firestore (${bi}): ${e}`,...n)}}function xn(e,...t){if(Pr.logLevel<=ie.ERROR){const n=t.map(Jf);Pr.error(`Firestore (${bi}): ${e}`,...n)}}function vh(e,...t){if(Pr.logLevel<=ie.WARN){const n=t.map(Jf);Pr.warn(`Firestore (${bi}): ${e}`,...n)}}function Jf(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H(e="Unexpected state"){const t=`FIRESTORE (${bi}) INTERNAL ASSERTION FAILED: `+e;throw xn(t),new Error(t)}function ae(e,t){e||H()}function G(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class z extends Ur{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class VC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(rt.UNAUTHENTICATED))}shutdown(){}}class bC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class BC{constructor(t){this.t=t,this.currentUser=rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=a=>this.i!==r?(r=this.i,n(a)):Promise.resolve();let s=new Jn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Jn,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const a=s;t.enqueueRetryable(async()=>{await a.promise,await i(this.currentUser)})},l=a=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(a=>l(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?l(a):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Jn)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ae(typeof r.accessToken=="string"),new j0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ae(t===null||typeof t=="string"),new rt(t)}}class zC{constructor(t,n,r,i){this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=rt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ae(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class jC{constructor(t,n,r,i){this.h=t,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new zC(this.h,this.l,this.m,this.g))}start(t,n){t.enqueueRetryable(()=>n(rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HC{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KC{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,n){const r=s=>{s.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ae(typeof n.token=="string"),this.A=n.token,new HC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=WC(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function se(e,t){return e<t?-1:e>t?1:0}function xi(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new z(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new z(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new z(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Fe.fromMillis(Date.now())}static fromDate(t){return Fe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Fe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?se(this.nanoseconds,t.nanoseconds):se(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Q(t)}static min(){return new Q(new Fe(0,0))}static max(){return new Q(new Fe(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t,n,r){n===void 0?n=0:n>t.length&&H(),r===void 0?r=t.length-n:r>t.length-n&&H(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Gs.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Gs?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class ge extends Gs{construct(t,n,r){return new ge(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new z(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ge(n)}static emptyPath(){return new ge([])}}const qC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends Gs{construct(t,n,r){return new ot(t,n,r)}static isValidIdentifier(t){return qC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ot(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new z(x.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const l=t[i];if(l==="\\"){if(i+1===t.length)throw new z(x.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const a=t[i+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new z(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new z(x.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ot(n)}static emptyPath(){return new ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(t){this.path=t}static fromPath(t){return new B(ge.fromString(t))}static fromName(t){return new B(ge.fromString(t).popFirst(5))}static empty(){return new B(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ge.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ge.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new B(new ge(t.slice()))}}function QC(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Q.fromTimestamp(r===1e9?new Fe(n+1,0):new Fe(n,r));return new rr(i,B.empty(),t)}function GC(e){return new rr(e.readTime,e.key,-1)}class rr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new rr(Q.min(),B.empty(),-1)}static max(){return new rr(Q.max(),B.empty(),-1)}}function XC(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=B.comparator(e.documentKey,t.documentKey),n!==0?n:se(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(e){if(e.code!==x.FAILED_PRECONDITION||e.message!==YC)throw e;V("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&H(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new I((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof I?n:I.resolve(n)}catch(n){return I.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):I.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):I.reject(n)}static resolve(t){return new I((n,r)=>{n(t)})}static reject(t){return new I((n,r)=>{r(t)})}static waitFor(t){return new I((n,r)=>{let i=0,s=0,o=!1;t.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},a=>r(a))}),o=!0,s===i&&n()})}static or(t){let n=I.resolve(!1);for(const r of t)n=n.next(i=>i?I.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new I((r,i)=>{const s=t.length,o=new Array(s);let l=0;for(let a=0;a<s;a++){const u=a;n(t[u]).next(c=>{o[u]=c,++l,l===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new I((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function wo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}Zf.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(t,n,r,i,s,o,l,a){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.useFetchStreams=a}}class Xs{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Xs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Xs&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Bi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function K0(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(e){return e==null}function Zl(e){return e===0&&1/e==-1/0}function ex(e){return typeof e=="number"&&Number.isInteger(e)&&!Zl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(i){throw i instanceof DOMException?new tx("Invalid base64 string: "+i):i}}(t);return new ct(n)}static fromUint8Array(t){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(t);return new ct(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return se(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ct.EMPTY_BYTE_STRING=new ct("");const nx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(e){if(ae(!!e),typeof e=="string"){let t=0;const n=nx.exec(e);if(ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:De(e.seconds),nanos:De(e.nanos)}}function De(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ii(e){return typeof e=="string"?ct.fromBase64String(e):ct.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function q0(e){const t=e.mapValue.fields.__previous_value__;return W0(t)?q0(t):t}function Ys(e){const t=ir(e.mapValue.fields.__local_write_time__.timestampValue);return new Fe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Lr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?W0(e)?4:rx(e)?9007199254740991:10:H()}function un(e,t){if(e===t)return!0;const n=Lr(e);if(n!==Lr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ys(e).isEqual(Ys(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ir(r.timestampValue),o=ir(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return Ii(r.bytesValue).isEqual(Ii(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return De(r.geoPointValue.latitude)===De(i.geoPointValue.latitude)&&De(r.geoPointValue.longitude)===De(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return De(r.integerValue)===De(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=De(r.doubleValue),o=De(i.doubleValue);return s===o?Zl(s)===Zl(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return xi(e.arrayValue.values||[],t.arrayValue.values||[],un);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Em(s)!==Em(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!un(s[l],o[l])))return!1;return!0}(e,t);default:return H()}}function Js(e,t){return(e.values||[]).find(n=>un(n,t))!==void 0}function Ni(e,t){if(e===t)return 0;const n=Lr(e),r=Lr(t);if(n!==r)return se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=De(i.integerValue||i.doubleValue),l=De(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return Sm(e.timestampValue,t.timestampValue);case 4:return Sm(Ys(e),Ys(t));case 5:return se(e.stringValue,t.stringValue);case 6:return function(i,s){const o=Ii(i),l=Ii(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let a=0;a<o.length&&a<l.length;a++){const u=se(o[a],l[a]);if(u!==0)return u}return se(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=se(De(i.latitude),De(s.latitude));return o!==0?o:se(De(i.longitude),De(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){const o=i.values||[],l=s.values||[];for(let a=0;a<o.length&&a<l.length;++a){const u=Ni(o[a],l[a]);if(u)return u}return se(o.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){if(i===qo.mapValue&&s===qo.mapValue)return 0;if(i===qo.mapValue)return 1;if(s===qo.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),a=s.fields||{},u=Object.keys(a);l.sort(),u.sort();for(let c=0;c<l.length&&c<u.length;++c){const f=se(l[c],u[c]);if(f!==0)return f;const d=Ni(o[l[c]],a[u[c]]);if(d!==0)return d}return se(l.length,u.length)}(e.mapValue,t.mapValue);default:throw H()}}function Sm(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return se(e,t);const n=ir(e),r=ir(t),i=se(n.seconds,r.seconds);return i!==0?i:se(n.nanos,r.nanos)}function Ai(e){return wh(e)}function wh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const i=ir(r);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ii(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,B.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=wh(o);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${wh(r.fields[l])}`;return s+"}"}(e.mapValue):H();var t,n}function Eh(e){return!!e&&"integerValue"in e}function ed(e){return!!e&&"arrayValue"in e}function _m(e){return!!e&&"nullValue"in e}function Tm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function hl(e){return!!e&&"mapValue"in e}function ws(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Bi(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=ws(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ws(e.arrayValue.values[n]);return t}return Object.assign({},e)}function rx(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(t,n){this.position=t,this.inclusive=n}}function km(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=B.comparator(B.fromName(o.referenceValue),n.key):r=Ni(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Cm(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!un(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{}class Le extends Q0{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new sx(t,n,r):n==="array-contains"?new ax(t,r):n==="in"?new ux(t,r):n==="not-in"?new cx(t,r):n==="array-contains-any"?new hx(t,r):new Le(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new ox(t,r):new lx(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ni(n,this.value)):n!==null&&Lr(this.value)===Lr(n)&&this.matchesComparison(Ni(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return H()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class cn extends Q0{constructor(t,n){super(),this.filters=t,this.op=n,this.ft=null}static create(t,n){return new cn(t,n)}matches(t){return G0(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ft!==null||(this.ft=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.dt(n=>n.isInequality());return t!==null?t.field:null}dt(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function G0(e){return e.op==="and"}function X0(e){return ix(e)&&G0(e)}function ix(e){for(const t of e.filters)if(t instanceof cn)return!1;return!0}function Sh(e){if(e instanceof Le)return e.field.canonicalString()+e.op.toString()+Ai(e.value);if(X0(e))return e.filters.map(t=>Sh(t)).join(",");{const t=e.filters.map(n=>Sh(n)).join(",");return`${e.op}(${t})`}}function Y0(e,t){return e instanceof Le?function(n,r){return r instanceof Le&&n.op===r.op&&n.field.isEqual(r.field)&&un(n.value,r.value)}(e,t):e instanceof cn?function(n,r){return r instanceof cn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&Y0(s,r.filters[o]),!0):!1}(e,t):void H()}function J0(e){return e instanceof Le?function(t){return`${t.field.canonicalString()} ${t.op} ${Ai(t.value)}`}(e):e instanceof cn?function(t){return t.op.toString()+" {"+t.getFilters().map(J0).join(" ,")+"}"}(e):"Filter"}class sx extends Le{constructor(t,n,r){super(t,n,r),this.key=B.fromName(r.referenceValue)}matches(t){const n=B.comparator(t.key,this.key);return this.matchesComparison(n)}}class ox extends Le{constructor(t,n){super(t,"in",n),this.keys=Z0("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class lx extends Le{constructor(t,n){super(t,"not-in",n),this.keys=Z0("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Z0(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>B.fromName(r.referenceValue))}class ax extends Le{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ed(n)&&Js(n.arrayValue,this.value)}}class ux extends Le{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Js(this.value.arrayValue,n)}}class cx extends Le{constructor(t,n){super(t,"not-in",n)}matches(t){if(Js(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Js(this.value.arrayValue,n)}}class hx extends Le{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ed(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Js(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(t,n="asc"){this.field=t,this.dir=n}}function fx(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t,n){this.comparator=t,this.root=n||Qe.EMPTY}insert(t,n){return new Ve(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new Ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qo(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qo(this.root,t,this.comparator,!0)}}class Qo{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Qe.RED,this.left=i??Qe.EMPTY,this.right=s??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Qe(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Qe.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw H();const t=this.left.check();if(t!==this.right.check())throw H();return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw H()}get value(){throw H()}get color(){throw H()}get left(){throw H()}get right(){throw H()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Qe(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(t){this.comparator=t,this.data=new Ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new xm(this.data.getIterator())}getIteratorFrom(t){return new xm(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ue(this.comparator);return n.data=t,n}}class xm{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(t){this.fields=t,t.sort(ot.comparator)}static empty(){return new Qt([])}unionWith(t){let n=new Ue(ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Qt(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return xi(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(t){this.value=t}static empty(){return new Ft({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!hl(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ws(n)}setAll(t){let n=ot.emptyPath(),r={},i=[];t.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const a=this.getFieldsMap(n);this.applyChanges(a,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=ws(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());hl(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return un(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];hl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Bi(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Ft(ws(this.value))}}function e1(e){const t=[];return Bi(e.fields,(n,r)=>{const i=new ot([n]);if(hl(r)){const s=e1(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Qt(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t,n,r,i,s,o,l){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(t){return new st(t,0,Q.min(),Q.min(),Q.min(),Ft.empty(),0)}static newFoundDocument(t,n,r,i){return new st(t,1,n,Q.min(),r,i,0)}static newNoDocument(t,n){return new st(t,2,n,Q.min(),Q.min(),Ft.empty(),0)}static newUnknownDocument(t,n){return new st(t,3,n,Q.min(),Q.min(),Ft.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ft.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof st&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new st(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(t,n=null,r=[],i=[],s=null,o=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this._t=null}}function Im(e,t=null,n=[],r=[],i=null,s=null,o=null){return new dx(e,t,n,r,i,s,o)}function td(e){const t=G(e);if(t._t===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Sh(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ha(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Ai(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Ai(r)).join(",")),t._t=n}return t._t}function nd(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!fx(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Y0(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Cm(e.startAt,t.startAt)&&Cm(e.endAt,t.endAt)}function _h(e){return B.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t,n=null,r=[],i=[],s=null,o="F",l=null,a=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=a,this.wt=null,this.gt=null,this.startAt,this.endAt}}function px(e,t,n,r,i,s,o,l){return new Ka(e,t,n,r,i,s,o,l)}function t1(e){return new Ka(e)}function Nm(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function mx(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function gx(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function yx(e){return e.collectionGroup!==null}function di(e){const t=G(e);if(t.wt===null){t.wt=[];const n=gx(t),r=mx(t);if(n!==null&&r===null)n.isKeyField()||t.wt.push(new Es(n)),t.wt.push(new Es(ot.keyField(),"asc"));else{let i=!1;for(const s of t.explicitOrderBy)t.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Es(ot.keyField(),s))}}}return t.wt}function In(e){const t=G(e);if(!t.gt)if(t.limitType==="F")t.gt=Im(t.path,t.collectionGroup,di(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const s of di(t)){const o=s.dir==="desc"?"asc":"desc";n.push(new Es(s.field,o))}const r=t.endAt?new ea(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new ea(t.startAt.position,t.startAt.inclusive):null;t.gt=Im(t.path,t.collectionGroup,n,t.filters,t.limit,r,i)}return t.gt}function Th(e,t,n){return new Ka(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Wa(e,t){return nd(In(e),In(t))&&e.limitType===t.limitType}function n1(e){return`${td(In(e))}|lt:${e.limitType}`}function kh(e){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>J0(r)).join(", ")}]`),Ha(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Ai(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Ai(r)).join(",")),`Target(${n})`}(In(e))}; limitType=${e.limitType})`}function qa(e,t){return t.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):B.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(const i of di(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(i,s,o){const l=km(i,s,o);return i.inclusive?l<=0:l<0}(n.startAt,di(n),r)||n.endAt&&!function(i,s,o){const l=km(i,s,o);return i.inclusive?l>=0:l>0}(n.endAt,di(n),r))}(e,t)}function vx(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function r1(e){return(t,n)=>{let r=!1;for(const i of di(e)){const s=wx(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function wx(e,t,n){const r=e.field.isKeyField()?B.comparator(t.key,n.key):function(i,s,o){const l=s.data.field(i),a=o.data.field(i);return l!==null&&a!==null?Ni(l,a):H()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return H()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(e,t){if(e.yt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zl(t)?"-0":t}}function s1(e){return{integerValue:""+e}}function Ex(e,t){return ex(t)?s1(t):i1(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this._=void 0}}function Sx(e,t,n){return e instanceof ta?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof Zs?l1(e,t):e instanceof eo?a1(e,t):function(r,i){const s=o1(r,i),o=Am(s)+Am(r.It);return Eh(s)&&Eh(r.It)?s1(o):i1(r.Tt,o)}(e,t)}function _x(e,t,n){return e instanceof Zs?l1(e,t):e instanceof eo?a1(e,t):n}function o1(e,t){return e instanceof na?Eh(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}class ta extends Qa{}class Zs extends Qa{constructor(t){super(),this.elements=t}}function l1(e,t){const n=u1(t);for(const r of e.elements)n.some(i=>un(i,r))||n.push(r);return{arrayValue:{values:n}}}class eo extends Qa{constructor(t){super(),this.elements=t}}function a1(e,t){let n=u1(t);for(const r of e.elements)n=n.filter(i=>!un(i,r));return{arrayValue:{values:n}}}class na extends Qa{constructor(t,n){super(),this.Tt=t,this.It=n}}function Am(e){return De(e.integerValue||e.doubleValue)}function u1(e){return ed(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Tx(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof Zs&&r instanceof Zs||n instanceof eo&&r instanceof eo?xi(n.elements,r.elements,un):n instanceof na&&r instanceof na?un(n.It,r.It):n instanceof ta&&r instanceof ta}(e.transform,t.transform)}class kx{constructor(t,n){this.version=t,this.transformResults=n}}class wn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new wn}static exists(t){return new wn(void 0,t)}static updateTime(t){return new wn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function fl(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Ga{}function c1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new f1(e.key,wn.none()):new Eo(e.key,e.data,wn.none());{const n=e.data,r=Ft.empty();let i=new Ue(ot.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new br(e.key,r,new Qt(i.toArray()),wn.none())}}function Cx(e,t,n){e instanceof Eo?function(r,i,s){const o=r.value.clone(),l=Rm(r.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof br?function(r,i,s){if(!fl(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Rm(r.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(h1(r)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Ss(e,t,n,r){return e instanceof Eo?function(i,s,o,l){if(!fl(i.precondition,s))return o;const a=i.value.clone(),u=Om(i.fieldTransforms,l,s);return a.setAll(u),s.convertToFoundDocument(s.version,a).setHasLocalMutations(),null}(e,t,n,r):e instanceof br?function(i,s,o,l){if(!fl(i.precondition,s))return o;const a=Om(i.fieldTransforms,l,s),u=s.data;return u.setAll(h1(i)),u.setAll(a),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(e,t,n,r):function(i,s,o){return fl(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function xx(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=o1(r.transform,i||null);s!=null&&(n===null&&(n=Ft.empty()),n.set(r.field,s))}return n||null}function Dm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&xi(n,r,(i,s)=>Tx(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Eo extends Ga{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class br extends Ga{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function h1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Rm(e,t,n){const r=new Map;ae(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,l=t.data.field(s.field);r.set(s.field,_x(o,l,n[i]))}return r}function Om(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Sx(s,o,t))}return r}class f1 extends Ga{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ix extends Ga{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(t){this.count=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,te;function Ax(e){switch(e){default:return H();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function d1(e){if(e===void 0)return xn("GRPC error has no .code"),x.UNKNOWN;switch(e){case Ae.OK:return x.OK;case Ae.CANCELLED:return x.CANCELLED;case Ae.UNKNOWN:return x.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return x.INTERNAL;case Ae.UNAVAILABLE:return x.UNAVAILABLE;case Ae.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Ae.NOT_FOUND:return x.NOT_FOUND;case Ae.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Ae.ABORTED:return x.ABORTED;case Ae.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Ae.DATA_LOSS:return x.DATA_LOSS;default:return H()}}(te=Ae||(Ae={}))[te.OK=0]="OK",te[te.CANCELLED=1]="CANCELLED",te[te.UNKNOWN=2]="UNKNOWN",te[te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",te[te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",te[te.NOT_FOUND=5]="NOT_FOUND",te[te.ALREADY_EXISTS=6]="ALREADY_EXISTS",te[te.PERMISSION_DENIED=7]="PERMISSION_DENIED",te[te.UNAUTHENTICATED=16]="UNAUTHENTICATED",te[te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",te[te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",te[te.ABORTED=10]="ABORTED",te[te.OUT_OF_RANGE=11]="OUT_OF_RANGE",te[te.UNIMPLEMENTED=12]="UNIMPLEMENTED",te[te.INTERNAL=13]="INTERNAL",te[te.UNAVAILABLE=14]="UNAVAILABLE",te[te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Bi(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return K0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=new Ve(B.comparator);function Nn(){return Dx}const p1=new Ve(B.comparator);function as(...e){let t=p1;for(const n of e)t=t.insert(n.key,n);return t}function m1(e){let t=p1;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Er(){return _s()}function g1(){return _s()}function _s(){return new zi(e=>e.toString(),(e,t)=>e.isEqual(t))}const Rx=new Ve(B.comparator),Ox=new Ue(B.comparator);function Z(...e){let t=Ox;for(const n of e)t=t.add(n);return t}const Px=new Ue(se);function y1(){return Px}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,So.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Xa(Q.min(),i,y1(),Nn(),Z())}}class So{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new So(r,n,Z(),Z(),Z())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(t,n,r,i){this.Et=t,this.removedTargetIds=n,this.key=r,this.At=i}}class v1{constructor(t,n){this.targetId=t,this.Rt=n}}class w1{constructor(t,n,r=ct.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Pm{constructor(){this.bt=0,this.vt=$m(),this.Pt=ct.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.Pt}get Dt(){return this.bt!==0}get Ct(){return this.St}xt(t){t.approximateByteSize()>0&&(this.St=!0,this.Pt=t)}Nt(){let t=Z(),n=Z(),r=Z();return this.vt.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:H()}}),new So(this.Pt,this.Vt,t,n,r)}kt(){this.St=!1,this.vt=$m()}Ot(t,n){this.St=!0,this.vt=this.vt.insert(t,n)}Mt(t){this.St=!0,this.vt=this.vt.remove(t)}Ft(){this.bt+=1}$t(){this.bt-=1}Bt(){this.St=!0,this.Vt=!0}}class Lx{constructor(t){this.Lt=t,this.qt=new Map,this.Ut=Nn(),this.Kt=Lm(),this.Gt=new Ue(se)}Qt(t){for(const n of t.Et)t.At&&t.At.isFoundDocument()?this.jt(n,t.At):this.zt(n,t.key,t.At);for(const n of t.removedTargetIds)this.zt(n,t.key,t.At)}Wt(t){this.forEachTarget(t,n=>{const r=this.Ht(n);switch(t.state){case 0:this.Jt(n)&&r.xt(t.resumeToken);break;case 1:r.$t(),r.Dt||r.kt(),r.xt(t.resumeToken);break;case 2:r.$t(),r.Dt||this.removeTarget(n);break;case 3:this.Jt(n)&&(r.Bt(),r.xt(t.resumeToken));break;case 4:this.Jt(n)&&(this.Yt(n),r.xt(t.resumeToken));break;default:H()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qt.forEach((r,i)=>{this.Jt(i)&&n(i)})}Zt(t){const n=t.targetId,r=t.Rt.count,i=this.Xt(n);if(i){const s=i.target;if(_h(s))if(r===0){const o=new B(s.path);this.zt(n,o,st.newNoDocument(o,Q.min()))}else ae(r===1);else this.te(n)!==r&&(this.Yt(n),this.Gt=this.Gt.add(n))}}ee(t){const n=new Map;this.qt.forEach((s,o)=>{const l=this.Xt(o);if(l){if(s.current&&_h(l.target)){const a=new B(l.target.path);this.Ut.get(a)!==null||this.ne(o,a)||this.zt(o,a,st.newNoDocument(a,t))}s.Ct&&(n.set(o,s.Nt()),s.kt())}});let r=Z();this.Kt.forEach((s,o)=>{let l=!0;o.forEachWhile(a=>{const u=this.Xt(a);return!u||u.purpose===2||(l=!1,!1)}),l&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(t));const i=new Xa(t,n,this.Gt,this.Ut,r);return this.Ut=Nn(),this.Kt=Lm(),this.Gt=new Ue(se),i}jt(t,n){if(!this.Jt(t))return;const r=this.ne(t,n.key)?2:0;this.Ht(t).Ot(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.Kt=this.Kt.insert(n.key,this.se(n.key).add(t))}zt(t,n,r){if(!this.Jt(t))return;const i=this.Ht(t);this.ne(t,n)?i.Ot(n,1):i.Mt(n),this.Kt=this.Kt.insert(n,this.se(n).delete(t)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(t){this.qt.delete(t)}te(t){const n=this.Ht(t).Nt();return this.Lt.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ft(t){this.Ht(t).Ft()}Ht(t){let n=this.qt.get(t);return n||(n=new Pm,this.qt.set(t,n)),n}se(t){let n=this.Kt.get(t);return n||(n=new Ue(se),this.Kt=this.Kt.insert(t,n)),n}Jt(t){const n=this.Xt(t)!==null;return n||V("WatchChangeAggregator","Detected inactive target",t),n}Xt(t){const n=this.qt.get(t);return n&&n.Dt?null:this.Lt.ie(t)}Yt(t){this.qt.set(t,new Pm),this.Lt.getRemoteKeysForTarget(t).forEach(n=>{this.zt(t,n,null)})}ne(t,n){return this.Lt.getRemoteKeysForTarget(t).has(n)}}function Lm(){return new Ve(B.comparator)}function $m(){return new Ve(B.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Mx=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Fx=(()=>({and:"AND",or:"OR"}))();class Ux{constructor(t,n){this.databaseId=t,this.yt=n}}function ra(e,t){return e.yt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function E1(e,t){return e.yt?t.toBase64():t.toUint8Array()}function Vx(e,t){return ra(e,t.toTimestamp())}function an(e){return ae(!!e),Q.fromTimestamp(function(t){const n=ir(t);return new Fe(n.seconds,n.nanos)}(e))}function rd(e,t){return function(n){return new ge(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function S1(e){const t=ge.fromString(e);return ae(C1(t)),t}function Ch(e,t){return rd(e.databaseId,t.path)}function Ku(e,t){const n=S1(t);if(n.get(1)!==e.databaseId.projectId)throw new z(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new z(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new B(_1(n))}function xh(e,t){return rd(e.databaseId,t)}function bx(e){const t=S1(e);return t.length===4?ge.emptyPath():_1(t)}function Ih(e){return new ge(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _1(e){return ae(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Mm(e,t,n){return{name:Ch(e,t),fields:n.value.mapValue.fields}}function Bx(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(a){return a==="NO_CHANGE"?0:a==="ADD"?1:a==="REMOVE"?2:a==="CURRENT"?3:a==="RESET"?4:H()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(a,u){return a.yt?(ae(u===void 0||typeof u=="string"),ct.fromBase64String(u||"")):(ae(u===void 0||u instanceof Uint8Array),ct.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,l=o&&function(a){const u=a.code===void 0?x.UNKNOWN:d1(a.code);return new z(u,a.message||"")}(o);n=new w1(r,i,s,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ku(e,r.document.name),s=an(r.document.updateTime),o=r.document.createTime?an(r.document.createTime):Q.min(),l=new Ft({mapValue:{fields:r.document.fields}}),a=st.newFoundDocument(i,s,o,l),u=r.targetIds||[],c=r.removedTargetIds||[];n=new dl(u,c,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ku(e,r.document),s=r.readTime?an(r.readTime):Q.min(),o=st.newNoDocument(i,s),l=r.removedTargetIds||[];n=new dl([],l,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ku(e,r.document),s=r.removedTargetIds||[];n=new dl([],s,i,null)}else{if(!("filter"in t))return H();{t.filter;const r=t.filter;r.targetId;const i=r.count||0,s=new Nx(i),o=r.targetId;n=new v1(o,s)}}return n}function zx(e,t){let n;if(t instanceof Eo)n={update:Mm(e,t.key,t.value)};else if(t instanceof f1)n={delete:Ch(e,t.key)};else if(t instanceof br)n={update:Mm(e,t.key,t.data),updateMask:Yx(t.fieldMask)};else{if(!(t instanceof Ix))return H();n={verify:Ch(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ta)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Zs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof eo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof na)return{fieldPath:s.field.canonicalString(),increment:o.It};throw H()}(0,r))),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Vx(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:H()}(e,t.precondition)),n}function jx(e,t){return e&&e.length>0?(ae(t!==void 0),e.map(n=>function(r,i){let s=r.updateTime?an(r.updateTime):an(i);return s.isEqual(Q.min())&&(s=an(i)),new kx(s,r.transformResults||[])}(n,t))):[]}function Hx(e,t){return{documents:[xh(e,t.path)]}}function Kx(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=xh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=xh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(a){if(a.length!==0)return k1(cn.create(a,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(a){if(a.length!==0)return a.map(u=>function(c){return{field:Kr(c.field),direction:Qx(c.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(a,u){return a.yt||Ha(u)?u:{value:u}}(e,t.limit);var l;return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(n.structuredQuery.endAt=function(a){return{before:!a.inclusive,values:a.position}}(t.endAt)),n}function Wx(e){let t=bx(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ae(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(c){const f=T1(c);return f instanceof cn&&X0(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(f){return new Es(Wr(f.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(c)));let l=null;n.limit&&(l=function(c){let f;return f=typeof c=="object"?c.value:c,Ha(f)?null:f}(n.limit));let a=null;n.startAt&&(a=function(c){const f=!!c.before,d=c.values||[];return new ea(d,f)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const f=!c.before,d=c.values||[];return new ea(d,f)}(n.endAt)),px(t,i,o,s,l,"F",a,u)}function qx(e,t){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return H()}}(0,t.purpose);return n==null?null:{"goog-listen-tags":n}}function T1(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Wr(t.unaryFilter.field);return Le.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Wr(t.unaryFilter.field);return Le.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wr(t.unaryFilter.field);return Le.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Wr(t.unaryFilter.field);return Le.create(s,"!=",{nullValue:"NULL_VALUE"});default:return H()}}(e):e.fieldFilter!==void 0?function(t){return Le.create(Wr(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return H()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return cn.create(t.compositeFilter.filters.map(n=>T1(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return H()}}(t.compositeFilter.op))}(e):H()}function Qx(e){return $x[e]}function Gx(e){return Mx[e]}function Xx(e){return Fx[e]}function Kr(e){return{fieldPath:e.canonicalString()}}function Wr(e){return ot.fromServerFormat(e.fieldPath)}function k1(e){return e instanceof Le?function(t){if(t.op==="=="){if(Tm(t.value))return{unaryFilter:{field:Kr(t.field),op:"IS_NAN"}};if(_m(t.value))return{unaryFilter:{field:Kr(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Tm(t.value))return{unaryFilter:{field:Kr(t.field),op:"IS_NOT_NAN"}};if(_m(t.value))return{unaryFilter:{field:Kr(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kr(t.field),op:Gx(t.op),value:t.value}}}(e):e instanceof cn?function(t){const n=t.getFilters().map(r=>k1(r));return n.length===1?n[0]:{compositeFilter:{op:Xx(t.op),filters:n}}}(e):H()}function Yx(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function C1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&Cx(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Ss(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Ss(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=g1();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const a=c1(o,l);a!==null&&r.set(i.key,a),o.isValidDocument()||o.convertToNoDocument(Q.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Z())}isEqual(t){return this.batchId===t.batchId&&xi(this.mutations,t.mutations,(n,r)=>Dm(n,r))&&xi(this.baseMutations,t.baseMutations,(n,r)=>Dm(n,r))}}class id{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){ae(t.mutations.length===r.length);let i=Rx;const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new id(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(t,n,r,i,s=Q.min(),o=Q.min(),l=ct.EMPTY_BYTE_STRING){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l}withSequenceNumber(t){return new Cr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,n){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t){this.oe=t}}function tI(e){const t=Wx({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Th(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.Ze=new rI}addToCollectionParentIndex(t,n){return this.Ze.add(n),I.resolve()}getCollectionParents(t,n){return I.resolve(this.Ze.getEntries(n))}addFieldIndex(t,n){return I.resolve()}deleteFieldIndex(t,n){return I.resolve()}getDocumentsMatchingTarget(t,n){return I.resolve(null)}getIndexType(t,n){return I.resolve(0)}getFieldIndexes(t,n){return I.resolve([])}getNextCollectionGroupToUpdate(t){return I.resolve(null)}getMinOffset(t,n){return I.resolve(rr.min())}getMinOffsetFromCollectionGroup(t,n){return I.resolve(rr.min())}updateCollectionGroup(t,n,r){return I.resolve()}updateIndexEntries(t,n){return I.resolve()}}class rI{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Ue(ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Ue(ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(t){this.Pn=t}next(){return this.Pn+=2,this.Pn}static Vn(){return new Di(0)}static Sn(){return new Di(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.changes=new zi(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,st.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?I.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Ss(r.mutation,i,Qt.empty(),Fe.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Z()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Z()){const i=Er();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=as();return s.forEach((l,a)=>{o=o.insert(l,a.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Er();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Z()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(t,n,r,i){let s=Nn();const o=_s(),l=_s();return n.forEach((a,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof br)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Ss(c.mutation,u,c.mutation.getFieldMask(),Fe.now())):o.set(u.key,Qt.empty())}),this.recalculateAndSaveOverlays(t,s).next(a=>(a.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var f;return l.set(u,new sI(c,(f=o.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(t,n){const r=_s();let i=new Ve((o,l)=>o-l),s=Z();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const l of o)l.keys().forEach(a=>{const u=n.get(a);if(u===null)return;let c=r.get(a)||Qt.empty();c=l.applyToLocalView(u,c),r.set(a,c);const f=(i.get(l.batchId)||Z()).add(a);i=i.insert(l.batchId,f)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const a=l.getNext(),u=a.key,c=a.value,f=g1();c.forEach(d=>{if(!s.has(d)){const y=c1(n.get(d),r.get(d));y!==null&&f.set(d,y),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,f))}return I.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r){return function(i){return B.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):yx(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r):this.getDocumentsMatchingCollectionQuery(t,n,r)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):I.resolve(Er());let l=-1,a=s;return o.next(u=>I.forEach(u,(c,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),s.get(c)?I.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{a=a.insert(c,d)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,a,u,Z())).next(c=>({batchId:l,changes:m1(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new B(n)).next(r=>{let i=as();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r){const i=n.collectionGroup;let s=as();return this.indexManager.getCollectionParents(t,i).next(o=>I.forEach(o,l=>{const a=function(u,c){return new Ka(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,a,r).next(u=>{u.forEach((c,f)=>{s=s.insert(c,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i))).next(s=>{i.forEach((l,a)=>{const u=a.getKey();s.get(u)===null&&(s=s.insert(u,st.newInvalidDocument(u)))});let o=as();return s.forEach((l,a)=>{const u=i.get(l);u!==void 0&&Ss(u.mutation,a,Qt.empty(),Fe.now()),qa(n,a)&&(o=o.insert(l,a))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(t){this.Tt=t,this.es=new Map,this.ns=new Map}getBundleMetadata(t,n){return I.resolve(this.es.get(n))}saveBundleMetadata(t,n){var r;return this.es.set(n.id,{id:(r=n).id,version:r.version,createTime:an(r.createTime)}),I.resolve()}getNamedQuery(t,n){return I.resolve(this.ns.get(n))}saveNamedQuery(t,n){return this.ns.set(n.name,function(r){return{name:r.name,query:tI(r.bundledQuery),readTime:an(r.readTime)}}(n)),I.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.overlays=new Ve(B.comparator),this.ss=new Map}getOverlay(t,n){return I.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Er();return I.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.ce(t,n,s)}),I.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.ss.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ss.delete(r)),I.resolve()}getOverlaysForCollection(t,n,r){const i=Er(),s=n.length+1,o=new B(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const a=l.getNext().value,u=a.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&a.largestBatchId>r&&i.set(a.getKey(),a)}return I.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new Ve((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Er(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const l=Er(),a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((u,c)=>l.set(u,c)),!(l.size()>=i)););return I.resolve(l)}ce(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ss.get(i.largestBatchId).delete(r.key);this.ss.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Zx(n,r));let s=this.ss.get(n);s===void 0&&(s=Z(),this.ss.set(n,s)),this.ss.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this.rs=new Ue(Be.os),this.us=new Ue(Be.cs)}isEmpty(){return this.rs.isEmpty()}addReference(t,n){const r=new Be(t,n);this.rs=this.rs.add(r),this.us=this.us.add(r)}hs(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.ls(new Be(t,n))}fs(t,n){t.forEach(r=>this.removeReference(r,n))}ds(t){const n=new B(new ge([])),r=new Be(n,t),i=new Be(n,t+1),s=[];return this.us.forEachInRange([r,i],o=>{this.ls(o),s.push(o.key)}),s}_s(){this.rs.forEach(t=>this.ls(t))}ls(t){this.rs=this.rs.delete(t),this.us=this.us.delete(t)}ws(t){const n=new B(new ge([])),r=new Be(n,t),i=new Be(n,t+1);let s=Z();return this.us.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new Be(t,0),r=this.rs.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Be{constructor(t,n){this.key=t,this.gs=n}static os(t,n){return B.comparator(t.key,n.key)||se(t.gs,n.gs)}static cs(t,n){return se(t.gs,n.gs)||B.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new Ue(Be.os)}checkEmpty(t){return I.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Jx(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.ps=this.ps.add(new Be(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return I.resolve(o)}lookupMutationBatch(t,n){return I.resolve(this.Is(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Ts(r),s=i<0?0:i;return I.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(this.mutationQueue.length===0?-1:this.ys-1)}getAllMutationBatches(t){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Be(n,0),i=new Be(n,Number.POSITIVE_INFINITY),s=[];return this.ps.forEachInRange([r,i],o=>{const l=this.Is(o.gs);s.push(l)}),I.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ue(se);return n.forEach(i=>{const s=new Be(i,0),o=new Be(i,Number.POSITIVE_INFINITY);this.ps.forEachInRange([s,o],l=>{r=r.add(l.gs)})}),I.resolve(this.Es(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;B.isDocumentKey(s)||(s=s.child(""));const o=new Be(new B(s),0);let l=new Ue(se);return this.ps.forEachWhile(a=>{const u=a.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(a.gs)),!0)},o),I.resolve(this.Es(l))}Es(t){const n=[];return t.forEach(r=>{const i=this.Is(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){ae(this.As(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.ps;return I.forEach(n.mutations,i=>{const s=new Be(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.ps=r})}bn(t){}containsKey(t,n){const r=new Be(n,0),i=this.ps.firstAfterOrEqual(r);return I.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,I.resolve()}As(t,n){return this.Ts(t)}Ts(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Is(t){const n=this.Ts(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(t){this.Rs=t,this.docs=new Ve(B.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Rs(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return I.resolve(r?r.document.mutableCopy():st.newInvalidDocument(n))}getEntries(t,n){let r=Nn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():st.newInvalidDocument(i))}),I.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Nn();const o=n.path,l=new B(o.child("")),a=this.docs.getIteratorFrom(l);for(;a.hasNext();){const{key:u,value:{document:c}}=a.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||XC(GC(c),r)<=0||(i.has(c.key)||qa(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return I.resolve(s)}getAllFromCollectionGroup(t,n,r,i){H()}bs(t,n){return I.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new hI(this)}getSize(t){return I.resolve(this.size)}}class hI extends iI{constructor(t){super(),this.Xn=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Xn.addEntry(t,i)):this.Xn.removeEntry(r)}),I.waitFor(n)}getFromCache(t,n){return this.Xn.getEntry(t,n)}getAllFromCache(t,n){return this.Xn.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t){this.persistence=t,this.vs=new zi(n=>td(n),nd),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.Ps=0,this.Vs=new sd,this.targetCount=0,this.Ss=Di.Vn()}forEachTarget(t,n){return this.vs.forEach((r,i)=>n(i)),I.resolve()}getLastRemoteSnapshotVersion(t){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return I.resolve(this.Ps)}allocateTargetId(t){return this.highestTargetId=this.Ss.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ps&&(this.Ps=n),I.resolve()}xn(t){this.vs.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ss=new Di(n),this.highestTargetId=n),t.sequenceNumber>this.Ps&&(this.Ps=t.sequenceNumber)}addTargetData(t,n){return this.xn(n),this.targetCount+=1,I.resolve()}updateTargetData(t,n){return this.xn(n),I.resolve()}removeTargetData(t,n){return this.vs.delete(n.target),this.Vs.ds(n.targetId),this.targetCount-=1,I.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.vs.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.vs.delete(o),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),i++)}),I.waitFor(s).next(()=>i)}getTargetCount(t){return I.resolve(this.targetCount)}getTargetData(t,n){const r=this.vs.get(n)||null;return I.resolve(r)}addMatchingKeys(t,n,r){return this.Vs.hs(n,r),I.resolve()}removeMatchingKeys(t,n,r){this.Vs.fs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),I.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Vs.ds(n),I.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Vs.ws(n);return I.resolve(r)}containsKey(t,n){return I.resolve(this.Vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(t,n){this.Ds={},this.overlays={},this.Cs=new Zf(0),this.xs=!1,this.xs=!0,this.referenceDelegate=t(this),this.Ns=new fI(this),this.indexManager=new nI,this.remoteDocumentCache=function(r){return new cI(r)}(r=>this.referenceDelegate.ks(r)),this.Tt=new eI(n),this.Os=new lI(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new aI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Ds[t.toKey()];return r||(r=new uI(n,this.referenceDelegate),this.Ds[t.toKey()]=r),r}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Os}runTransaction(t,n,r){V("MemoryPersistence","Starting transaction:",t);const i=new pI(this.Cs.next());return this.referenceDelegate.Ms(),r(i).next(s=>this.referenceDelegate.Fs(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}$s(t,n){return I.or(Object.values(this.Ds).map(r=>()=>r.containsKey(t,n)))}}class pI extends JC{constructor(t){super(),this.currentSequenceNumber=t}}class od{constructor(t){this.persistence=t,this.Bs=new sd,this.Ls=null}static qs(t){return new od(t)}get Us(){if(this.Ls)return this.Ls;throw H()}addReference(t,n,r){return this.Bs.addReference(r,n),this.Us.delete(r.toString()),I.resolve()}removeReference(t,n,r){return this.Bs.removeReference(r,n),this.Us.add(r.toString()),I.resolve()}markPotentiallyOrphaned(t,n){return this.Us.add(n.toString()),I.resolve()}removeTarget(t,n){this.Bs.ds(n.targetId).forEach(i=>this.Us.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Us.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ms(){this.Ls=new Set}Fs(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Us,r=>{const i=B.fromPath(r);return this.Ks(t,i).next(s=>{s||n.removeEntry(i,Q.min())})}).next(()=>(this.Ls=null,n.apply(t)))}updateLimboDocument(t,n){return this.Ks(t,n).next(r=>{r?this.Us.delete(n.toString()):this.Us.add(n.toString())})}ks(t){return 0}Ks(t,n){return I.or([()=>I.resolve(this.Bs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.$s(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Ci=r,this.xi=i}static Ni(t,n){let r=Z(),i=Z();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ld(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.ki=!1}initialize(t,n){this.Oi=t,this.indexManager=n,this.ki=!0}getDocumentsMatchingQuery(t,n,r,i){return this.Mi(t,n).next(s=>s||this.Fi(t,n,i,r)).next(s=>s||this.$i(t,n))}Mi(t,n){if(Nm(n))return I.resolve(null);let r=In(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Th(n,null,"F"),r=In(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=Z(...s);return this.Oi.getDocuments(t,o).next(l=>this.indexManager.getMinOffset(t,r).next(a=>{const u=this.Bi(n,l);return this.Li(n,u,o,a.readTime)?this.Mi(t,Th(n,null,"F")):this.qi(t,u,n,a)}))})))}Fi(t,n,r,i){return Nm(n)||i.isEqual(Q.min())?this.$i(t,n):this.Oi.getDocuments(t,r).next(s=>{const o=this.Bi(n,s);return this.Li(n,o,r,i)?this.$i(t,n):(wm()<=ie.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kh(n)),this.qi(t,o,n,QC(i,-1)))})}Bi(t,n){let r=new Ue(r1(t));return n.forEach((i,s)=>{qa(t,s)&&(r=r.add(s))}),r}Li(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}$i(t,n){return wm()<=ie.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",kh(n)),this.Oi.getDocumentsMatchingQuery(t,n,rr.min())}qi(t,n,r,i){return this.Oi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t,n,r,i){this.persistence=t,this.Ui=n,this.Tt=i,this.Ki=new Ve(se),this.Gi=new zi(s=>td(s),nd),this.Qi=new Map,this.ji=t.getRemoteDocumentCache(),this.Ns=t.getTargetCache(),this.Os=t.getBundleCache(),this.zi(r)}zi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new oI(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ki))}}function yI(e,t,n,r){return new gI(e,t,n,r)}async function x1(e,t){const n=G(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.zi(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let a=Z();for(const u of i){o.push(u.batchId);for(const c of u.mutations)a=a.add(c.key)}for(const u of s){l.push(u.batchId);for(const c of u.mutations)a=a.add(c.key)}return n.localDocuments.getDocuments(r,a).next(u=>({Wi:u,removedBatchIds:o,addedBatchIds:l}))})})}function vI(e,t){const n=G(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.ji.newChangeBuffer({trackRemovals:!0});return function(o,l,a,u){const c=a.batch,f=c.keys();let d=I.resolve();return f.forEach(y=>{d=d.next(()=>u.getEntry(l,y)).next(v=>{const w=a.docVersions.get(y);ae(w!==null),v.version.compareTo(w)<0&&(c.applyToRemoteDocument(v,a),v.isValidDocument()&&(v.setReadTime(a.commitVersion),u.addEntry(v)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(l,c))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Z();for(let a=0;a<o.mutationResults.length;++a)o.mutationResults[a].transformResults.length>0&&(l=l.add(o.batch.mutations[a].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function I1(e){const t=G(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ns.getLastRemoteSnapshotVersion(n))}function wI(e,t){const n=G(e),r=t.snapshotVersion;let i=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ji.newChangeBuffer({trackRemovals:!0});i=n.Ki;const l=[];t.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;l.push(n.Ns.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Ns.addMatchingKeys(s,c.addedDocuments,f)));let y=d.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.has(f)?y=y.withResumeToken(ct.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):c.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(c.resumeToken,r)),i=i.insert(f,y),function(v,w,T){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(d,y,c)&&l.push(n.Ns.updateTargetData(s,y))});let a=Nn(),u=Z();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),l.push(EI(s,o,t.documentUpdates).next(c=>{a=c.Hi,u=c.Ji})),!r.isEqual(Q.min())){const c=n.Ns.getLastRemoteSnapshotVersion(s).next(f=>n.Ns.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(c)}return I.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,a,u)).next(()=>a)}).then(s=>(n.Ki=i,s))}function EI(e,t,n){let r=Z(),i=Z();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Nn();return n.forEach((l,a)=>{const u=s.get(l);a.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),a.isNoDocument()&&a.version.isEqual(Q.min())?(t.removeEntry(l,a.readTime),o=o.insert(l,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||a.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(a),o=o.insert(l,a)):V("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",a.version)}),{Hi:o,Ji:i}})}function SI(e,t){const n=G(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function _I(e,t){const n=G(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ns.getTargetData(r,t).next(s=>s?(i=s,I.resolve(i)):n.Ns.allocateTargetId(r).next(o=>(i=new Cr(t,o,0,r.currentSequenceNumber),n.Ns.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ki.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(r.targetId,r),n.Gi.set(t,r.targetId)),r})}async function Nh(e,t,n){const r=G(e),i=r.Ki.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!wo(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ki=r.Ki.remove(t),r.Gi.delete(i.target)}function Fm(e,t,n){const r=G(e);let i=Q.min(),s=Z();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,a,u){const c=G(l),f=c.Gi.get(u);return f!==void 0?I.resolve(c.Ki.get(f)):c.Ns.getTargetData(a,u)}(r,o,In(t)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(o,l.targetId).next(a=>{s=a})}).next(()=>r.Ui.getDocumentsMatchingQuery(o,t,n?i:Q.min(),n?s:Z())).next(l=>(TI(r,vx(t),l),{documents:l,Yi:s})))}function TI(e,t,n){let r=e.Qi.get(t)||Q.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.Qi.set(t,r)}class Um{constructor(){this.activeTargetIds=y1()}sr(t){this.activeTargetIds=this.activeTargetIds.add(t)}ir(t){this.activeTargetIds=this.activeTargetIds.delete(t)}nr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class kI{constructor(){this.Ur=new Um,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.Ur.sr(t),this.Kr[t]||"not-current"}updateQueryState(t,n,r){this.Kr[t]=n}removeLocalQueryTarget(t){this.Ur.ir(t)}isLocalQueryTarget(t){return this.Ur.activeTargetIds.has(t)}clearQueryState(t){delete this.Kr[t]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(t){return this.Ur.activeTargetIds.has(t)}start(){return this.Ur=new Um,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{Gr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(t){this.Hr.push(t)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Hr)t(0)}Wr(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Hr)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t){this.Yr=t.Yr,this.Zr=t.Zr}Xr(t){this.eo=t}no(t){this.so=t}onMessage(t){this.io=t}close(){this.Zr()}send(t){this.Yr(t)}ro(){this.eo()}oo(t){this.so(t)}uo(t){this.io(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.co=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(t,n,r,i,s){const o=this.fo(t,n);V("RestConnection","Sending: ",o,r);const l={};return this._o(l,i,s),this.wo(t,o,l,r).then(a=>(V("RestConnection","Received: ",a),a),a=>{throw vh("RestConnection",`${t} failed with error: `,a,"url: ",o,"request:",r),a})}mo(t,n,r,i,s,o){return this.lo(t,n,r,i,s)}_o(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+bi,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}fo(t,n){const r=xI[t];return`${this.co}/v1/${n}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}wo(t,n,r,i){return new Promise((s,o)=>{const l=new UC;l.setWithCredentials(!0),l.listenOnce($C.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Hu.NO_ERROR:const u=l.getResponseJson();V("Connection","XHR received:",JSON.stringify(u)),s(u);break;case Hu.TIMEOUT:V("Connection",'RPC "'+t+'" timed out'),o(new z(x.DEADLINE_EXCEEDED,"Request time out"));break;case Hu.HTTP_ERROR:const c=l.getStatus();if(V("Connection",'RPC "'+t+'" failed with status:',c,"response text:",l.getResponseText()),c>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f==null?void 0:f.error;if(d&&d.status&&d.message){const y=function(v){const w=v.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(w)>=0?w:x.UNKNOWN}(d.status);o(new z(y,d.message))}else o(new z(x.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new z(x.UNAVAILABLE,"Connection failed."));break;default:H()}}finally{V("Connection",'RPC "'+t+'" completed.')}});const a=JSON.stringify(i);l.send(n,"POST",a,r,15)})}yo(t,n,r){const i=[this.co,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=PC(),o=LC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new FC({})),this._o(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const a=i.join("");V("Connection","Creating WebChannel: "+a,l);const u=s.createWebChannel(a,l);let c=!1,f=!1;const d=new II({Yr:v=>{f?V("Connection","Not sending because WebChannel is closed:",v):(c||(V("Connection","Opening WebChannel transport."),u.open(),c=!0),V("Connection","WebChannel sending:",v),u.send(v))},Zr:()=>u.close()}),y=(v,w,T)=>{v.listen(w,p=>{try{T(p)}catch(h){setTimeout(()=>{throw h},0)}})};return y(u,Wo.EventType.OPEN,()=>{f||V("Connection","WebChannel transport opened.")}),y(u,Wo.EventType.CLOSE,()=>{f||(f=!0,V("Connection","WebChannel transport closed"),d.oo())}),y(u,Wo.EventType.ERROR,v=>{f||(f=!0,vh("Connection","WebChannel transport errored:",v),d.oo(new z(x.UNAVAILABLE,"The operation could not be completed")))}),y(u,Wo.EventType.MESSAGE,v=>{var w;if(!f){const T=v.data[0];ae(!!T);const p=T,h=p.error||((w=p[0])===null||w===void 0?void 0:w.error);if(h){V("Connection","WebChannel received error:",h);const m=h.status;let E=function(D){const R=Ae[D];if(R!==void 0)return d1(R)}(m),k=h.message;E===void 0&&(E=x.INTERNAL,k="Unknown error status: "+m+" with message "+h.message),f=!0,d.oo(new z(E,k)),u.close()}else V("Connection","WebChannel received:",T),d.uo(T)}}),y(o,MC.STAT_EVENT,v=>{v.stat===ym.PROXY?V("Connection","Detected buffering proxy"):v.stat===ym.NOPROXY&&V("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.ro()},0),d}}function Wu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(e){return new Ux(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(t,n,r=1e3,i=1.5,s=6e4){this.Ys=t,this.timerId=n,this.po=r,this.Io=i,this.To=s,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}bo(){this.Eo=this.To}vo(t){this.cancel();const n=Math.floor(this.Eo+this.Po()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Eo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,()=>(this.Ro=Date.now(),t())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){this.Ao!==null&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){this.Ao!==null&&(this.Ao.cancel(),this.Ao=null)}Po(){return(Math.random()-.5)*this.Eo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t,n,r,i,s,o,l,a){this.Ys=t,this.So=r,this.Do=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=a,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new N1(t,n)}Oo(){return this.state===1||this.state===5||this.Mo()}Mo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Fo()}async stop(){this.Oo()&&await this.close(0)}$o(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&this.xo===null&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(t){this.Uo(),this.stream.send(t)}async Lo(){if(this.Mo())return this.close(0)}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}async close(t,n){this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,t!==4?this.ko.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(xn(n.toString()),xn("Using maximum backoff delay to prevent overloading the backend."),this.ko.bo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Go(),this.stream.close(),this.stream=null),this.state=t,await this.listener.no(n)}Go(){}auth(){this.state=1;const t=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Co===n&&this.jo(r,i)},r=>{t(()=>{const i=new z(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.zo(i)})})}jo(t,n){const r=this.Qo(this.Co);this.stream=this.Wo(t,n),this.stream.Xr(()=>{r(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(i=>{r(()=>this.zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Fo(){this.state=5,this.ko.vo(async()=>{this.state=0,this.start()})}zo(t){return V("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Qo(t){return n=>{this.Ys.enqueueAndForget(()=>this.Co===t?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AI extends A1{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.Tt=s}Wo(t,n){return this.connection.yo("Listen",t,n)}onMessage(t){this.ko.reset();const n=Bx(this.Tt,t),r=function(i){if(!("targetChange"in i))return Q.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Q.min():s.readTime?an(s.readTime):Q.min()}(t);return this.listener.Ho(n,r)}Jo(t){const n={};n.database=Ih(this.Tt),n.addTarget=function(i,s){let o;const l=s.target;return o=_h(l)?{documents:Hx(i,l)}:{query:Kx(i,l)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=E1(i,s.resumeToken):s.snapshotVersion.compareTo(Q.min())>0&&(o.readTime=ra(i,s.snapshotVersion.toTimestamp())),o}(this.Tt,t);const r=qx(this.Tt,t);r&&(n.labels=r),this.qo(n)}Yo(t){const n={};n.database=Ih(this.Tt),n.removeTarget=t,this.qo(n)}}class DI extends A1{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.Tt=s,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(t,n){return this.connection.yo("Write",t,n)}onMessage(t){if(ae(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Zo){this.ko.reset();const n=jx(t.writeResults,t.commitTime),r=an(t.commitTime);return this.listener.eu(r,n)}return ae(!t.writeResults||t.writeResults.length===0),this.Zo=!0,this.listener.nu()}su(){const t={};t.database=Ih(this.Tt),this.qo(t)}tu(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>zx(this.Tt,r))};this.qo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.Tt=i,this.iu=!1}ru(){if(this.iu)throw new z(x.FAILED_PRECONDITION,"The client has already been terminated.")}lo(t,n,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.lo(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new z(x.UNKNOWN,i.toString())})}mo(t,n,r,i){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.mo(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(x.UNKNOWN,s.toString())})}terminate(){this.iu=!0}}class OI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){this.ou===0&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(t){this.state==="Online"?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.hu("Offline")))}set(t){this.du(),this.ou=0,t==="Online"&&(this.cu=!1),this.hu(t)}hu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}lu(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(xn(n),this.cu=!1):V("OnlineStateTracker",n)}du(){this.uu!==null&&(this.uu.cancel(),this.uu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=s,this.yu.Gr(o=>{r.enqueueAndForget(async()=>{Br(this)&&(V("RemoteStore","Restarting streams for network reachability change."),await async function(l){const a=G(l);a.mu.add(4),await _o(a),a.pu.set("Unknown"),a.mu.delete(4),await Ja(a)}(this))})}),this.pu=new OI(r,i)}}async function Ja(e){if(Br(e))for(const t of e.gu)await t(!0)}async function _o(e){for(const t of e.gu)await t(!1)}function D1(e,t){const n=G(e);n.wu.has(t.targetId)||(n.wu.set(t.targetId,t),cd(n)?ud(n):ji(n).Mo()&&ad(n,t))}function R1(e,t){const n=G(e),r=ji(n);n.wu.delete(t),r.Mo()&&O1(n,t),n.wu.size===0&&(r.Mo()?r.Bo():Br(n)&&n.pu.set("Unknown"))}function ad(e,t){e.Iu.Ft(t.targetId),ji(e).Jo(t)}function O1(e,t){e.Iu.Ft(t),ji(e).Yo(t)}function ud(e){e.Iu=new Lx({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ie:t=>e.wu.get(t)||null}),ji(e).start(),e.pu.au()}function cd(e){return Br(e)&&!ji(e).Oo()&&e.wu.size>0}function Br(e){return G(e).mu.size===0}function P1(e){e.Iu=void 0}async function LI(e){e.wu.forEach((t,n)=>{ad(e,t)})}async function $I(e,t){P1(e),cd(e)?(e.pu.fu(t),ud(e)):e.pu.set("Unknown")}async function MI(e,t,n){if(e.pu.set("Online"),t instanceof w1&&t.state===2&&t.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.wu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.wu.delete(o),r.Iu.removeTarget(o))}(e,t)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ia(e,r)}else if(t instanceof dl?e.Iu.Qt(t):t instanceof v1?e.Iu.Zt(t):e.Iu.Wt(t),!n.isEqual(Q.min()))try{const r=await I1(e.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Iu.ee(s);return o.targetChanges.forEach((l,a)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.wu.get(a);u&&i.wu.set(a,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach(l=>{const a=i.wu.get(l);if(!a)return;i.wu.set(l,a.withResumeToken(ct.EMPTY_BYTE_STRING,a.snapshotVersion)),O1(i,l);const u=new Cr(a.target,l,1,a.sequenceNumber);ad(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){V("RemoteStore","Failed to raise snapshot:",r),await ia(e,r)}}async function ia(e,t,n){if(!wo(t))throw t;e.mu.add(1),await _o(e),e.pu.set("Offline"),n||(n=()=>I1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{V("RemoteStore","Retrying IndexedDB access"),await n(),e.mu.delete(1),await Ja(e)})}function L1(e,t){return t().catch(n=>ia(e,n,t))}async function Za(e){const t=G(e),n=sr(t);let r=t._u.length>0?t._u[t._u.length-1].batchId:-1;for(;FI(t);)try{const i=await SI(t.localStore,r);if(i===null){t._u.length===0&&n.Bo();break}r=i.batchId,UI(t,i)}catch(i){await ia(t,i)}$1(t)&&M1(t)}function FI(e){return Br(e)&&e._u.length<10}function UI(e,t){e._u.push(t);const n=sr(e);n.Mo()&&n.Xo&&n.tu(t.mutations)}function $1(e){return Br(e)&&!sr(e).Oo()&&e._u.length>0}function M1(e){sr(e).start()}async function VI(e){sr(e).su()}async function bI(e){const t=sr(e);for(const n of e._u)t.tu(n.mutations)}async function BI(e,t,n){const r=e._u.shift(),i=id.from(r,t,n);await L1(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Za(e)}async function zI(e,t){t&&sr(e).Xo&&await async function(n,r){if(i=r.code,Ax(i)&&i!==x.ABORTED){const s=n._u.shift();sr(n).$o(),await L1(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Za(n)}var i}(e,t),$1(e)&&M1(e)}async function bm(e,t){const n=G(e);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");const r=Br(n);n.mu.add(3),await _o(n),r&&n.pu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.mu.delete(3),await Ja(n)}async function jI(e,t){const n=G(e);t?(n.mu.delete(2),await Ja(n)):t||(n.mu.add(2),await _o(n),n.pu.set("Unknown"))}function ji(e){return e.Tu||(e.Tu=function(t,n,r){const i=G(t);return i.ru(),new AI(n,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(e.datastore,e.asyncQueue,{Xr:LI.bind(null,e),no:$I.bind(null,e),Ho:MI.bind(null,e)}),e.gu.push(async t=>{t?(e.Tu.$o(),cd(e)?ud(e):e.pu.set("Unknown")):(await e.Tu.stop(),P1(e))})),e.Tu}function sr(e){return e.Eu||(e.Eu=function(t,n,r){const i=G(t);return i.ru(),new DI(n,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(e.datastore,e.asyncQueue,{Xr:VI.bind(null,e),no:zI.bind(null,e),nu:bI.bind(null,e),eu:BI.bind(null,e)}),e.gu.push(async t=>{t?(e.Eu.$o(),await Za(e)):(await e.Eu.stop(),e._u.length>0&&(V("RemoteStore",`Stopping write stream with ${e._u.length} pending writes`),e._u=[]))})),e.Eu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,l=new hd(t,n,o,i,s);return l.start(r),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(x.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fd(e,t){if(xn("AsyncQueue",`${t}: ${e}`),wo(e))return new z(x.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(t){this.comparator=t?(n,r)=>t(n,r)||B.comparator(n.key,r.key):(n,r)=>B.comparator(n.key,r.key),this.keyedMap=as(),this.sortedSet=new Ve(this.comparator)}static emptySet(t){return new pi(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof pi)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new pi;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(){this.Au=new Ve(B.comparator)}track(t){const n=t.doc.key,r=this.Au.get(n);r?t.type!==0&&r.type===3?this.Au=this.Au.insert(n,t):t.type===3&&r.type!==1?this.Au=this.Au.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Au=this.Au.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Au=this.Au.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Au=this.Au.remove(n):t.type===1&&r.type===2?this.Au=this.Au.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Au=this.Au.insert(n,{type:2,doc:t.doc}):H():this.Au=this.Au.insert(n,t)}Ru(){const t=[];return this.Au.inorderTraversal((n,r)=>{t.push(r)}),t}}class Ri{constructor(t,n,r,i,s,o,l,a,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=a,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Ri(t,n,pi.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Wa(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.bu=void 0,this.listeners=[]}}class KI{constructor(){this.queries=new zi(t=>n1(t),Wa),this.onlineState="Unknown",this.vu=new Set}}async function WI(e,t){const n=G(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new HI),i)try{s.bu=await n.onListen(r)}catch(o){const l=fd(o,`Initialization of query '${kh(t.query)}' failed`);return void t.onError(l)}n.queries.set(r,s),s.listeners.push(t),t.Pu(n.onlineState),s.bu&&t.Vu(s.bu)&&dd(n)}async function qI(e,t){const n=G(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function QI(e,t){const n=G(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.listeners)l.Vu(i)&&(r=!0);o.bu=i}}r&&dd(n)}function GI(e,t,n){const r=G(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function dd(e){e.vu.forEach(t=>{t.next()})}class XI{constructor(t,n,r){this.query=t,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}Vu(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Ri(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Du?this.xu(t)&&(this.Su.next(t),n=!0):this.Nu(t,this.onlineState)&&(this.ku(t),n=!0),this.Cu=t,n}onError(t){this.Su.error(t)}Pu(t){this.onlineState=t;let n=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,t)&&(this.ku(this.Cu),n=!0),n}Nu(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ou||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}xu(t){if(t.docChanges.length>0)return!0;const n=this.Cu&&this.Cu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ku(t){t=Ri.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Du=!0,this.Su.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t){this.key=t}}class U1{constructor(t){this.key=t}}class YI{constructor(t,n){this.query=t,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Z(),this.mutatedKeys=Z(),this.ju=r1(t),this.zu=new pi(this.ju)}get Wu(){return this.Ku}Hu(t,n){const r=n?n.Ju:new Bm,i=n?n.zu:this.zu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const a=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const d=i.get(c),y=qa(this.query,f)?f:null,v=!!d&&this.mutatedKeys.has(d.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let T=!1;d&&y?d.data.isEqual(y.data)?v!==w&&(r.track({type:3,doc:y}),T=!0):this.Yu(d,y)||(r.track({type:2,doc:y}),T=!0,(a&&this.ju(y,a)>0||u&&this.ju(y,u)<0)&&(l=!0)):!d&&y?(r.track({type:0,doc:y}),T=!0):d&&!y&&(r.track({type:1,doc:d}),T=!0,(a||u)&&(l=!0)),T&&(y?(o=o.add(y),s=w?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{zu:o,Ju:r,Li:l,mutatedKeys:s}}Yu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.zu;this.zu=t.zu,this.mutatedKeys=t.mutatedKeys;const s=t.Ju.Ru();s.sort((u,c)=>function(f,d){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H()}};return y(f)-y(d)}(u.type,c.type)||this.ju(u.doc,c.doc)),this.Zu(r);const o=n?this.Xu():[],l=this.Qu.size===0&&this.current?1:0,a=l!==this.Gu;return this.Gu=l,s.length!==0||a?{snapshot:new Ri(this.query,t.zu,i,s,t.mutatedKeys,l===0,a,!1,!!r&&r.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}Pu(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new Bm,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(t){return!this.Ku.has(t)&&!!this.zu.has(t)&&!this.zu.get(t).hasLocalMutations}Zu(t){t&&(t.addedDocuments.forEach(n=>this.Ku=this.Ku.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ku=this.Ku.delete(n)),this.current=t.current)}Xu(){if(!this.current)return[];const t=this.Qu;this.Qu=Z(),this.zu.forEach(r=>{this.ec(r.key)&&(this.Qu=this.Qu.add(r.key))});const n=[];return t.forEach(r=>{this.Qu.has(r)||n.push(new U1(r))}),this.Qu.forEach(r=>{t.has(r)||n.push(new F1(r))}),n}nc(t){this.Ku=t.Yi,this.Qu=Z();const n=this.Hu(t.documents);return this.applyChanges(n,!0)}sc(){return Ri.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,this.Gu===0,this.hasCachedResults)}}class JI{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class ZI{constructor(t){this.key=t,this.ic=!1}}class eN{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new zi(l=>n1(l),Wa),this.uc=new Map,this.cc=new Set,this.ac=new Ve(B.comparator),this.hc=new Map,this.lc=new sd,this.fc={},this.dc=new Map,this._c=Di.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return this.wc===!0}}async function tN(e,t){const n=hN(e);let r,i;const s=n.oc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.sc();else{const o=await _I(n.localStore,In(t));n.isPrimaryClient&&D1(n.remoteStore,o);const l=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await nN(n,t,r,l==="current",o.resumeToken)}return i}async function nN(e,t,n,r,i){e.mc=(f,d,y)=>async function(v,w,T,p){let h=w.view.Hu(T);h.Li&&(h=await Fm(v.localStore,w.query,!1).then(({documents:k})=>w.view.Hu(k,h)));const m=p&&p.targetChanges.get(w.targetId),E=w.view.applyChanges(h,v.isPrimaryClient,m);return jm(v,w.targetId,E.tc),E.snapshot}(e,f,d,y);const s=await Fm(e.localStore,t,!0),o=new YI(t,s.Yi),l=o.Hu(s.documents),a=So.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(l,e.isPrimaryClient,a);jm(e,n,u.tc);const c=new JI(t,n,o);return e.oc.set(t,c),e.uc.has(n)?e.uc.get(n).push(t):e.uc.set(n,[t]),u.snapshot}async function rN(e,t){const n=G(e),r=n.oc.get(t),i=n.uc.get(r.targetId);if(i.length>1)return n.uc.set(r.targetId,i.filter(s=>!Wa(s,t))),void n.oc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Nh(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),R1(n.remoteStore,r.targetId),Ah(n,r.targetId)}).catch(vo)):(Ah(n,r.targetId),await Nh(n.localStore,r.targetId,!0))}async function iN(e,t,n){const r=fN(e);try{const i=await function(s,o){const l=G(s),a=Fe.now(),u=o.reduce((d,y)=>d.add(y.key),Z());let c,f;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let y=Nn(),v=Z();return l.ji.getEntries(d,u).next(w=>{y=w,y.forEach((T,p)=>{p.isValidDocument()||(v=v.add(T))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,y)).next(w=>{c=w;const T=[];for(const p of o){const h=xx(p,c.get(p.key).overlayedDocument);h!=null&&T.push(new br(p.key,h,e1(h.value.mapValue),wn.exists(!0)))}return l.mutationQueue.addMutationBatch(d,a,T,o)}).next(w=>{f=w;const T=w.applyToLocalDocumentSet(c,v);return l.documentOverlayCache.saveOverlays(d,w.batchId,T)})}).then(()=>({batchId:f.batchId,changes:m1(c)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let a=s.fc[s.currentUser.toKey()];a||(a=new Ve(se)),a=a.insert(o,l),s.fc[s.currentUser.toKey()]=a}(r,i.batchId,n),await To(r,i.changes),await Za(r.remoteStore)}catch(i){const s=fd(i,"Failed to persist write");n.reject(s)}}async function V1(e,t){const n=G(e);try{const r=await wI(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.hc.get(s);o&&(ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ic=!0:i.modifiedDocuments.size>0?ae(o.ic):i.removedDocuments.size>0&&(ae(o.ic),o.ic=!1))}),await To(n,r,t)}catch(r){await vo(r)}}function zm(e,t,n){const r=G(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.oc.forEach((s,o)=>{const l=o.view.Pu(t);l.snapshot&&i.push(l.snapshot)}),function(s,o){const l=G(s);l.onlineState=o;let a=!1;l.queries.forEach((u,c)=>{for(const f of c.listeners)f.Pu(o)&&(a=!0)}),a&&dd(l)}(r.eventManager,t),i.length&&r.rc.Ho(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function sN(e,t,n){const r=G(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.hc.get(t),s=i&&i.key;if(s){let o=new Ve(B.comparator);o=o.insert(s,st.newNoDocument(s,Q.min()));const l=Z().add(s),a=new Xa(Q.min(),new Map,new Ue(se),o,l);await V1(r,a),r.ac=r.ac.remove(s),r.hc.delete(t),pd(r)}else await Nh(r.localStore,t,!1).then(()=>Ah(r,t,n)).catch(vo)}async function oN(e,t){const n=G(e),r=t.batch.batchId;try{const i=await vI(n.localStore,t);B1(n,r,null),b1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await To(n,i)}catch(i){await vo(i)}}async function lN(e,t,n){const r=G(e);try{const i=await function(s,o){const l=G(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",a=>{let u;return l.mutationQueue.lookupMutationBatch(a,o).next(c=>(ae(c!==null),u=c.keys(),l.mutationQueue.removeMutationBatch(a,c))).next(()=>l.mutationQueue.performConsistencyCheck(a)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(a,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,u)).next(()=>l.localDocuments.getDocuments(a,u))})}(r.localStore,t);B1(r,t,n),b1(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await To(r,i)}catch(i){await vo(i)}}function b1(e,t){(e.dc.get(t)||[]).forEach(n=>{n.resolve()}),e.dc.delete(t)}function B1(e,t,n){const r=G(e);let i=r.fc[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.fc[r.currentUser.toKey()]=i}}function Ah(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.uc.get(t))e.oc.delete(r),n&&e.rc.gc(r,n);e.uc.delete(t),e.isPrimaryClient&&e.lc.ds(t).forEach(r=>{e.lc.containsKey(r)||z1(e,r)})}function z1(e,t){e.cc.delete(t.path.canonicalString());const n=e.ac.get(t);n!==null&&(R1(e.remoteStore,n),e.ac=e.ac.remove(t),e.hc.delete(n),pd(e))}function jm(e,t,n){for(const r of n)r instanceof F1?(e.lc.addReference(r.key,t),aN(e,r)):r instanceof U1?(V("SyncEngine","Document no longer in limbo: "+r.key),e.lc.removeReference(r.key,t),e.lc.containsKey(r.key)||z1(e,r.key)):H()}function aN(e,t){const n=t.key,r=n.path.canonicalString();e.ac.get(n)||e.cc.has(r)||(V("SyncEngine","New document in limbo: "+n),e.cc.add(r),pd(e))}function pd(e){for(;e.cc.size>0&&e.ac.size<e.maxConcurrentLimboResolutions;){const t=e.cc.values().next().value;e.cc.delete(t);const n=new B(ge.fromString(t)),r=e._c.next();e.hc.set(r,new ZI(n)),e.ac=e.ac.insert(n,r),D1(e.remoteStore,new Cr(In(t1(n.path)),r,2,Zf.at))}}async function To(e,t,n){const r=G(e),i=[],s=[],o=[];r.oc.isEmpty()||(r.oc.forEach((l,a)=>{o.push(r.mc(a,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=ld.Ni(a.targetId,u);s.push(c)}}))}),await Promise.all(o),r.rc.Ho(i),await async function(l,a){const u=G(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>I.forEach(a,f=>I.forEach(f.Ci,d=>u.persistence.referenceDelegate.addReference(c,f.targetId,d)).next(()=>I.forEach(f.xi,d=>u.persistence.referenceDelegate.removeReference(c,f.targetId,d)))))}catch(c){if(!wo(c))throw c;V("LocalStore","Failed to update sequence numbers: "+c)}for(const c of a){const f=c.targetId;if(!c.fromCache){const d=u.Ki.get(f),y=d.snapshotVersion,v=d.withLastLimboFreeSnapshotVersion(y);u.Ki=u.Ki.insert(f,v)}}}(r.localStore,s))}async function uN(e,t){const n=G(e);if(!n.currentUser.isEqual(t)){V("SyncEngine","User change. New user:",t.toKey());const r=await x1(n.localStore,t);n.currentUser=t,function(i,s){i.dc.forEach(o=>{o.forEach(l=>{l.reject(new z(x.CANCELLED,s))})}),i.dc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await To(n,r.Wi)}}function cN(e,t){const n=G(e),r=n.hc.get(t);if(r&&r.ic)return Z().add(r.key);{let i=Z();const s=n.uc.get(t);if(!s)return i;for(const o of s){const l=n.oc.get(o);i=i.unionWith(l.view.Wu)}return i}}function hN(e){const t=G(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=V1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sN.bind(null,t),t.rc.Ho=QI.bind(null,t.eventManager),t.rc.gc=GI.bind(null,t.eventManager),t}function fN(e){const t=G(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lN.bind(null,t),t}class dN{constructor(){this.synchronizeTabs=!1}async initialize(t){this.Tt=Ya(t.databaseInfo.databaseId),this.sharedClientState=this.Ic(t),this.persistence=this.Tc(t),await this.persistence.start(),this.localStore=this.Ec(t),this.gcScheduler=this.Ac(t,this.localStore),this.indexBackfillerScheduler=this.Rc(t,this.localStore)}Ac(t,n){return null}Rc(t,n){return null}Ec(t){return yI(this.persistence,new mI,t.initialUser,this.Tt)}Tc(t){return new dI(od.qs,this.Tt)}Ic(t){return new kI}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class pN{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uN.bind(null,this.syncEngine),await jI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new KI}createDatastore(t){const n=Ya(t.databaseInfo.databaseId),r=(i=t.databaseInfo,new NI(i));var i;return function(s,o,l,a){return new RI(s,o,l,a)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=l=>zm(this.syncEngine,l,0),o=Vm.C()?new Vm:new CI,new PI(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(t,n){return function(r,i,s,o,l,a,u){const c=new eN(r,i,s,o,l,a);return u&&(c.wc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=G(t);V("RemoteStore","RemoteStore shutting down."),n.mu.add(5),await _o(n),n.yu.shutdown(),n.pu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.vc(this.observer.next,t)}error(t){this.observer.error?this.vc(this.observer.error,t):xn("Uncaught Error in snapshot listener:",t.toString())}Pc(){this.muted=!0}vc(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=rt.UNAUTHENTICATED,this.clientId=H0.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{V("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(V("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new z(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=fd(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function yN(e,t){e.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await x1(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function vN(e,t){e.asyncQueue.verifyOperationInProgress();const n=await wN(e);V("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>bm(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>bm(t.remoteStore,s)),e.onlineComponents=t}async function wN(e){return e.offlineComponents||(V("FirestoreClient","Using default OfflineComponentProvider"),await yN(e,new dN)),e.offlineComponents}async function j1(e){return e.onlineComponents||(V("FirestoreClient","Using default OnlineComponentProvider"),await vN(e,new pN)),e.onlineComponents}function EN(e){return j1(e).then(t=>t.syncEngine)}async function SN(e){const t=await j1(e),n=t.eventManager;return n.onListen=tN.bind(null,t.syncEngine),n.onUnlisten=rN.bind(null,t.syncEngine),n}function _N(e,t,n={}){const r=new Jn;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,a){const u=new mN({next:f=>{s.enqueueAndForget(()=>qI(i,c)),f.fromCache&&l.source==="server"?a.reject(new z(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(f)},error:f=>a.reject(f)}),c=new XI(o,u,{includeMetadataChanges:!0,Ou:!0});return WI(i,c)}(await SN(e),e.asyncQueue,t,n,r)),r.promise}const Hm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(e,t,n){if(!n)throw new z(x.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function TN(e,t,n,r){if(t===!0&&r===!0)throw new z(x.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Km(e){if(!B.isDocumentKey(e))throw new z(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Wm(e){if(B.isDocumentKey(e))throw new z(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function md(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":H()}function sa(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new z(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=md(e);throw new z(x.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new z(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new z(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,TN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new z(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new z(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qm(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new VC;switch(n.type){case"gapi":const r=n.client;return new jC(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new z(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=Hm.get(t);n&&(V("ComponentProvider","Removing Datastore"),Hm.delete(t),n.terminate())}(this),Promise.resolve()}}function kN(e,t,n,r={}){var i;const s=(e=sa(e,eu))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==t&&vh("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=rt.MOCK_USER;else{o=Dv(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new z(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new rt(a)}e._authCredentials=new bC(new j0(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zn(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Yt(this.firestore,t,this._key)}}class tu{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new tu(this.firestore,t,this._query)}}class Zn extends tu{constructor(t,n,r){super(t,n,t1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Yt(this.firestore,null,new B(t))}withConverter(t){return new Zn(this.firestore,t,this._path)}}function K1(e,t,...n){if(e=kn(e),H1("collection","path",t),e instanceof eu){const r=ge.fromString(t,...n);return Wm(r),new Zn(e,null,r)}{if(!(e instanceof Yt||e instanceof Zn))throw new z(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ge.fromString(t,...n));return Wm(r),new Zn(e.firestore,null,r)}}function CN(e,t,...n){if(e=kn(e),arguments.length===1&&(t=H0.R()),H1("doc","path",t),e instanceof eu){const r=ge.fromString(t,...n);return Km(r),new Yt(e,null,new B(r))}{if(!(e instanceof Yt||e instanceof Zn))throw new z(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ge.fromString(t,...n));return Km(r),new Yt(e.firestore,e instanceof Zn?e.converter:null,new B(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new N1(this,"async_queue_retry"),this.Hc=()=>{const n=Wu();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ko.Vo()};const t=Wu();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Jc(),this.Yc(t)}enterRestrictedMode(t){if(!this.Kc){this.Kc=!0,this.zc=t||!1;const n=Wu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Hc)}}enqueue(t){if(this.Jc(),this.Kc)return new Promise(()=>{});const n=new Jn;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Uc.push(t),this.Zc()))}async Zc(){if(this.Uc.length!==0){try{await this.Uc[0](),this.Uc.shift(),this.ko.reset()}catch(t){if(!wo(t))throw t;V("AsyncQueue","Operation failed with retryable error: "+t)}this.Uc.length>0&&this.ko.vo(()=>this.Zc())}}Yc(t){const n=this.qc.then(()=>(this.jc=!0,t().catch(r=>{this.Qc=r,this.jc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw xn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.jc=!1,r))));return this.qc=n,n}enqueueAfterDelay(t,n,r){this.Jc(),this.Wc.indexOf(t)>-1&&(n=0);const i=hd.createAndSchedule(this,t,n,r,s=>this.Xc(s));return this.Gc.push(i),i}Jc(){this.Qc&&H()}verifyOperationInProgress(){}async ta(){let t;do t=this.qc,await t;while(t!==this.qc)}ea(t){for(const n of this.Gc)if(n.timerId===t)return!0;return!1}na(t){return this.ta().then(()=>{this.Gc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Gc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.ta()})}sa(t){this.Wc.push(t)}Xc(t){const n=this.Gc.indexOf(t);this.Gc.splice(n,1)}}class gd extends eu{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new xN,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||q1(this),this._firestoreClient.terminate()}}function IN(e,t){const n=typeof e=="object"?e:Uv(),r=typeof e=="string"?e:t||"(default)",i=$v(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Av("firestore");s&&kN(i,...s)}return i}function W1(e){return e._firestoreClient||q1(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function q1(e){var t;const n=e._freezeSettings(),r=function(i,s,o,l){return new ZC(i,s,o,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new gN(e._authCredentials,e._appCheckCredentials,e._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Oi(ct.fromBase64String(t))}catch(n){throw new z(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Oi(ct.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new z(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new z(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new z(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return se(this._lat,t._lat)||se(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=/^__.*__$/;class AN{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new br(t,this.data,this.fieldMask,n,this.fieldTransforms):new Eo(t,this.data,n,this.fieldTransforms)}}function G1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H()}}class wd{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.Tt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ia(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(t){return new wd(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.oa({path:r,ca:!1});return i.aa(t),i}ha(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.oa({path:r,ca:!1});return i.ia(),i}la(t){return this.oa({path:void 0,ca:!0})}fa(t){return oa(t,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}ia(){if(this.path)for(let t=0;t<this.path.length;t++)this.aa(this.path.get(t))}aa(t){if(t.length===0)throw this.fa("Document fields must not be empty");if(G1(this.ra)&&NN.test(t))throw this.fa('Document fields cannot begin and end with "__"')}}class DN{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.Tt=r||Ya(t)}wa(t,n,r,i=!1){return new wd({ra:t,methodName:n,_a:r,path:ot.emptyPath(),ca:!1,da:i},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function RN(e){const t=e._freezeSettings(),n=Ya(e._databaseId);return new DN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ON(e,t,n,r,i,s={}){const o=e.wa(s.merge||s.mergeFields?2:0,t,n,i);Z1("Data must be an object, but it was:",o,r);const l=Y1(r,o);let a,u;if(s.merge)a=new Qt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const d=PN(t,f,n);if(!o.contains(d))throw new z(x.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);$N(c,d)||c.push(d)}a=new Qt(c),u=o.fieldTransforms.filter(f=>a.covers(f.field))}else a=null,u=o.fieldTransforms;return new AN(new Ft(l),a,u)}function X1(e,t){if(J1(e=kn(e)))return Z1("Unsupported field value:",t,e),Y1(e,t);if(e instanceof Q1)return function(n,r){if(!G1(r.ra))throw r.fa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.fa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ca&&t.ra!==4)throw t.fa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let l=X1(o,r.la(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=kn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Ex(r.Tt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Fe.fromDate(n);return{timestampValue:ra(r.Tt,i)}}if(n instanceof Fe){const i=new Fe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ra(r.Tt,i)}}if(n instanceof vd)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Oi)return{bytesValue:E1(r.Tt,n._byteString)};if(n instanceof Yt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.fa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:rd(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.fa(`Unsupported field value: ${md(n)}`)}(e,t)}function Y1(e,t){const n={};return K0(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bi(e,(r,i)=>{const s=X1(i,t.ua(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function J1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Fe||e instanceof vd||e instanceof Oi||e instanceof Yt||e instanceof Q1)}function Z1(e,t,n){if(!J1(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=md(n);throw r==="an object"?t.fa(e+" a custom object"):t.fa(e+" "+r)}}function PN(e,t,n){if((t=kn(t))instanceof yd)return t._internalPath;if(typeof t=="string")return ew(e,t);throw oa("Field path arguments must be of type string or ",e,!1,void 0,n)}const LN=new RegExp("[~\\*/\\[\\]]");function ew(e,t,n){if(t.search(LN)>=0)throw oa(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new yd(...t.split("."))._internalPath}catch{throw oa(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function oa(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let a="";return(s||o)&&(a+=" (found",s&&(a+=` in field ${r}`),o&&(a+=` in document ${i}`),a+=")"),new z(x.INVALID_ARGUMENT,l+e+a)}function $N(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(nw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MN extends tw{data(){return super.data()}}function nw(e,t){return typeof t=="string"?ew(e,t):t instanceof yd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new z(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UN{convertValue(t,n="none"){switch(Lr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return De(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ii(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw H()}}convertObject(t,n){const r={};return Bi(t.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new vd(De(t.latitude),De(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=q0(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ys(t));default:return null}}convertTimestamp(t){const n=ir(t);return new Fe(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ge.fromString(t);ae(C1(r));const i=new Xs(r.get(1),r.get(3)),s=new B(r.popFirst(5));return i.isEqual(n)||xn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class bN extends tw{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new pl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(nw("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class pl extends bN{data(t={}){return super.data(t)}}class BN{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Go(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new pl(this._firestore,this._userDataWriter,r.key,r,new Go(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new z(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const l=new pl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Go(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new pl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Go(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let a=-1,u=-1;return o.type!==0&&(a=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:zN(o.type),doc:l,oldIndex:a,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function zN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H()}}class jN extends UN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Oi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function HN(e){e=sa(e,tu);const t=sa(e.firestore,gd),n=W1(t),r=new jN(t);return FN(e._query),_N(n,e._query).then(i=>new BN(t,r,e,i))}function KN(e,t){const n=sa(e.firestore,gd),r=CN(e),i=VN(e.converter,t);return WN(n,[ON(RN(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,wn.exists(!1))]).then(()=>r)}function WN(e,t){return function(n,r){const i=new Jn;return n.asyncQueue.enqueueAndForget(async()=>iN(await EN(n),r,i)),i.promise}(W1(e),t)}(function(e,t=!0){(function(n){bi=n})(Mv),zs(new ki("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new gd(new BC(n.getProvider("auth-internal")),new KC(n.getProvider("app-check-internal")),function(l,a){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new z(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xs(l.options.projectId,a)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Yn(vm,"3.8.4",e),Yn(vm,"3.8.4","esm2017")})();var qN="firebase",QN="9.17.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn(qN,QN,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="firebasestorage.googleapis.com",iw="storageBucket",GN=2*60*1e3,XN=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke extends Ur{constructor(t,n,r=0){super(qu(t),`Firebase Storage: ${n} (${qu(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ke.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return qu(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Te;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Te||(Te={}));function qu(e){return"storage/"+e}function Ed(){const e="An unknown error occurred, please check the error payload for server response.";return new ke(Te.UNKNOWN,e)}function YN(e){return new ke(Te.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function JN(e){return new ke(Te.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ZN(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ke(Te.UNAUTHENTICATED,e)}function eA(){return new ke(Te.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function tA(e){return new ke(Te.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function nA(){return new ke(Te.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rA(){return new ke(Te.CANCELED,"User canceled the upload/download.")}function iA(e){return new ke(Te.INVALID_URL,"Invalid URL '"+e+"'.")}function sA(e){return new ke(Te.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function oA(){return new ke(Te.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+iw+"' property when initializing the app?")}function lA(){return new ke(Te.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function aA(){return new ke(Te.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function uA(e){return new ke(Te.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Dh(e){return new ke(Te.INVALID_ARGUMENT,e)}function sw(){return new ke(Te.APP_DELETED,"The Firebase app was deleted.")}function cA(e){return new ke(Te.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ts(e,t){return new ke(Te.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function es(e){throw new ke(Te.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Nt.makeFromUrl(t,n)}catch{return new Nt(t,"")}if(r.path==="")return r;throw sA(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),a={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",y=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),v={bucket:1,path:3},w=n===rw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",p=new RegExp(`^https?://${w}/${i}/${T}`,"i"),m=[{regex:l,indices:a,postModify:s},{regex:y,indices:v,postModify:u},{regex:p,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<m.length;E++){const k=m[E],D=k.regex.exec(t);if(D){const R=D[k.indices.bucket];let $=D[k.indices.path];$||($=""),r=new Nt(R,$),k.postModify(r);break}}if(r==null)throw iA(t);return r}}class hA{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(e,t,n){let r=1,i=null,s=null,o=!1,l=0;function a(){return l===2}let u=!1;function c(...T){u||(u=!0,t.apply(null,T))}function f(T){i=setTimeout(()=>{i=null,e(y,a())},T)}function d(){s&&clearTimeout(s)}function y(T,...p){if(u){d();return}if(T){d(),c.call(null,T,...p);return}if(a()||o){d(),c.call(null,T,...p);return}r<64&&(r*=2);let m;l===1?(l=2,m=0):m=(r+Math.random())*1e3,f(m)}let v=!1;function w(T){v||(v=!0,d(),!u&&(i!==null?(T||(l=2),clearTimeout(i),f(0)):T||(l=1)))}return f(0),s=setTimeout(()=>{o=!0,w(!0)},n),w}function dA(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(e){return e!==void 0}function mA(e){return typeof e=="object"&&!Array.isArray(e)}function Sd(e){return typeof e=="string"||e instanceof String}function Qm(e){return _d()&&e instanceof Blob}function _d(){return typeof Blob<"u"&&!xT()}function Gm(e,t,n,r){if(r<t)throw Dh(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Dh(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function ow(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xr;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(xr||(xr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(t,n,r,i,s,o,l,a,u,c,f,d=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=a,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,v)=>{this.resolve_=y,this.reject_=v,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new Xo(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const a=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===xr.NO_ERROR,a=s.getStatus();if(!l||gA(a,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===xr.ABORT;r(!1,new Xo(!1,null,c));return}const u=this.successCodes_.indexOf(a)!==-1;r(!0,new Xo(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const a=this.callback_(l,l.getResponse());pA(a)?s(a):s()}catch(a){o(a)}else if(l!==null){const a=Ed();a.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,a)):o(a)}else if(i.canceled){const a=this.appDelete_?sw():rA();o(a)}else{const a=nA();o(a)}};this.canceled_?n(!1,new Xo(!1,null,!0)):this.backoffId_=fA(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&dA(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xo{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function vA(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function wA(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function EA(e,t){t&&(e["X-Firebase-GMPID"]=t)}function SA(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function _A(e,t,n,r,i,s,o=!0){const l=ow(e.urlParams),a=e.url+l,u=Object.assign({},e.headers);return EA(u,t),vA(u,n),wA(u,s),SA(u,r),new yA(a,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function kA(...e){const t=TA();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(_d())return new Blob(e);throw new ke(Te.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function CA(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(e){if(typeof atob>"u")throw uA("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qu{constructor(t,n){this.data=t,this.contentType=n||null}}function IA(e,t){switch(e){case rn.RAW:return new Qu(lw(t));case rn.BASE64:case rn.BASE64URL:return new Qu(aw(e,t));case rn.DATA_URL:return new Qu(AA(t),DA(t))}throw Ed()}function lw(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function NA(e){let t;try{t=decodeURIComponent(e)}catch{throw Ts(rn.DATA_URL,"Malformed data URL.")}return lw(t)}function aw(e,t){switch(e){case rn.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw Ts(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case rn.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw Ts(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=xA(t)}catch(i){throw i.message.includes("polyfill")?i:Ts(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class uw{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Ts(rn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=RA(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function AA(e){const t=new uw(e);return t.base64?aw(rn.BASE64,t.rest):NA(t.rest)}function DA(e){return new uw(e).contentType}function RA(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t,n){let r=0,i="";Qm(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(Qm(this.data_)){const r=this.data_,i=CA(r,t,n);return i===null?null:new Mn(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Mn(r,!0)}}static getBlob(...t){if(_d()){const n=t.map(r=>r instanceof Mn?r.data_:r);return new Mn(kA.apply(null,n))}else{const n=t.map(o=>Sd(o)?IA(rn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[s++]=o[l]}),new Mn(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(e){let t;try{t=JSON.parse(e)}catch{return null}return mA(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function PA(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function hw(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(e,t){return t}class ht{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||LA}}let Yo=null;function $A(e){return!Sd(e)||e.length<2?e:hw(e)}function fw(){if(Yo)return Yo;const e=[];e.push(new ht("bucket")),e.push(new ht("generation")),e.push(new ht("metageneration")),e.push(new ht("name","fullPath",!0));function t(s,o){return $A(o)}const n=new ht("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new ht("size");return i.xform=r,e.push(i),e.push(new ht("timeCreated")),e.push(new ht("updated")),e.push(new ht("md5Hash",null,!0)),e.push(new ht("cacheControl",null,!0)),e.push(new ht("contentDisposition",null,!0)),e.push(new ht("contentEncoding",null,!0)),e.push(new ht("contentLanguage",null,!0)),e.push(new ht("contentType",null,!0)),e.push(new ht("metadata","customMetadata",!0)),Yo=e,Yo}function MA(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new Nt(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function FA(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return MA(r,e),r}function dw(e,t,n){const r=cw(t);return r===null?null:FA(e,r,n)}function UA(e,t,n,r){const i=cw(t);if(i===null||!Sd(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=e.bucket,f=e.fullPath,d="/b/"+o(c)+"/o/"+o(f),y=Td(d,n,r),v=ow({alt:"media",token:u});return y+v})[0]}function VA(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class pw{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(e){if(!e)throw Ed()}function bA(e,t){function n(r,i){const s=dw(e,i,t);return mw(s!==null),s}return n}function BA(e,t){function n(r,i){const s=dw(e,i,t);return mw(s!==null),UA(s,i,e.host,e._protocol)}return n}function gw(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=eA():i=ZN():n.getStatus()===402?i=JN(e.bucket):n.getStatus()===403?i=tA(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function zA(e){const t=gw(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=YN(e.path)),s.serverResponse=i.serverResponse,s}return n}function jA(e,t,n){const r=t.fullServerUrl(),i=Td(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,l=new pw(i,s,BA(e,n),o);return l.errorHandler=zA(t),l}function HA(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function KA(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=HA(null,t)),r}function WA(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let m="";for(let E=0;E<2;E++)m=m+Math.random().toString().slice(2);return m}const a=l();o["Content-Type"]="multipart/related; boundary="+a;const u=KA(t,r,i),c=VA(u,n),f="--"+a+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+a+`\r
Content-Type: `+u.contentType+`\r
\r
`,d=`\r
--`+a+"--",y=Mn.getBlob(f,r,d);if(y===null)throw lA();const v={name:u.fullPath},w=Td(s,e.host,e._protocol),T="POST",p=e.maxUploadRetryTime,h=new pw(w,T,bA(e,n),p);return h.urlParams=v,h.headers=o,h.body=y.uploadData(),h.errorHandler=gw(t),h}class qA{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xr.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xr.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xr.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw es("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw es("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw es("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw es("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw es("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class QA extends qA{initXhr(){this.xhr_.responseType="text"}}function yw(){return new QA}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(t,n){this._service=t,n instanceof Nt?this._location=n:this._location=Nt.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new $r(t,n)}get root(){const t=new Nt(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hw(this._location.path)}get storage(){return this._service}get parent(){const t=OA(this._location.path);if(t===null)return null;const n=new Nt(this._location.bucket,t);return new $r(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw cA(t)}}function GA(e,t,n){e._throwIfRoot("uploadBytes");const r=WA(e.storage,e._location,fw(),new Mn(t,!0),n);return e.storage.makeRequestWithTokens(r,yw).then(i=>({metadata:i,ref:e}))}function XA(e){e._throwIfRoot("getDownloadURL");const t=jA(e.storage,e._location,fw());return e.storage.makeRequestWithTokens(t,yw).then(n=>{if(n===null)throw aA();return n})}function YA(e,t){const n=PA(e._location.path,t),r=new Nt(e._location.bucket,n);return new $r(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(e){return/^[A-Za-z]+:\/\//.test(e)}function ZA(e,t){return new $r(e,t)}function vw(e,t){if(e instanceof kd){const n=e;if(n._bucket==null)throw oA();const r=new $r(n,n._bucket);return t!=null?vw(r,t):r}else return t!==void 0?YA(e,t):e}function e2(e,t){if(t&&JA(t)){if(e instanceof kd)return ZA(e,t);throw Dh("To use ref(service, url), the first argument must be a Storage instance.")}else return vw(e,t)}function Xm(e,t){const n=t==null?void 0:t[iw];return n==null?null:Nt.makeFromBucketSpec(n,e)}function t2(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:Dv(i,e.app.options.projectId))}class kd{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=rw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=GN,this._maxUploadRetryTime=XN,this._requests=new Set,i!=null?this._bucket=Nt.makeFromBucketSpec(i,this._host):this._bucket=Xm(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Nt.makeFromBucketSpec(this._url,t):this._bucket=Xm(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Gm("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Gm("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new $r(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new hA(sw());{const o=_A(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const Ym="@firebase/storage",Jm="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="storage";function n2(e,t,n){return e=kn(e),GA(e,t,n)}function r2(e){return e=kn(e),XA(e)}function i2(e,t){return e=kn(e),e2(e,t)}function s2(e=Uv(),t){e=kn(e);const r=$v(e,ww).getImmediate({identifier:t}),i=Av("storage");return i&&o2(r,...i),r}function o2(e,t,n,r={}){t2(e,t,n,r)}function l2(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new kd(n,r,i,t,Mv)}function a2(){zs(new ki(ww,l2,"PUBLIC").setMultipleInstances(!0)),Yn(Ym,Jm,""),Yn(Ym,Jm,"esm2017")}a2();let Jo;const u2=new Uint8Array(16);function c2(){if(!Jo&&(Jo=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Jo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Jo(u2)}const Ke=[];for(let e=0;e<256;++e)Ke.push((e+256).toString(16).slice(1));function h2(e,t=0){return(Ke[e[t+0]]+Ke[e[t+1]]+Ke[e[t+2]]+Ke[e[t+3]]+"-"+Ke[e[t+4]]+Ke[e[t+5]]+"-"+Ke[e[t+6]]+Ke[e[t+7]]+"-"+Ke[e[t+8]]+Ke[e[t+9]]+"-"+Ke[e[t+10]]+Ke[e[t+11]]+Ke[e[t+12]]+Ke[e[t+13]]+Ke[e[t+14]]+Ke[e[t+15]]).toLowerCase()}const f2=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Zm={randomUUID:f2};function d2(e,t,n){if(Zm.randomUUID&&!t&&!e)return Zm.randomUUID();e=e||{};const r=e.random||(e.rng||c2)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return h2(r)}const p2={apiKey:"AIzaSyBb4sxLE_mmT_FJxeOk-LR69MEhYGWzo2k",authDomain:"publicaciones-e7581.firebaseapp.com",projectId:"publicaciones-e7581",storageBucket:"publicaciones-e7581.appspot.com",messagingSenderId:"993791789383",appId:"1:993791789383:web:ad4e031df5aaac17d56462"},m2=Fv(p2),g2=s2(m2),y2=d2(),v2=async e=>{const t=i2(g2,"publication/"+y2);return await n2(t,e),await r2(t)},Ew=IN(),w2=async e=>{await KN(K1(Ew,"publications"),e)};var Sw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},eg=pt.createContext&&pt.createContext(Sw),er=globalThis&&globalThis.__assign||function(){return er=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},er.apply(this,arguments)},E2=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function _w(e){return e&&e.map(function(t,n){return pt.createElement(t.tag,er({key:n},t.attr),_w(t.child))})}function nu(e){return function(t){return pt.createElement(S2,er({attr:er({},e.attr)},t),_w(e.child))}}function S2(e){var t=function(n){var r=e.attr,i=e.size,s=e.title,o=E2(e,["attr","size","title"]),l=i||n.size||"1em",a;return n.className&&(a=n.className),e.className&&(a=(a?a+" ":"")+e.className),pt.createElement("svg",er({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:a,style:er(er({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&pt.createElement("title",null,s),e.children)};return eg!==void 0?pt.createElement(eg.Consumer,null,function(n){return t(n)}):t(Sw)}function _2(e){return nu({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z"}}]})(e)}function T2(e){return nu({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}}]})(e)}function k2(e){return nu({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M464 512a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm200 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm-400 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 0 0-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 0 0-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 0 0 112 714v152a46 46 0 0 0 46 46h152.1A449.4 449.4 0 0 0 510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 0 0 142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"}}]})(e)}function C2(e){return nu({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 0 0 0-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]})(e)}const x2="/publicaciones/assets/avatarDefault-671fedaa.png";function I2({item:e}){const[t,n]=L.useState(!1),r=()=>n(!t);return Et("article",{className:"bg-[#28243f] w-full p-4 rounded-lg",children:[Et("div",{className:"flex items-center mb-3",children:[e.avatar?J("img",{className:"w-[40px] rounded-full self-center",alt:e.name,src:e.avatar}):J("img",{className:"w-[40px] h-[40px] object-cover rounded-full self-center",alt:e.name,src:x2}),Et("div",{className:"ml-2",children:[J("h5",{className:"font-semibold text-[14px]",children:e.name}),Et("p",{className:"font-normal text-[12px]",children:["Hace ",Math.ceil(Math.random()*31)," días"]})]})]}),J("picture",{className:"w-full",children:J("img",{className:"object-cover w-full h-full rounded-xl",alt:"",src:e.img})}),Et("div",{children:[Et("div",{className:"flex my-2 gap-2",children:[t?J(_2,{onClick:r,className:"text-[22px]",style:{color:"red"}}):J(T2,{onClick:r,className:"text-[22px]"}),J(k2,{className:"text-[22px]"}),J(C2,{className:"text-[22px]"})]}),J("div",{children:Et("p",{className:"text-[13px] font-normal",children:[Et("span",{className:"mr-1 font-semibold",children:[e.name,","]}),e.description]})})]})]})}function N2(){const[e,t]=L.useState([]);return L.useEffect(()=>{const n=K1(Ew,"publications");HN(n).then(r=>{const i=r.docs.map(s=>({id:s.id,...s.data()}));t(i)})},[]),J("section",{className:"w-full bg-[#171426] py-10 min-h-screen text-white flex items-center justify-center",children:Et("div",{className:"w-[1000px] max-[1100px]:w-[92%]",children:[J("h1",{className:"text-center text-[20px] mb-5",children:"Red Social"}),J("div",{className:"w-[700px] m-auto max-[780px]:w-full mb-5",children:J(dT,{to:"/createPublication",children:J("button",{className:"bg-[#2b2744] py-2 px-4 rounded-lg",children:"Crear Publicación"})})}),J("div",{className:"w-[700px] flex flex-col gap-5 m-auto max-[780px]:w-full",children:e.length===0?J("h1",{className:"text-center text-lg",children:"Cargando"}):e.map(n=>J(I2,{item:n},n.id))})]})})}var ko=e=>e.type==="checkbox",oi=e=>e instanceof Date,dt=e=>e==null;const Tw=e=>typeof e=="object";var be=e=>!dt(e)&&!Array.isArray(e)&&Tw(e)&&!oi(e),A2=e=>be(e)&&e.target?ko(e.target)?e.target.checked:e.target.value:e,D2=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,R2=(e,t)=>e.has(D2(t)),O2=e=>{const t=e.constructor&&e.constructor.prototype;return be(t)&&t.hasOwnProperty("isPrototypeOf")},Cd=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function pr(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Cd&&(e instanceof Blob||e instanceof FileList))&&(n||be(e)))if(t=n?[]:{},!Array.isArray(e)&&!O2(e))t=e;else for(const r in e)t[r]=pr(e[r]);else return e;return t}var Co=e=>Array.isArray(e)?e.filter(Boolean):[],Re=e=>e===void 0,F=(e,t,n)=>{if(!t||!be(e))return n;const r=Co(t.split(/[,[\].]+?/)).reduce((i,s)=>dt(i)?i:i[s],e);return Re(r)||r===e?Re(e[t])?n:e[t]:r};const tg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},qt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},fn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};pt.createContext(null);var P2=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==qt.all&&(t._proxyFormState[o]=!r||qt.all),n&&(n[o]=!0),e[o]}});return i},Lt=e=>be(e)&&!Object.keys(e).length,L2=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return Lt(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!r||qt.all))},Gu=e=>Array.isArray(e)?e:[e];function $2(e){const t=pt.useRef(e);t.current=e,pt.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}var sn=e=>typeof e=="string",M2=(e,t,n,r,i)=>sn(e)?(r&&t.watch.add(e),F(n,e,i)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),F(n,s))):(r&&(t.watchAll=!0),n),xd=e=>/^\w*$/.test(e),kw=e=>Co(e.replace(/["|']|\]/g,"").split(/\.|\[/));function de(e,t,n){let r=-1;const i=xd(t)?[t]:kw(t),s=i.length,o=s-1;for(;++r<s;){const l=i[r];let a=n;if(r!==o){const u=e[l];a=be(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}e[l]=a,e=e[l]}return e}var F2=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{};const Rh=(e,t,n)=>{for(const r of n||Object.keys(e)){const i=F(e,r);if(i){const{_f:s,...o}=i;if(s&&t(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else be(o)&&Rh(o,t)}}};var ng=e=>({isOnSubmit:!e||e===qt.onSubmit,isOnBlur:e===qt.onBlur,isOnChange:e===qt.onChange,isOnAll:e===qt.all,isOnTouch:e===qt.onTouched}),rg=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length)))),U2=(e,t,n)=>{const r=Co(F(e,n));return de(r,"root",t[n]),de(e,n,r),e},mi=e=>typeof e=="boolean",Id=e=>e.type==="file",gi=e=>typeof e=="function",la=e=>{if(!Cd)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ml=e=>sn(e),Nd=e=>e.type==="radio",aa=e=>e instanceof RegExp;const ig={value:!1,isValid:!1},sg={value:!0,isValid:!0};var Cw=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Re(e[0].attributes.value)?Re(e[0].value)||e[0].value===""?sg:{value:e[0].value,isValid:!0}:sg:ig}return ig};const og={isValid:!1,value:null};var xw=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,og):og;function lg(e,t,n="validate"){if(ml(e)||Array.isArray(e)&&e.every(ml)||mi(e)&&!e)return{type:n,message:ml(e)?e:"",ref:t}}var Hr=e=>be(e)&&!aa(e)?e:{value:e,message:""},ag=async(e,t,n,r,i)=>{const{ref:s,refs:o,required:l,maxLength:a,minLength:u,min:c,max:f,pattern:d,validate:y,name:v,valueAsNumber:w,mount:T,disabled:p}=e._f,h=F(t,v);if(!T||p)return{};const m=o?o[0]:s,E=Y=>{r&&m.reportValidity&&(m.setCustomValidity(mi(Y)?"":Y||""),m.reportValidity())},k={},D=Nd(s),R=ko(s),$=D||R,re=(w||Id(s))&&Re(s.value)&&Re(h)||la(s)&&s.value===""||h===""||Array.isArray(h)&&!h.length,q=F2.bind(null,v,n,k),Ce=(Y,X,he,Ze=fn.maxLength,et=fn.minLength)=>{const wt=Y?X:he;k[v]={type:Y?Ze:et,message:wt,ref:s,...q(Y?Ze:et,wt)}};if(i?!Array.isArray(h)||!h.length:l&&(!$&&(re||dt(h))||mi(h)&&!h||R&&!Cw(o).isValid||D&&!xw(o).isValid)){const{value:Y,message:X}=ml(l)?{value:!!l,message:l}:Hr(l);if(Y&&(k[v]={type:fn.required,message:X,ref:m,...q(fn.required,X)},!n))return E(X),k}if(!re&&(!dt(c)||!dt(f))){let Y,X;const he=Hr(f),Ze=Hr(c);if(!dt(h)&&!isNaN(h)){const et=s.valueAsNumber||h&&+h;dt(he.value)||(Y=et>he.value),dt(Ze.value)||(X=et<Ze.value)}else{const et=s.valueAsDate||new Date(h),wt=W=>new Date(new Date().toDateString()+" "+W),A=s.type=="time",j=s.type=="week";sn(he.value)&&h&&(Y=A?wt(h)>wt(he.value):j?h>he.value:et>new Date(he.value)),sn(Ze.value)&&h&&(X=A?wt(h)<wt(Ze.value):j?h<Ze.value:et<new Date(Ze.value))}if((Y||X)&&(Ce(!!Y,he.message,Ze.message,fn.max,fn.min),!n))return E(k[v].message),k}if((a||u)&&!re&&(sn(h)||i&&Array.isArray(h))){const Y=Hr(a),X=Hr(u),he=!dt(Y.value)&&h.length>Y.value,Ze=!dt(X.value)&&h.length<X.value;if((he||Ze)&&(Ce(he,Y.message,X.message),!n))return E(k[v].message),k}if(d&&!re&&sn(h)){const{value:Y,message:X}=Hr(d);if(aa(Y)&&!h.match(Y)&&(k[v]={type:fn.pattern,message:X,ref:s,...q(fn.pattern,X)},!n))return E(X),k}if(y){if(gi(y)){const Y=await y(h,t),X=lg(Y,m);if(X&&(k[v]={...X,...q(fn.validate,X.message)},!n))return E(X.message),k}else if(be(y)){let Y={};for(const X in y){if(!Lt(Y)&&!n)break;const he=lg(await y[X](h,t),m,X);he&&(Y={...he,...q(X,he.message)},E(he.message),n&&(k[v]=Y))}if(!Lt(Y)&&(k[v]={ref:m,...Y},!n))return k}}return E(!0),k};function V2(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Re(e)?r++:e[t[r++]];return e}function b2(e){for(const t in e)if(!Re(e[t]))return!1;return!0}function We(e,t){const n=Array.isArray(t)?t:xd(t)?[t]:kw(t),r=n.length===1?e:V2(e,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(be(r)&&Lt(r)||Array.isArray(r)&&b2(r))&&We(e,n.slice(0,-1)),e}function Xu(){let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}}var ua=e=>dt(e)||!Tw(e);function Sr(e,t){if(ua(e)||ua(t))return e===t;if(oi(e)&&oi(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const s=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=t[i];if(oi(s)&&oi(o)||be(s)&&be(o)||Array.isArray(s)&&Array.isArray(o)?!Sr(s,o):s!==o)return!1}}return!0}var Iw=e=>e.type==="select-multiple",B2=e=>Nd(e)||ko(e),Yu=e=>la(e)&&e.isConnected,Nw=e=>{for(const t in e)if(gi(e[t]))return!0;return!1};function ca(e,t={}){const n=Array.isArray(e);if(be(e)||n)for(const r in e)Array.isArray(e[r])||be(e[r])&&!Nw(e[r])?(t[r]=Array.isArray(e[r])?[]:{},ca(e[r],t[r])):dt(e[r])||(t[r]=!0);return t}function Aw(e,t,n){const r=Array.isArray(e);if(be(e)||r)for(const i in e)Array.isArray(e[i])||be(e[i])&&!Nw(e[i])?Re(t)||ua(n[i])?n[i]=Array.isArray(e[i])?ca(e[i],[]):{...ca(e[i])}:Aw(e[i],dt(t)?{}:t[i],n[i]):n[i]=!Sr(e[i],t[i]);return n}var Ju=(e,t)=>Aw(e,t,ca(t)),Dw=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Re(e)?e:t?e===""?NaN:e&&+e:n&&sn(e)?new Date(e):r?r(e):e;function Zu(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return Id(t)?t.files:Nd(t)?xw(e.refs).value:Iw(t)?[...t.selectedOptions].map(({value:n})=>n):ko(t)?Cw(e.refs).value:Dw(Re(t.value)?e.ref.value:t.value,e)}var z2=(e,t,n,r)=>{const i={};for(const s of e){const o=F(t,s);o&&de(i,s,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},ts=e=>Re(e)?e:aa(e)?e.source:be(e)?aa(e.value)?e.value.source:e.value:e,j2=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ug(e,t,n){const r=F(e,n);if(r||xd(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=F(t,s),l=F(e,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};i.pop()}return{name:n}}var H2=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,K2=(e,t)=>!Co(F(e,t)).length&&We(e,t);const W2={mode:qt.onSubmit,reValidateMode:qt.onChange,shouldFocusError:!0};function q2(e={},t){let n={...W2,...e},r={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},s=be(n.defaultValues)||be(n.values)?pr(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:pr(s),l={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Xu(),array:Xu(),state:Xu()},y=e.resetOptions&&e.resetOptions.keepDirtyValues,v=ng(n.mode),w=ng(n.reValidateMode),T=n.criteriaMode===qt.all,p=g=>S=>{clearTimeout(c),c=setTimeout(g,S)},h=async g=>{if(f.isValid||g){const S=n.resolver?Lt((await re()).errors):await Ce(i,!0);S!==r.isValid&&d.state.next({isValid:S})}},m=g=>f.isValidating&&d.state.next({isValidating:g}),E=(g,S=[],_,O,U=!0,N=!0)=>{if(O&&_){if(l.action=!0,N&&Array.isArray(F(i,g))){const b=_(F(i,g),O.argA,O.argB);U&&de(i,g,b)}if(N&&Array.isArray(F(r.errors,g))){const b=_(F(r.errors,g),O.argA,O.argB);U&&de(r.errors,g,b),K2(r.errors,g)}if(f.touchedFields&&N&&Array.isArray(F(r.touchedFields,g))){const b=_(F(r.touchedFields,g),O.argA,O.argB);U&&de(r.touchedFields,g,b)}f.dirtyFields&&(r.dirtyFields=Ju(s,o)),d.state.next({name:g,isDirty:X(g,S),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else de(o,g,S)},k=(g,S)=>{de(r.errors,g,S),d.state.next({errors:r.errors})},D=(g,S,_,O)=>{const U=F(i,g);if(U){const N=F(o,g,Re(_)?F(s,g):_);Re(N)||O&&O.defaultChecked||S?de(o,g,S?N:Zu(U._f)):et(g,N),l.mount&&h()}},R=(g,S,_,O,U)=>{let N=!1,b=!1;const Ne={name:g};if(!_||O){f.isDirty&&(b=r.isDirty,r.isDirty=Ne.isDirty=X(),N=b!==Ne.isDirty);const Ee=Sr(F(s,g),S);b=F(r.dirtyFields,g),Ee?We(r.dirtyFields,g):de(r.dirtyFields,g,!0),Ne.dirtyFields=r.dirtyFields,N=N||f.dirtyFields&&b!==!Ee}if(_){const Ee=F(r.touchedFields,g);Ee||(de(r.touchedFields,g,_),Ne.touchedFields=r.touchedFields,N=N||f.touchedFields&&Ee!==_)}return N&&U&&d.state.next(Ne),N?Ne:{}},$=(g,S,_,O)=>{const U=F(r.errors,g),N=f.isValid&&mi(S)&&r.isValid!==S;if(e.delayError&&_?(u=p(()=>k(g,_)),u(e.delayError)):(clearTimeout(c),u=null,_?de(r.errors,g,_):We(r.errors,g)),(_?!Sr(U,_):U)||!Lt(O)||N){const b={...O,...N&&mi(S)?{isValid:S}:{},errors:r.errors,name:g};r={...r,...b},d.state.next(b)}m(!1)},re=async g=>n.resolver(o,n.context,z2(g||a.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),q=async g=>{const{errors:S}=await re();if(g)for(const _ of g){const O=F(S,_);O?de(r.errors,_,O):We(r.errors,_)}else r.errors=S;return S},Ce=async(g,S,_={valid:!0})=>{for(const O in g){const U=g[O];if(U){const{_f:N,...b}=U;if(N){const Ne=a.array.has(N.name),Ee=await ag(U,o,T,n.shouldUseNativeValidation,Ne);if(Ee[N.name]&&(_.valid=!1,S))break;!S&&(F(Ee,N.name)?Ne?U2(r.errors,Ee,N.name):de(r.errors,N.name,Ee[N.name]):We(r.errors,N.name))}b&&await Ce(b,S,_)}}return _.valid},Y=()=>{for(const g of a.unMount){const S=F(i,g);S&&(S._f.refs?S._f.refs.every(_=>!Yu(_)):!Yu(S._f.ref))&&zt(g)}a.unMount=new Set},X=(g,S)=>(g&&S&&de(o,g,S),!Sr(fe(),s)),he=(g,S,_)=>M2(g,a,{...l.mount?o:Re(S)?s:sn(g)?{[g]:S}:S},_,S),Ze=g=>Co(F(l.mount?o:s,g,e.shouldUnregister?F(s,g,[]):[])),et=(g,S,_={})=>{const O=F(i,g);let U=S;if(O){const N=O._f;N&&(!N.disabled&&de(o,g,Dw(S,N)),U=la(N.ref)&&dt(S)?"":S,Iw(N.ref)?[...N.ref.options].forEach(b=>b.selected=U.includes(b.value)):N.refs?ko(N.ref)?N.refs.length>1?N.refs.forEach(b=>(!b.defaultChecked||!b.disabled)&&(b.checked=Array.isArray(U)?!!U.find(Ne=>Ne===b.value):U===b.value)):N.refs[0]&&(N.refs[0].checked=!!U):N.refs.forEach(b=>b.checked=b.value===U):Id(N.ref)?N.ref.value="":(N.ref.value=U,N.ref.type||d.values.next({name:g,values:{...o}})))}(_.shouldDirty||_.shouldTouch)&&R(g,U,_.shouldTouch,_.shouldDirty,!0),_.shouldValidate&&W(g)},wt=(g,S,_)=>{for(const O in S){const U=S[O],N=`${g}.${O}`,b=F(i,N);(a.array.has(g)||!ua(U)||b&&!b._f)&&!oi(U)?wt(N,U,_):et(N,U,_)}},A=(g,S,_={})=>{const O=F(i,g),U=a.array.has(g),N=pr(S);de(o,g,N),U?(d.array.next({name:g,values:{...o}}),(f.isDirty||f.dirtyFields)&&_.shouldDirty&&d.state.next({name:g,dirtyFields:Ju(s,o),isDirty:X(g,N)})):O&&!O._f&&!dt(N)?wt(g,N,_):et(g,N,_),rg(g,a)&&d.state.next({...r}),d.values.next({name:g,values:{...o}}),!l.mount&&t()},j=async g=>{const S=g.target;let _=S.name;const O=F(i,_),U=()=>S.type?Zu(O._f):A2(g);if(O){let N,b;const Ne=U(),Ee=g.type===tg.BLUR||g.type===tg.FOCUS_OUT,$w=!j2(O._f)&&!n.resolver&&!F(r.errors,_)&&!O._f.deps||H2(Ee,F(r.touchedFields,_),r.isSubmitted,w,v),ru=rg(_,a,Ee);de(o,_,Ne),Ee?(O._f.onBlur&&O._f.onBlur(g),u&&u(0)):O._f.onChange&&O._f.onChange(g);const iu=R(_,Ne,Ee,!1),Mw=!Lt(iu)||ru;if(!Ee&&d.values.next({name:_,type:g.type,values:{...o}}),$w)return f.isValid&&h(),Mw&&d.state.next({name:_,...ru?{}:iu});if(!Ee&&ru&&d.state.next({...r}),m(!0),n.resolver){const{errors:Od}=await re([_]),Fw=ug(r.errors,i,_),Pd=ug(Od,i,Fw.name||_);N=Pd.error,_=Pd.name,b=Lt(Od)}else N=(await ag(O,o,T,n.shouldUseNativeValidation))[_],N?b=!1:f.isValid&&(b=await Ce(i,!0));O._f.deps&&W(O._f.deps),$(_,b,N,iu)}},W=async(g,S={})=>{let _,O;const U=Gu(g);if(m(!0),n.resolver){const N=await q(Re(g)?g:U);_=Lt(N),O=g?!U.some(b=>F(N,b)):_}else g?(O=(await Promise.all(U.map(async N=>{const b=F(i,N);return await Ce(b&&b._f?{[N]:b}:b)}))).every(Boolean),!(!O&&!r.isValid)&&h()):O=_=await Ce(i);return d.state.next({...!sn(g)||f.isValid&&_!==r.isValid?{}:{name:g},...n.resolver||!g?{isValid:_}:{},errors:r.errors,isValidating:!1}),S.shouldFocus&&!O&&Rh(i,N=>N&&F(r.errors,N),g?U:a.mount),O},fe=g=>{const S={...s,...l.mount?o:{}};return Re(g)?S:sn(g)?F(S,g):g.map(_=>F(S,_))},xe=(g,S)=>({invalid:!!F((S||r).errors,g),isDirty:!!F((S||r).dirtyFields,g),isTouched:!!F((S||r).touchedFields,g),error:F((S||r).errors,g)}),zr=g=>{g&&Gu(g).forEach(S=>We(r.errors,S)),d.state.next({errors:g?r.errors:{}})},hn=(g,S,_)=>{const O=(F(i,g,{_f:{}})._f||{}).ref;de(r.errors,g,{...S,ref:O}),d.state.next({name:g,errors:r.errors,isValid:!1}),_&&_.shouldFocus&&O&&O.focus&&O.focus()},Hi=(g,S)=>gi(g)?d.values.subscribe({next:_=>g(he(void 0,S),_)}):he(g,S,!0),zt=(g,S={})=>{for(const _ of g?Gu(g):a.mount)a.mount.delete(_),a.array.delete(_),F(i,_)&&(S.keepValue||(We(i,_),We(o,_)),!S.keepError&&We(r.errors,_),!S.keepDirty&&We(r.dirtyFields,_),!S.keepTouched&&We(r.touchedFields,_),!n.shouldUnregister&&!S.keepDefaultValue&&We(s,_));d.values.next({values:{...o}}),d.state.next({...r,...S.keepDirty?{isDirty:X()}:{}}),!S.keepIsValid&&h()},Dn=(g,S={})=>{let _=F(i,g);const O=mi(S.disabled);return de(i,g,{..._||{},_f:{..._&&_._f?_._f:{ref:{name:g}},name:g,mount:!0,...S}}),a.mount.add(g),_?O&&de(o,g,S.disabled?void 0:F(o,g,Zu(_._f))):D(g,!0,S.value),{...O?{disabled:S.disabled}:{},...n.shouldUseNativeValidation?{required:!!S.required,min:ts(S.min),max:ts(S.max),minLength:ts(S.minLength),maxLength:ts(S.maxLength),pattern:ts(S.pattern)}:{},name:g,onChange:j,onBlur:j,ref:U=>{if(U){Dn(g,S),_=F(i,g);const N=Re(U.value)&&U.querySelectorAll&&U.querySelectorAll("input,select,textarea")[0]||U,b=B2(N),Ne=_._f.refs||[];if(b?Ne.find(Ee=>Ee===N):N===_._f.ref)return;de(i,g,{_f:{..._._f,...b?{refs:[...Ne.filter(Yu),N,...Array.isArray(F(s,g))?[{}]:[]],ref:{type:N.type,name:g}}:{ref:N}}}),D(g,!1,void 0,N)}else _=F(i,g,{}),_._f&&(_._f.mount=!1),(n.shouldUnregister||S.shouldUnregister)&&!(R2(a.array,g)&&l.action)&&a.unMount.add(g)}}},Ad=()=>n.shouldFocusError&&Rh(i,g=>g&&F(r.errors,g),a.mount),Rw=(g,S)=>async _=>{_&&(_.preventDefault&&_.preventDefault(),_.persist&&_.persist());let O=pr(o);if(d.state.next({isSubmitting:!0}),n.resolver){const{errors:U,values:N}=await re();r.errors=U,O=N}else await Ce(i);We(r.errors,"root"),Lt(r.errors)?(d.state.next({errors:{}}),await g(O,_)):(S&&await S({...r.errors},_),Ad(),setTimeout(Ad)),d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Lt(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Ow=(g,S={})=>{F(i,g)&&(Re(S.defaultValue)?A(g,F(s,g)):(A(g,S.defaultValue),de(s,g,S.defaultValue)),S.keepTouched||We(r.touchedFields,g),S.keepDirty||(We(r.dirtyFields,g),r.isDirty=S.defaultValue?X(g,F(s,g)):X()),S.keepError||(We(r.errors,g),f.isValid&&h()),d.state.next({...r}))},Dd=(g,S={})=>{const _=g||s,O=pr(_),U=g&&!Lt(g)?O:s;if(S.keepDefaultValues||(s=_),!S.keepValues){if(S.keepDirtyValues||y)for(const N of a.mount)F(r.dirtyFields,N)?de(U,N,F(o,N)):A(N,F(U,N));else{if(Cd&&Re(g))for(const N of a.mount){const b=F(i,N);if(b&&b._f){const Ne=Array.isArray(b._f.refs)?b._f.refs[0]:b._f.ref;if(la(Ne)){const Ee=Ne.closest("form");if(Ee){Ee.reset();break}}}}i={}}o=e.shouldUnregister?S.keepDefaultValues?pr(s):{}:O,d.array.next({values:{...U}}),d.values.next({values:{...U}})}a={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&t(),l.mount=!f.isValid||!!S.keepIsValid,l.watch=!!e.shouldUnregister,d.state.next({submitCount:S.keepSubmitCount?r.submitCount:0,isDirty:S.keepDirty?r.isDirty:!!(S.keepDefaultValues&&!Sr(g,s)),isSubmitted:S.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:S.keepDirtyValues?r.dirtyFields:S.keepDefaultValues&&g?Ju(s,g):{},touchedFields:S.keepTouched?r.touchedFields:{},errors:S.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Rd=(g,S)=>Dd(gi(g)?g(o):g,S),Pw=(g,S={})=>{const _=F(i,g),O=_&&_._f;if(O){const U=O.refs?O.refs[0]:O.ref;U.focus&&(U.focus(),S.shouldSelect&&U.select())}},Lw=g=>{r={...r,...g}};return gi(n.defaultValues)&&n.defaultValues().then(g=>{Rd(g,n.resetOptions),d.state.next({isLoading:!1})}),{control:{register:Dn,unregister:zt,getFieldState:xe,_executeSchema:re,_getWatch:he,_getDirty:X,_updateValid:h,_removeUnmounted:Y,_updateFieldArray:E,_getFieldArray:Ze,_reset:Dd,_updateFormState:Lw,_subjects:d,_proxyFormState:f,get _fields(){return i},get _formValues(){return o},get _state(){return l},set _state(g){l=g},get _defaultValues(){return s},get _names(){return a},set _names(g){a=g},get _formState(){return r},set _formState(g){r=g},get _options(){return n},set _options(g){n={...n,...g}}},trigger:W,register:Dn,handleSubmit:Rw,watch:Hi,setValue:A,getValues:fe,reset:Rd,resetField:Ow,clearErrors:zr,unregister:zt,setError:hn,setFocus:Pw,getFieldState:xe}}function Q2(e={}){const t=pt.useRef(),[n,r]=pt.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:gi(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...q2(e,()=>r(s=>({...s}))),formState:n});const i=t.current.control;return i._options=e,$2({subject:i._subjects.state,next:s=>{L2(s,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),pt.useEffect(()=>{e.values&&!Sr(e.values,i._defaultValues)&&i._reset(e.values,i._options.resetOptions)},[e.values,i]),pt.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=P2(n,i),t.current}function G2(){var c,f,d,y;const[e,t]=L.useState(null),n=Cv(),{register:r,formState:{errors:i},handleSubmit:s,reset:o}=Q2(),l=async v=>{console.log(v.target.files[0]),t(null);try{const w=await v2(v.target.files[0]);t(w)}catch(w){console.log(w),alert("Algo salió mal al subir la imagen, intente otra vez")}},a=v=>{t(null);try{w2({...v,img:e}),n("/")}catch(w){console.log(w)}},u=()=>e===null?J("button",{disabled:!0,className:"bg-[#272244] text-[#5e5e5f] py-2 rounded-lg",children:"Publicar"}):J("button",{className:"bg-[#171426] py-2 rounded-lg",children:"Publicar"});return J("section",{className:"w-full min-h-screen bg-[#171426] text-white flex items-center justify-center",children:Et("form",{onSubmit:s(a),className:"bg-[#2d2749] rounded-md p-4 w-[500px] max-[510px]:w-[90%] flex flex-col gap-4 overflow-hidden",children:[Et("div",{children:[J("input",{className:"w-full outline-none bg-[#171426] py-2 px-4 rounded-lg",placeholder:"Ingrese su nombre",...r("name",{required:!0,minLength:5})}),((c=i.name)==null?void 0:c.type)==="required"&&J("span",{className:"text-red-500",children:"Campo Requerido"}),((f=i.name)==null?void 0:f.type)==="minLength"&&J("span",{className:"text-red-500",children:"Mínimo 5 caracteres"})]}),Et("div",{children:[J("textarea",{className:"w-full outline-none h-[100px] bg-[#171426] py-2 px-4 rounded-lg resize-none",placeholder:"Esccriba una breve descripción",...r("description",{required:!0,minLength:15})}),((d=i.name)==null?void 0:d.type)==="required"&&J("span",{className:"text-red-500",children:"Campo Requerido"}),((y=i.name)==null?void 0:y.type)==="minLength"&&J("span",{className:"text-red-500",children:"Mínimo 15 caracteres"})]}),Et("div",{children:[J("label",{children:"Elija imagen a publicar"}),J("input",{onChange:l,className:"text-[14px]",type:"file"})]}),J(u,{})]})})}function X2(){return Et(sT,{children:[J(Jc,{path:"/",element:J(N2,{})}),J(Jc,{path:"/createPublication",element:J(G2,{})})]})}tc.createRoot(document.getElementById("root")).render(J(cT,{children:J(X2,{})}));
